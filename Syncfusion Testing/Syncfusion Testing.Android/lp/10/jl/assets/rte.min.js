! function(e) {
    var t = {};

    function n(i) {
        if (t[i]) return t[i].exports;
        var r = t[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(r.exports, r, r.exports, n), r.l = !0, r.exports
    }
    n.m = e, n.c = t, n.d = function(e, t, i) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: i
        })
    }, n.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, n.t = function(e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var i = Object.create(null);
        if (n.r(i), Object.defineProperty(i, "default", {
                enumerable: !0,
                value: e
            }), 2 & t && "string" != typeof e)
            for (var r in e) n.d(i, r, function(t) {
                return e[t]
            }.bind(null, r));
        return i
    }, n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        } : function() {
            return e
        };
        return n.d(t, "a", t), t
    }, n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "", n(n.s = 3)
}({
    3: function(e, t, n) {
        "use strict";
        n.r(t);
        var i = !1;

        function r(e, t) {
            var n = t;
            return n.unshift(void 0), new(Function.prototype.bind.apply(e, n))
        }

        function o(e, t) {
            for (var n = t, i = e.replace(/\[/g, ".").replace(/\]/g, "").split("."), r = 0; r < i.length && !p(n); r++) n = n[i[r]];
            return n
        }

        function a(e, t, n) {
            var i, r, o = e.replace(/\[/g, ".").replace(/\]/g, "").split("."),
                a = n || {},
                s = a,
                l = o.length;
            for (i = 0; i < l; i++) r = o[i], i + 1 === l ? s[r] = void 0 === t ? {} : t : h(s[r]) && (s[r] = {}), s = s[r];
            return a
        }

        function s(e) {
            return !h(e) && e.constructor === {}.constructor
        }

        function l(e, t) {
            return e[t]
        }

        function d(e, t) {
            if (!h(t))
                for (var n = e, i = t, r = 0, o = Object.keys(t); r < o.length; r++) {
                    var a = o[r];
                    h(n.deepMerge) || -1 === n.deepMerge.indexOf(a) || !s(i[a]) && !Array.isArray(i[a]) ? n[a] = i[a] : c(n[a], n[a], i[a], !0)
                }
        }

        function c(e, t, n, i) {
            var r = e && "object" == typeof e ? e : {},
                o = arguments.length;
            i && (o -= 1);
            for (var a = function(e) {
                    if (!l[e]) return "continue";
                    var t = l[e];
                    Object.keys(t).forEach((function(e) {
                        var n, o = r[e],
                            a = t[e],
                            l = Array.isArray(a) && Array.isArray(o) && a.length !== o.length,
                            d = !g() || !(o instanceof Event || l);
                        i && d && (s(a) || Array.isArray(a)) ? s(a) ? (n = o || {}, Array.isArray(n) && n.hasOwnProperty("isComplexArray") ? c(n, {}, a, i) : r[e] = c(n, {}, a, i)) : (n = o || [], r[e] = c([], n, a, i)) : r[e] = a
                    }))
                }, l = arguments, d = 1; d < o; d++) a(d);
            return r
        }

        function h(e) {
            return null == e
        }

        function p(e) {
            return void 0 === e
        }

        function u(e, t) {
            var n;
            return function() {
                var i = this,
                    r = arguments,
                    o = function() {
                        return n = null, e.apply(i, r)
                    };
                clearTimeout(n), n = setTimeout(o, t)
            }
        }

        function m(e) {
            try {
                throw new Error(e)
            } catch (e) {
                throw e.message + "\n" + e.stack
            }
        }

        function f(e) {
            var t = e + "";
            return "auto" === t || -1 !== t.indexOf("%") || -1 !== t.indexOf("px") ? t : t + "px"
        }

        function g() {
            return i
        }
        var y = function() {
                function e() {}
                return e.addOrGetEventData = function(e) {
                    return "__eventList" in e ? e.__eventList.events : (e.__eventList = {}, e.__eventList.events = [])
                }, e.add = function(t, n, i, r, o) {
                    var a, s = e.addOrGetEventData(t);
                    a = o ? u(i, o) : i, r && (a = a.bind(r));
                    for (var l = n.split(" "), d = 0; d < l.length; d++) s.push({
                        name: l[d],
                        listener: i,
                        debounce: a
                    }), t.addEventListener(l[d], a);
                    return a
                }, e.remove = function(t, n, i) {
                    for (var r = e.addOrGetEventData(t), o = n.split(" "), a = function(e) {
                            var n, a = -1;
                            r && 0 !== r.length && r.some((function(t, r) {
                                return t.name === o[e] && t.listener === i && (a = r, n = t.debounce, !0)
                            })), -1 !== a && r.splice(a, 1), n && t.removeEventListener(o[e], n)
                        }, s = 0; s < o.length; s++) a(s)
                }, e.clearEvents = function(t) {
                    var n, i;
                    i = c([], i, n = e.addOrGetEventData(t));
                    for (var r = 0; r < i.length; r++) t.removeEventListener(i[r].name, i[r].debounce), n.shift()
                }, e.trigger = function(t, n, i) {
                    for (var r = 0, o = e.addOrGetEventData(t); r < o.length; r++) {
                        var a = o[r];
                        a.name === n && a.debounce.call(this, i)
                    }
                }, e
            }(),
            v = /^svg|^path|^g/;

        function b(e, t) {
            var n = v.test(e) ? document.createElementNS("http://www.w3.org/2000/svg", e) : document.createElement(e);
            return void 0 === t ? n : (n.innerHTML = t.innerHTML ? t.innerHTML : "", void 0 !== t.className && (n.className = t.className), void 0 !== t.id && (n.id = t.id), void 0 !== t.styles && n.setAttribute("style", t.styles), void 0 !== t.attrs && x(n, t.attrs), n)
        }

        function C(e, t) {
            for (var n = E(t), i = 0, r = e; i < r.length; i++)
                for (var o = r[i], a = 0, s = n; a < s.length; a++) {
                    var l = s[a];
                    o.classList.contains(l) || o.classList.add(l)
                }
            return e
        }

        function N(e, t) {
            for (var n = E(t), i = 0, r = e; i < r.length; i++) {
                var o = r[i];
                if ("" !== o.className)
                    for (var a = 0, s = n; a < s.length; a++) {
                        var l = s[a];
                        o.classList.remove(l)
                    }
            }
            return e
        }

        function E(e) {
            var t = [];
            return "string" == typeof e ? t.push(e) : t = e, t
        }

        function w(e, t, n) {
            for (var i = document.createDocumentFragment(), r = 0, o = e; r < o.length; r++) {
                var a = o[r];
                i.appendChild(a)
            }
            return t.insertBefore(i, t.firstElementChild), n && M(t), e
        }

        function S(e, t, n) {
            for (var i = document.createDocumentFragment(), r = 0, o = e; r < o.length; r++) {
                var a = o[r];
                i.appendChild(a)
            }
            return t.appendChild(i), n && M(t), e
        }

        function M(e) {
            e.querySelectorAll("script").forEach((function(e) {
                var t = document.createElement("script");
                t.text = e.innerHTML, document.head.appendChild(t), T(t)
            }))
        }

        function T(e) {
            return e.parentNode.removeChild(e)
        }

        function x(e, t) {
            for (var n = e, i = 0, r = Object.keys(t); i < r.length; i++) {
                var o = r[i];
                n.setAttribute(o, t[o])
            }
            return n
        }

        function L(e, t) {
            return void 0 === t && (t = document), t.querySelector(e)
        }

        function k(e, t) {
            return void 0 === t && (t = document), t.querySelectorAll(e)
        }

        function D(e, t) {
            var n = e;
            if ("function" == typeof n.closest) return n.closest(t);
            for (; n && 1 === n.nodeType;) {
                if (P(n, t)) return n;
                n = n.parentNode
            }
            return null
        }

        function O(e, t) {
            void 0 !== t && Object.keys(t).forEach((function(n) {
                e.style[n] = t[n]
            }))
        }

        function P(e, t) {
            var n = e.matches || e.msMatchesSelector || e.webkitMatchesSelector;
            return n ? n.call(e, t) : -1 !== [].indexOf.call(document.querySelectorAll(t), e)
        }
        var R = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,
            A = /msie|trident/i,
            I = /Trident\/7\./,
            H = /(ipad|iphone|ipod touch)/i,
            B = /(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,
            j = /android/i,
            F = /trident|windows phone|edge/i,
            z = /(version)[ \/]([\w.]+)/i,
            _ = {
                OPERA: /(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,
                EDGE: /(edge)(?:.*version|)[ \/]([\w.]+)/i,
                CHROME: /(chrome|crios)[ \/]([\w.]+)/i,
                PANTHOMEJS: /(phantomjs)[ \/]([\w.]+)/i,
                SAFARI: /(safari)[ \/]([\w.]+)/i,
                WEBKIT: /(webkit)[ \/]([\w.]+)/i,
                MSIE: /(msie|trident) ([\w.]+)/i,
                MOZILLA: /(mozilla)(?:.*? rv:([\w.]+)|)/i
            };
        "undefined" != typeof window && (window.browserDetails = window.browserDetails || {});
        var q = function() {
            function e() {}
            return e.extractBrowserDetail = function() {
                for (var t = {
                        culture: {}
                    }, n = [], i = 0, r = Object.keys(_); i < r.length; i++) {
                    var o = r[i];
                    if (n = e.userAgent.match(_[o])) {
                        if (t.name = "opr" === n[1].toLowerCase() ? "opera" : n[1].toLowerCase(), t.name = "crios" === n[1].toLowerCase() ? "chrome" : t.name, t.version = n[2], t.culture.name = t.culture.language = navigator.language, e.userAgent.match(I)) {
                            t.name = "msie";
                            break
                        }
                        var a = e.userAgent.match(z);
                        "safari" === t.name && a && (t.version = a[2]);
                        break
                    }
                }
                return t
            }, e.getEvent = function(t) {
                var n = {
                    start: {
                        isPointer: "pointerdown",
                        isTouch: "touchstart",
                        isDevice: "mousedown"
                    },
                    move: {
                        isPointer: "pointermove",
                        isTouch: "touchmove",
                        isDevice: "mousemove"
                    },
                    end: {
                        isPointer: "pointerup",
                        isTouch: "touchend",
                        isDevice: "mouseup"
                    },
                    cancel: {
                        isPointer: "pointercancel",
                        isTouch: "touchcancel",
                        isDevice: "mouseleave"
                    }
                };
                return e.isPointer ? n[t].isPointer : e.isTouch ? n[t].isTouch + (e.isDevice ? "" : " " + n[t].isDevice) : n[t].isDevice
            }, e.getTouchStartEvent = function() {
                return e.getEvent("start")
            }, e.getTouchEndEvent = function() {
                return e.getEvent("end")
            }, e.getTouchMoveEvent = function() {
                return e.getEvent("move")
            }, e.getTouchCancelEvent = function() {
                return e.getEvent("cancel")
            }, e.getValue = function(t, n) {
                var i = window.browserDetails;
                return void 0 === i[t] ? i[t] = n.test(e.userAgent) : i[t]
            }, Object.defineProperty(e, "userAgent", {
                get: function() {
                    return e.uA
                },
                set: function(t) {
                    e.uA = t, window.browserDetails = {}
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "info", {
                get: function() {
                    return p(window.browserDetails.info) ? window.browserDetails.info = e.extractBrowserDetail() : window.browserDetails.info
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isIE", {
                get: function() {
                    return e.getValue("isIE", A)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isTouch", {
                get: function() {
                    return p(window.browserDetails.isTouch) ? window.browserDetails.isTouch = "ontouchstart" in window : window.browserDetails.isTouch
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isPointer", {
                get: function() {
                    return p(window.browserDetails.isPointer) ? window.browserDetails.isPointer = "pointerEnabled" in window.navigator : window.browserDetails.isPointer
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isMSPointer", {
                get: function() {
                    return p(window.browserDetails.isMSPointer) ? window.browserDetails.isMSPointer = "msPointerEnabled" in window.navigator : window.browserDetails.isMSPointer
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isDevice", {
                get: function() {
                    return e.getValue("isDevice", R)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isIos", {
                get: function() {
                    return e.getValue("isIos", H)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isIos7", {
                get: function() {
                    return e.getValue("isIos7", B)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isAndroid", {
                get: function() {
                    return e.getValue("isAndroid", j)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isWebView", {
                get: function() {
                    return p(window.browserDetails.isWebView) ? (window.browserDetails.isWebView = !(p(window.cordova) && p(window.PhoneGap) && p(window.phonegap) && "object" !== window.forge), window.browserDetails.isWebView) : window.browserDetails.isWebView
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "isWindows", {
                get: function() {
                    return e.getValue("isWindows", F)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "touchStartEvent", {
                get: function() {
                    return p(window.browserDetails.touchStartEvent) ? window.browserDetails.touchStartEvent = e.getTouchStartEvent() : window.browserDetails.touchStartEvent
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "touchMoveEvent", {
                get: function() {
                    return p(window.browserDetails.touchMoveEvent) ? window.browserDetails.touchMoveEvent = e.getTouchMoveEvent() : window.browserDetails.touchMoveEvent
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "touchEndEvent", {
                get: function() {
                    return p(window.browserDetails.touchEndEvent) ? window.browserDetails.touchEndEvent = e.getTouchEndEvent() : window.browserDetails.touchEndEvent
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e, "touchCancelEvent", {
                get: function() {
                    return p(window.browserDetails.touchCancelEvent) ? window.browserDetails.touchCancelEvent = e.getTouchCancelEvent() : window.browserDetails.touchCancelEvent
                },
                enumerable: !0,
                configurable: !0
            }), e.uA = "undefined" != typeof navigator ? navigator.userAgent : "", e
        }();

        function G(e, t, n, i) {
            return e.properties.hasOwnProperty(t) && e.properties[t] instanceof i || (e.properties[t] = r(i, [e, t, n])), e.properties[t]
        }

        function U(e, t) {
            return function() {
                return this.properties.hasOwnProperty(t) || (this.properties[t] = e), this.properties[t]
            }
        }

        function V(e, t) {
            return function(n) {
                if (this.properties[t] !== n) {
                    var i = this.properties.hasOwnProperty(t) ? this.properties[t] : e;
                    this.saveChanges(t, n, i), this.properties[t] = n
                }
            }
        }

        function W(e, t, n) {
            return function() {
                return G(this, t, e, n)
            }
        }

        function K(e, t, n) {
            return function(i) {
                G(this, t, e, n).setProperties(i)
            }
        }

        function J(e) {
            return function(t, n) {
                var i = {
                    set: V(e, n),
                    get: U(e, n),
                    enumerable: !0,
                    configurable: !0
                };
                Object.defineProperty(t, n, i), Q(t, n, "prop", e)
            }
        }

        function X(e, t) {
            return function(n, i) {
                var r = {
                    set: K(e, i, t),
                    get: W(e, i, t),
                    enumerable: !0,
                    configurable: !0
                };
                Object.defineProperty(n, i, r), Q(n, i, "complexProp", e, t)
            }
        }

        function Y() {
            return function(e, t) {
                var n = {
                    set: function(e) {
                        var n = this.properties[t];
                        if (n !== e) {
                            var i = function e(t, n) {
                                if (!1 === t.hasOwnProperty("parentObj")) return {
                                    context: t,
                                    prefix: n
                                };
                                var i = o("propName", t);
                                return i && (n = i + "-" + n), e(o("parentObj", t), n)
                            }(this, t);
                            !1 === p(n) && i.context.removeEventListener(i.prefix, n), i.context.addEventListener(i.prefix, e), this.properties[t] = e
                        }
                    },
                    get: U(void 0, t),
                    enumerable: !0,
                    configurable: !0
                };
                Object.defineProperty(e, t, n), Q(e, t, "event")
            }
        }

        function $(e) {}

        function Q(e, t, n, i, r) {
            p(e.propList) && (e.propList = {
                props: [],
                complexProps: [],
                colProps: [],
                events: [],
                propNames: [],
                complexPropNames: [],
                colPropNames: [],
                eventNames: []
            }), e.propList[n + "s"].push({
                propertyName: t,
                defaultValue: i,
                type: r
            }), e.propList[n + "Names"].push(t)
        }
        var Z = function() {
                function e(e) {
                    this.loadedModules = [], this.parent = e
                }
                return e.prototype.inject = function(e, t) {
                    var n = e.length;
                    if (0 !== n) {
                        this.loadedModules.length && this.clearUnusedModule(e);
                        for (var i = 0; i < n; i++)
                            for (var o = e[i], s = 0, l = t; s < l.length; s++) {
                                var d = l[s],
                                    c = o.member;
                                if (d.prototype.getModuleName() === o.member && !this.isModuleLoaded(c)) {
                                    var h = r(d, o.args),
                                        p = this.getMemberName(c);
                                    o.isProperty ? a(p, d, this.parent) : a(p, h, this.parent);
                                    var u = o;
                                    u.member = p, this.loadedModules.push(u)
                                }
                            }
                    } else this.clean()
                }, e.prototype.clean = function() {
                    for (var e = 0, t = this.loadedModules; e < t.length; e++) {
                        var n = t[e];
                        n.isProperty || o(n.member, this.parent).destroy()
                    }
                    this.loadedModules = []
                }, e.prototype.clearUnusedModule = function(e) {
                    for (var t, n, i = this, r = e.map((function(e) {
                            return i.getMemberName(e.member)
                        })), a = 0, s = this.loadedModules.filter((function(e) {
                            return -1 === r.indexOf(e.member)
                        })); a < s.length; a++) {
                        var l = s[a];
                        l.isProperty || o(l.member, this.parent).destroy(), this.loadedModules.splice(this.loadedModules.indexOf(l), 1), t = this.parent, n = l.member, delete t[n]
                    }
                }, e.prototype.getMemberName = function(e) {
                    return e[0].toLowerCase() + e.substring(1) + "Module"
                }, e.prototype.isModuleLoaded = function(e) {
                    for (var t = 0, n = this.loadedModules; t < n.length; t++) {
                        if (n[t].member === this.getMemberName(e)) return !0
                    }
                    return !1
                }, e
            }(),
            ee = function() {
                function e(e) {
                    this.ranArray = [], this.boundedEvents = {}, h(e) || (this.context = e)
                }
                return e.prototype.on = function(e, t, n, i) {
                    if (!h(t)) {
                        var r = n || this.context;
                        this.notExist(e) ? this.boundedEvents[e] = [{
                            handler: t,
                            context: r
                        }] : h(i) ? this.isHandlerPresent(this.boundedEvents[e], t) || this.boundedEvents[e].push({
                            handler: t,
                            context: r
                        }) : -1 === this.ranArray.indexOf(i) && (this.ranArray.push(i), this.boundedEvents[e].push({
                            handler: t,
                            context: r,
                            id: i
                        }))
                    }
                }, e.prototype.off = function(e, t, n) {
                    if (!this.notExist(e)) {
                        var i = o(e, this.boundedEvents);
                        if (t) {
                            for (var r = 0; r < i.length; r++)
                                if (n) {
                                    if (i[r].id === n) {
                                        i.splice(r, 1);
                                        var a = this.ranArray.indexOf(n); - 1 !== a && this.ranArray.splice(a, 1);
                                        break
                                    }
                                } else if (t === i[r].handler) {
                                i.splice(r, 1);
                                break
                            }
                        } else delete this.boundedEvents[e]
                    }
                }, e.prototype.notify = function(e, t, n, i) {
                    if (this.notExist(e)) n && n.call(this, t);
                    else {
                        t && (t.name = e);
                        var r = o(e, this.boundedEvents).slice(0);
                        if (window.Blazor) return this.blazorCallback(r, t, n, i, 0);
                        for (var a = 0, s = r; a < s.length; a++) {
                            var l = s[a];
                            l.handler.call(l.context, t)
                        }
                        n && n.call(this, t)
                    }
                }, e.prototype.blazorCallback = function(e, t, n, i, r) {
                    var o = this,
                        a = r === e.length - 1;
                    if (r < e.length) {
                        var s = e[r],
                            l = s.handler.call(s.context, t);
                        if (l && "function" == typeof l.then) {
                            if (!n) return l;
                            l.then((function(l) {
                                if (l = "string" == typeof l && o.isJson(l) ? JSON.parse(l) : l, c(t, t, l, !0), !n || !a) return o.blazorCallback(e, t, n, i, r + 1);
                                n.call(s.context, t)
                            })).catch((function(e) {
                                i && i.call(s.context, "string" == typeof e && o.isJson(e) ? JSON.parse(e) : e)
                            }))
                        } else {
                            if (!n || !a) return this.blazorCallback(e, t, n, i, r + 1);
                            n.call(s.context, t)
                        }
                    }
                }, e.prototype.isJson = function(e) {
                    try {
                        JSON.parse(e)
                    } catch (e) {
                        return !1
                    }
                    return !0
                }, e.prototype.destroy = function() {
                    this.boundedEvents = this.context = void 0
                }, e.prototype.notExist = function(e) {
                    return !1 === this.boundedEvents.hasOwnProperty(e) || this.boundedEvents[e].length <= 0
                }, e.prototype.isHandlerPresent = function(e, t) {
                    for (var n = 0, i = e; n < i.length; n++) {
                        if (i[n].handler === t) return !0
                    }
                    return !1
                }, e
            }(),
            te = new RegExp("]"),
            ne = function() {
                function e(e, t) {
                    this.isRendered = !1, this.isComplexArraySetter = !1, this.isServerRendered = !1, this.allowServerDataBinding = !0, this.isProtectedOnChange = !0, this.properties = {}, this.changedProperties = {}, this.oldProperties = {}, this.bulkChanges = {}, this.refreshing = !1, this.ignoreCollectionWatch = !1, this.finalUpdate = function() {}, this.childChangedProperties = {}, this.modelObserver = new ee(this), p(t) || (this.element = "string" == typeof t ? document.querySelector(t) : t, h(this.element) || (this.isProtectedOnChange = !1, this.addInstance())), p(e) || this.setProperties(e, !0), this.isDestroyed = !1
                }
                return e.prototype.setProperties = function(e, t) {
                    var n = this.isProtectedOnChange;
                    this.isProtectedOnChange = !!t, d(this, e), !0 !== t ? (d(this.changedProperties, e), this.dataBind()) : g() && this.isRendered && this.serverDataBind(e), this.finalUpdate(), this.changedProperties = {}, this.oldProperties = {}, this.isProtectedOnChange = n
                }, e.callChildDataBind = function(e, t) {
                    for (var n = 0, i = Object.keys(e); n < i.length; n++) {
                        var r = i[n];
                        if (t[r] instanceof Array)
                            for (var o = 0, a = t[r]; o < a.length; o++) {
                                var s = a[o];
                                void 0 !== s.dataBind && s.dataBind()
                            } else t[r].dataBind()
                    }
                }, e.prototype.clearChanges = function() {
                    this.finalUpdate(), this.changedProperties = {}, this.oldProperties = {}, this.childChangedProperties = {}
                }, e.prototype.dataBind = function() {
                    if (e.callChildDataBind(this.childChangedProperties, this), Object.getOwnPropertyNames(this.changedProperties).length) {
                        var t = this.isProtectedOnChange,
                            n = this.changedProperties,
                            i = this.oldProperties;
                        this.clearChanges(), this.isProtectedOnChange = !0, this.onPropertyChanged(n, i), this.isProtectedOnChange = t
                    }
                }, e.prototype.serverDataBind = function(e) {
                    if (g() && (e = e || {}, c(this.bulkChanges, {}, e, !0), this.allowServerDataBinding)) {
                        window.ejsInterop.updateModel(this), this.bulkChanges = {}
                    }
                }, e.prototype.saveChanges = function(e, t, n) {
                    if (g()) {
                        var i = {};
                        i[e] = t, this.serverDataBind(i)
                    }
                    this.isProtectedOnChange || (this.oldProperties[e] = n, this.changedProperties[e] = t, this.finalUpdate(), this.finalUpdate = function(e) {
                        var t, n = new Uint16Array(5);
                        (window.msCrypto || window.crypto).getRandomValues(n);
                        var i = "ej2" + function(e) {
                                for (var t = "", n = 0; n < 5; n++) t += (n ? "," : "") + e[n];
                                return t
                            }(n),
                            r = function(n) {
                                n.source === window && "string" == typeof n.data && n.data.length <= 32 && n.data === i && (e(), t())
                            };
                        return window.addEventListener("message", r, !1), window.postMessage(i, "*"), t = function() {
                            window.removeEventListener("message", r), e = r = i = void 0
                        }
                    }(this.dataBind.bind(this)))
                }, e.prototype.addEventListener = function(e, t) {
                    this.modelObserver.on(e, t)
                }, e.prototype.removeEventListener = function(e, t) {
                    this.modelObserver.off(e, t)
                }, e.prototype.trigger = function(e, t, n, i) {
                    var r = this;
                    if (!0 !== this.isDestroyed) {
                        var a = this.isProtectedOnChange;
                        this.isProtectedOnChange = !1;
                        var s = this.modelObserver.notify(e, t, n, i);
                        if (te.test(e)) {
                            var l = o(e, this);
                            if (l) {
                                if (window.Blazor) {
                                    var d = l.call(this, t);
                                    d && "function" == typeof d.then ? n ? d.then((function(e) {
                                        n && (e = "string" == typeof e && r.modelObserver.isJson(e) ? JSON.parse(e) : e, n.call(r, e))
                                    })).catch((function(e) {
                                        i && (e = "string" == typeof e && r.modelObserver.isJson(e) ? JSON.parse(e) : e, i.call(r, e))
                                    })) : s = d : n && n.call(this, t)
                                } else l.call(this, t), n && n.call(this, t)
                            } else n && n.call(this, t)
                        }
                        return this.isProtectedOnChange = a, s
                    }
                }, e.prototype.addInstance = function() {
                    var e = "e-" + this.getModuleName().toLowerCase();
                    C([this.element], ["e-lib", e]), h(this.element.ej2_instances) ? a("ej2_instances", [this], this.element) : this.element.ej2_instances.push(this)
                }, e.prototype.destroy = function() {
                    var e = this;
                    this.element.ej2_instances = this.element.ej2_instances.filter((function(t) {
                        return t !== e
                    })), N([this.element], ["e-" + this.getModuleName()]), 0 === this.element.ej2_instances.length && N([this.element], ["e-lib"]), this.clearChanges(), this.modelObserver.destroy(), this.isDestroyed = !0
                }, e
            }();
        var ie, re, oe = function() {
                function e(e, t, n, i) {
                    this.isComplexArraySetter = !1, this.properties = {}, this.changedProperties = {}, this.childChangedProperties = {}, this.oldProperties = {}, this.finalUpdate = function() {}, this.callChildDataBind = o("callChildDataBind", ne), this.parentObj = e, this.controlParent = this.parentObj.controlParent || this.parentObj, this.propName = t, this.isParentArray = i, this.setProperties(n, !0)
                }
                return e.prototype.updateChange = function(e, t) {
                    !0 === e ? this.parentObj.childChangedProperties[t] = e : delete this.parentObj.childChangedProperties[t], this.parentObj.updateChange && this.parentObj.updateChange(e, this.parentObj.propName)
                }, e.prototype.updateTimeOut = function() {
                    if (this.parentObj.updateTimeOut) this.parentObj.finalUpdate(), this.parentObj.updateTimeOut();
                    else {
                        var e = setTimeout(this.parentObj.dataBind.bind(this.parentObj));
                        this.finalUpdate = function() {
                            clearTimeout(e)
                        }
                    }
                }, e.prototype.clearChanges = function() {
                    this.finalUpdate(), this.updateChange(!1, this.propName), this.oldProperties = {}, this.changedProperties = {}
                }, e.prototype.setProperties = function(e, t) {
                    !0 === t ? (d(this, e), this.updateChange(!1, this.propName), this.clearChanges()) : d(this, e)
                }, e.prototype.dataBind = function() {
                    if (this.callChildDataBind(this.childChangedProperties, this), this.isParentArray) {
                        var e = this.parentObj[this.propName].indexOf(this);
                        Object.keys(this.changedProperties).length && (a(this.propName + "." + e, this.changedProperties, this.parentObj.changedProperties), a(this.propName + "." + e, this.oldProperties, this.parentObj.oldProperties))
                    } else this.parentObj.changedProperties[this.propName] = this.changedProperties, this.parentObj.oldProperties[this.propName] = this.oldProperties;
                    this.clearChanges()
                }, e.prototype.saveChanges = function(e, t, n, i) {
                    this.controlParent.isProtectedOnChange || (i || this.serverDataBind(e, t, !0), this.oldProperties[e] = n, this.changedProperties[e] = t, this.updateChange(!0, this.propName), this.finalUpdate(), this.updateTimeOut())
                }, e.prototype.serverDataBind = function(e, t, n, i) {
                    if (g() && !this.parentObj.isComplexArraySetter) {
                        var r, o = {},
                            a = n ? this.getParentKey(!0) + "." + e : e;
                        if (-1 !== a.indexOf(".")) {
                            var s = a.split(".");
                            r = o;
                            for (var l = 0; l < s.length; l++) {
                                var d = l === s.length - 1;
                                r[s[l]] = d ? t : {}, r = d ? r : r[s[l]]
                            }
                        } else o[a] = {}, r = o[a], o[a][e] = t;
                        if (this.isParentArray) {
                            r.ejsAction = i || "none"
                        }
                        this.controlParent.serverDataBind(o)
                    }
                }, e.prototype.getParentKey = function(e) {
                    var t = "",
                        n = this.propName;
                    if (this.isParentArray) {
                        t = this.parentObj[this.propName].indexOf(this);
                        var i = this.parentObj[this.propName].length;
                        i = e ? i : i > 0 ? i - 1 : 0, n += t = -1 !== t ? "-" + t : "-" + i
                    }
                    return this.controlParent !== this.parentObj && (n = this.parentObj.getParentKey() + "." + this.propName + t), n
                }, e
            }(),
            ae = {
                latn: {
                    _digits: "0123456789",
                    _type: "numeric"
                }
            },
            se = {
                decimal: ".",
                group: ",",
                percentSign: "%",
                plusSign: "+",
                minusSign: "-",
                infinity: "∞",
                nan: "NaN",
                exponential: "E"
            },
            le = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
            de = function() {
                function e() {}
                return e.getMainObject = function(e, t) {
                    return o("main." + t, e)
                }, e.getNumberingSystem = function(e) {
                    return o("supplemental.numberingSystems", e) || this.numberingSystems
                }, e.reverseObject = function(e, t) {
                    for (var n = {}, i = 0, r = t || Object.keys(e); i < r.length; i++) {
                        var o = r[i];
                        n.hasOwnProperty(e[o]) || (n[e[o]] = o)
                    }
                    return n
                }, e.getSymbolRegex = function(e) {
                    var t = e.map((function(e) {
                        return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1")
                    })).join("|");
                    return new RegExp(t, "g")
                }, e.getSymbolMatch = function(e) {
                    for (var t = {}, n = 0, i = Object.keys(se); n < i.length; n++) {
                        var r = i[n];
                        t[e[r]] = se[r]
                    }
                    return t
                }, e.constructRegex = function(e) {
                    for (var t = e.length, n = "", i = 0; i < t; i++) n += i !== t - 1 ? e[i] + "|" : e[i];
                    return n
                }, e.convertValueParts = function(e, t, n) {
                    return e.replace(t, (function(e) {
                        return n[e]
                    }))
                }, e.getDefaultNumberingSystem = function(e) {
                    var t = {};
                    return t.obj = o("numbers", e), t.nSystem = o("defaultNumberingSystem", t.obj), t
                }, e.getCurrentNumericOptions = function(e, t, n) {
                    var i = {},
                        r = this.getDefaultNumberingSystem(e);
                    if (!p(r.nSystem)) {
                        var a = o(r.nSystem + "._digits", t);
                        p(a) || (i.numericPair = this.reverseObject(a, le), i.numberParseRegex = new RegExp(this.constructRegex(a), "g"), i.numericRegex = "[" + a[0] + "-" + a[9] + "]", n && (i.numericRegex = a[0] + "-" + a[9], i.symbolNumberSystem = o("symbols-numberSystem-" + r.nSystem, r.obj), i.symbolMatch = this.getSymbolMatch(i.symbolNumberSystem), i.numberSystem = r.nSystem))
                    }
                    return i
                }, e.getNumberMapper = function(e, t, n) {
                    var i = {
                            mapper: {}
                        },
                        r = this.getDefaultNumberingSystem(e);
                    if (!p(r.nSystem)) {
                        i.numberSystem = r.nSystem, i.numberSymbols = o("symbols-numberSystem-" + r.nSystem, r.obj), i.timeSeparator = o("timeSeparator", i.numberSymbols);
                        var a = o(r.nSystem + "._digits", t);
                        if (!p(a))
                            for (var s = 0, l = le; s < l.length; s++) {
                                var d = l[s];
                                i.mapper[d] = a[d]
                            }
                    }
                    return i
                }, e.nPair = "numericPair", e.nRegex = "numericRegex", e.numberingSystems = ae, e
            }(),
            ce = {
                ms: "minimumSignificantDigits",
                ls: "maximumSignificantDigits",
                mf: "minimumFractionDigits",
                lf: "maximumFractionDigits"
            },
            he = ["infinity", "nan", "group", "decimal", "exponential"],
            pe = function() {
                function e() {}
                return e.numberFormatter = function(e, t, n) {
                    var i, r = this,
                        o = c({}, t),
                        a = {},
                        s = {},
                        l = ie.getDependables(n, e, "", !0);
                    s.numberMapper = de.getNumberMapper(l.parserObject, de.getNumberingSystem(n), !0), s.currencySymbol = ie.getCurrencySymbol(l.numericObject, o.currency || Ne, t.altSymbol), s.percentSymbol = s.numberMapper.numberSymbols.percentSign, s.minusSymbol = s.numberMapper.numberSymbols.minusSign;
                    var d = s.numberMapper.numberSymbols;
                    if (t.format && !ie.formatRegex.test(t.format)) a = ie.customFormat(t.format, s, l.numericObject);
                    else {
                        c(o, ie.getProperNumericSkeleton(t.format || "N")), o.isCurrency = "currency" === o.type, o.isPercent = "percent" === o.type, i = ie.getSymbolPattern(o.type, s.numberMapper.numberSystem, l.numericObject, o.isAccount), o.groupOne = this.checkValueRange(o.maximumSignificantDigits, o.minimumSignificantDigits, !0), this.checkValueRange(o.maximumFractionDigits, o.minimumFractionDigits, !1, !0), p(o.fractionDigits) || (o.minimumFractionDigits = o.maximumFractionDigits = o.fractionDigits), p(o.useGrouping) && (o.useGrouping = !0), o.isCurrency && (i = i.replace(/\u00A4/g, ie.defaultCurrency));
                        var h = i.split(";");
                        if (a.nData = ie.getFormatData(h[1] || "-" + h[0], !0, s.currencySymbol), a.pData = ie.getFormatData(h[0], !1, s.currencySymbol), o.useGrouping && (o.groupSeparator = d[he[2]], o.groupData = this.getGroupingDetails(h[0])), p(o.minimumFractionDigits) && (o.minimumFractionDigits = a.nData.minimumFraction), p(o.maximumFractionDigits)) {
                            var u = a.nData.maximumFraction;
                            o.maximumFractionDigits = p(u) && o.isPercent ? 0 : u
                        }
                        var m = o.minimumFractionDigits,
                            f = o.maximumFractionDigits;
                        p(m) || p(f) || m > f && (o.maximumFractionDigits = m)
                    }
                    return c(a.nData, o), c(a.pData, o),
                        function(e) {
                            return isNaN(e) ? d[he[1]] : isFinite(e) ? r.intNumberFormatter(e, a, s) : d[he[0]]
                        }
                }, e.getGroupingDetails = function(e) {
                    var t = {},
                        n = e.match(ie.negativeDataRegex);
                    if (n && n[4]) {
                        var i = n[4],
                            r = i.lastIndexOf(",");
                        if (-1 !== r) {
                            var o = i.split(".")[0];
                            t.primary = o.length - r - 1;
                            var a = i.lastIndexOf(",", r - 1); - 1 !== a && (t.secondary = r - 1 - a)
                        }
                    }
                    return t
                }, e.checkValueRange = function(e, t, n, i) {
                    var r = i ? "f" : "s",
                        o = 0,
                        a = ce["l" + r],
                        s = ce["m" + r];
                    if (p(e) || (this.checkRange(e, a, i), o++), p(t) || (this.checkRange(t, s, i), o++), 2 === o) {
                        if (!(e < t)) return !0;
                        m(s + "specified must be less than the" + a)
                    } else n && 1 === o && m("Both" + s + "and" + s + "must be present");
                    return !1
                }, e.checkRange = function(e, t, n) {
                    var i = n ? [0, 20] : [1, 21];
                    (e < i[0] || e > i[1]) && m(t + "value must be within the range" + i[0] + "to" + i[1])
                }, e.intNumberFormatter = function(e, t, n) {
                    var i;
                    if (!p(t.nData.type)) {
                        e < 0 ? (e *= -1, i = t.nData) : i = 0 === e && t.zeroData || t.pData;
                        var r = "";
                        return i.isPercent && (e *= 100), i.groupOne ? r = this.processSignificantDigits(e, i.minimumSignificantDigits, i.maximumSignificantDigits) : (r = this.processFraction(e, i.minimumFractionDigits, i.maximumFractionDigits), i.minimumIntegerDigits && (r = this.processMinimumIntegers(r, i.minimumIntegerDigits))), "scientific" === i.type && (r = (r = e.toExponential(i.maximumFractionDigits)).replace("e", n.numberMapper.numberSymbols[he[4]])), r = r.replace(".", n.numberMapper.numberSymbols[he[3]]), i.useGrouping && (r = this.groupNumbers(r, i.groupData.primary, i.groupSeparator || ",", n.numberMapper.numberSymbols[he[3]] || ".", i.groupData.secondary)), r = de.convertValueParts(r, ie.latnParseRegex, n.numberMapper.mapper), "N/A" === i.nlead ? i.nlead : i.nlead + r + i.nend
                    }
                }, e.processSignificantDigits = function(e, t, n) {
                    var i = e + "";
                    return i.length < t ? e.toPrecision(t) : +(i = e.toPrecision(n)) + ""
                }, e.groupNumbers = function(e, t, n, i, r) {
                    for (var o = !h(r) && 0 !== r, a = e.split(i), s = a[0], l = s.length, d = ""; l > t;) d = s.slice(l - t, l) + (d.length ? n + d : ""), l -= t, o && (t = r, o = !1);
                    return a[0] = s.slice(0, l) + (d.length ? n : "") + d, a.join(i)
                }, e.processFraction = function(e, t, n) {
                    var i = (e + "").split(".")[1],
                        r = i ? i.length : 0;
                    if (t && r < t) {
                        var o = "";
                        if (0 !== r) {
                            o += e;
                            for (var a = 0; a < t - r; a++) o += "0";
                            return o
                        }
                        return o = e.toFixed(t), e.toFixed(t)
                    }
                    return !h(n) && (r > n || 0 === n) ? e.toFixed(n) : e + ""
                }, e.processMinimumIntegers = function(e, t) {
                    var n = e.split("."),
                        i = n[0],
                        r = i.length;
                    if (r < t) {
                        for (var o = 0; o < t - r; o++) i = "0" + i;
                        n[0] = i
                    }
                    return n.join(".")
                }, e
            }(),
            ue = {
                "en-US": {
                    d: "M/d/y",
                    D: "EEEE, MMMM d, y",
                    f: "EEEE, MMMM d, y h:mm a",
                    F: "EEEE, MMMM d, y h:mm:s a",
                    g: "M/d/y h:mm a",
                    t: "h:mm a",
                    T: "h:m:s a"
                }
            };
        ! function(e) {
            e.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/, e.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/, e.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;
            var t = /[0-9]/g;
            e.defaultCurrency = "$";
            var n = ["infinity", "nan", "group", "decimal"],
                i = /G|M|L|H|c|'| a|yy|y|EEEE|E/g,
                r = {
                    G: "",
                    M: "m",
                    L: "m",
                    H: "h",
                    c: "d",
                    "'": '"',
                    " a": " AM/PM",
                    yy: "yy",
                    y: "yyyy",
                    EEEE: "dddd",
                    E: "ddd"
                };
            e.islamicRegex = /^islamic/;
            var a = {
                sun: 0,
                mon: 1,
                tue: 2,
                wed: 3,
                thu: 4,
                fri: 5,
                sat: 6
            };
            e.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i, e.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i, e.curWithoutNumberRegex = /(c|a)$/gi;
            var s = {
                $: "isCurrency",
                "%": "isPercent",
                "-": "isNegative",
                0: "nlead",
                1: "nend"
            };

            function l(t, n, i, r) {
                var a, s = i || "date";
                if (-1 !== e.basicPatterns.indexOf(t)) {
                    if (a = o(s + "Formats." + t, n), "dateTime" === s) {
                        var l = o("dateFormats." + t, n),
                            d = o("timeFormats." + t, n);
                        a = a.replace("{1}", l).replace("{0}", d)
                    }
                } else a = o("dateTimeFormats.availableFormats." + t, n);
                return p(a) && "yMd" === t && (a = "M/d/y"), a
            }

            function d(t, n, i, r) {
                var a = {},
                    s = i || "gregorian";
                return a.parserObject = de.getMainObject(t, n) || e.defaultObject, r ? a.numericObject = o("numbers", a.parserObject) : a.dateObject = o("dates.calendars." + s, a.parserObject), a
            }

            function u(e, t, n, i) {
                return o(e + "Formats-numberSystem-" + t + (i ? ".accounting" : ".standard"), n) || (i ? o(e + "Formats-numberSystem-" + t + ".standard", n) : "")
            }

            function m(e, t) {
                var n = e.format || e.skeleton,
                    i = o((t || "en-US") + "." + n, ue);
                return i || (i = o("en-US." + n, ue)), i && (e.format = i.replace(/tt/, "a")), e
            }

            function f(t) {
                var n = t.match(e.formatRegex),
                    i = {},
                    r = n[1].toUpperCase();
                return i.isAccount = "A" === r, i.type = e.patternMatcher[r], t.length > 1 && (i.fractionDigits = parseInt(n[2], 10)), i
            }

            function y(n, i, r, o) {
                var a = o ? {} : {
                        nlead: "",
                        nend: ""
                    },
                    s = n.match(e.customRegex);
                if (s) {
                    o || (a.nlead = v(s[1], r), a.nend = v(s[10], r), a.groupPattern = s[4]);
                    var l = s[7];
                    if (l && i) {
                        var d = l.match(t);
                        h(d) ? a.minimumFraction = 0 : a.minimumFraction = d.length, a.maximumFraction = l.length - 1
                    }
                }
                return a
            }

            function v(t, n) {
                return t ? t.replace(e.defaultCurrency, n) : ""
            }

            function b(e, t, n) {
                return o("currencies." + t + (n ? "." + n : ".symbol"), e) || o("currencies." + t + ".symbol-alt-narrow", e) || "$"
            }

            function C(t, i, r) {
                var o = {
                        type: "decimal",
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0
                    },
                    a = t.match(e.customRegex);
                (h(a) || "" === a[5] && "N/A" !== t) && (o.type = void 0), o.nlead = a[1], o.nend = a[10];
                var s = a[6];
                o.useGrouping = -1 !== s.indexOf(","), s = s.replace(/,/g, "");
                var l = a[7];
                if (-1 !== s.indexOf("0") && (o.minimumIntegerDigits = s.length - s.indexOf("0")), h(l) || (o.minimumFractionDigits = l.lastIndexOf("0"), o.maximumFractionDigits = l.lastIndexOf("#"), -1 === o.minimumFractionDigits && (o.minimumFractionDigits = 0), (-1 === o.maximumFractionDigits || o.maximumFractionDigits < o.minimumFractionDigits) && (o.maximumFractionDigits = o.minimumFractionDigits)), h(i) ? c(o, N([o.nlead, o.nend], "%", "%")) : (c(o, N([o.nlead, o.nend], "$", i.currencySymbol)), o.isCurrency || c(o, N([o.nlead, o.nend], "%", i.percentSymbol))), !h(r)) {
                    var d = u(o.type, i.numberMapper.numberSystem, r, !1);
                    o.useGrouping && (o.groupSeparator = i.numberMapper.numberSymbols[n[2]], o.groupData = pe.getGroupingDetails(d.split(";")[0])), o.nlead = o.nlead.replace(/\'/g, ""), o.nend = o.nend.replace(/\'/g, "")
                }
                return o
            }

            function N(e, t, n) {
                for (var i = {
                        nlead: e[0],
                        nend: e[1]
                    }, r = 0; r < 2; r++) {
                    var o = e[r],
                        a = o.indexOf(t);
                    if (-1 !== a && (a < o.indexOf("'") || a > o.lastIndexOf("'"))) {
                        i[s[r]] = o.substr(0, a) + n + o.substr(a + 1), i[s[t]] = !0, i.type = i.isCurrency ? "currency" : "percent";
                        break
                    }
                }
                return i
            }
            e.dateParseRegex = /([a-z])\1*|'([^']|'')+'|''|./gi, e.basicPatterns = ["short", "medium", "long", "full"], e.defaultObject = {
                dates: {
                    calendars: {
                        gregorian: {
                            months: {
                                "stand-alone": {
                                    abbreviated: {
                                        1: "Jan",
                                        2: "Feb",
                                        3: "Mar",
                                        4: "Apr",
                                        5: "May",
                                        6: "Jun",
                                        7: "Jul",
                                        8: "Aug",
                                        9: "Sep",
                                        10: "Oct",
                                        11: "Nov",
                                        12: "Dec"
                                    },
                                    narrow: {
                                        1: "J",
                                        2: "F",
                                        3: "M",
                                        4: "A",
                                        5: "M",
                                        6: "J",
                                        7: "J",
                                        8: "A",
                                        9: "S",
                                        10: "O",
                                        11: "N",
                                        12: "D"
                                    },
                                    wide: {
                                        1: "January",
                                        2: "February",
                                        3: "March",
                                        4: "April",
                                        5: "May",
                                        6: "June",
                                        7: "July",
                                        8: "August",
                                        9: "September",
                                        10: "October",
                                        11: "November",
                                        12: "December"
                                    }
                                }
                            },
                            days: {
                                "stand-alone": {
                                    abbreviated: {
                                        sun: "Sun",
                                        mon: "Mon",
                                        tue: "Tue",
                                        wed: "Wed",
                                        thu: "Thu",
                                        fri: "Fri",
                                        sat: "Sat"
                                    },
                                    narrow: {
                                        sun: "S",
                                        mon: "M",
                                        tue: "T",
                                        wed: "W",
                                        thu: "T",
                                        fri: "F",
                                        sat: "S"
                                    },
                                    short: {
                                        sun: "Su",
                                        mon: "Mo",
                                        tue: "Tu",
                                        wed: "We",
                                        thu: "Th",
                                        fri: "Fr",
                                        sat: "Sa"
                                    },
                                    wide: {
                                        sun: "Sunday",
                                        mon: "Monday",
                                        tue: "Tuesday",
                                        wed: "Wednesday",
                                        thu: "Thursday",
                                        fri: "Friday",
                                        sat: "Saturday"
                                    }
                                }
                            },
                            dayPeriods: {
                                format: {
                                    wide: {
                                        am: "AM",
                                        pm: "PM"
                                    }
                                }
                            },
                            eras: {
                                eraNames: {
                                    0: "Before Christ",
                                    "0-alt-variant": "Before Common Era",
                                    1: "Anno Domini",
                                    "1-alt-variant": "Common Era"
                                },
                                eraAbbr: {
                                    0: "BC",
                                    "0-alt-variant": "BCE",
                                    1: "AD",
                                    "1-alt-variant": "CE"
                                },
                                eraNarrow: {
                                    0: "B",
                                    "0-alt-variant": "BCE",
                                    1: "A",
                                    "1-alt-variant": "CE"
                                }
                            },
                            dateFormats: {
                                full: "EEEE, MMMM d, y",
                                long: "MMMM d, y",
                                medium: "MMM d, y",
                                short: "M/d/yy"
                            },
                            timeFormats: {
                                full: "h:mm:ss a zzzz",
                                long: "h:mm:ss a z",
                                medium: "h:mm:ss a",
                                short: "h:mm a"
                            },
                            dateTimeFormats: {
                                full: "{1} 'at' {0}",
                                long: "{1} 'at' {0}",
                                medium: "{1}, {0}",
                                short: "{1}, {0}",
                                availableFormats: {
                                    d: "d",
                                    E: "ccc",
                                    Ed: "d E",
                                    Ehm: "E h:mm a",
                                    EHm: "E HH:mm",
                                    Ehms: "E h:mm:ss a",
                                    EHms: "E HH:mm:ss",
                                    Gy: "y G",
                                    GyMMM: "MMM y G",
                                    GyMMMd: "MMM d, y G",
                                    GyMMMEd: "E, MMM d, y G",
                                    h: "h a",
                                    H: "HH",
                                    hm: "h:mm a",
                                    Hm: "HH:mm",
                                    hms: "h:mm:ss a",
                                    Hms: "HH:mm:ss",
                                    hmsv: "h:mm:ss a v",
                                    Hmsv: "HH:mm:ss v",
                                    hmv: "h:mm a v",
                                    Hmv: "HH:mm v",
                                    M: "L",
                                    Md: "M/d",
                                    MEd: "E, M/d",
                                    MMM: "LLL",
                                    MMMd: "MMM d",
                                    MMMEd: "E, MMM d",
                                    MMMMd: "MMMM d",
                                    ms: "mm:ss",
                                    y: "y",
                                    yM: "M/y",
                                    yMd: "M/d/y",
                                    yMEd: "E, M/d/y",
                                    yMMM: "MMM y",
                                    yMMMd: "MMM d, y",
                                    yMMMEd: "E, MMM d, y",
                                    yMMMM: "MMMM y"
                                }
                            }
                        },
                        islamic: {
                            months: {
                                "stand-alone": {
                                    abbreviated: {
                                        1: "Muh.",
                                        2: "Saf.",
                                        3: "Rab. I",
                                        4: "Rab. II",
                                        5: "Jum. I",
                                        6: "Jum. II",
                                        7: "Raj.",
                                        8: "Sha.",
                                        9: "Ram.",
                                        10: "Shaw.",
                                        11: "Dhuʻl-Q.",
                                        12: "Dhuʻl-H."
                                    },
                                    narrow: {
                                        1: "1",
                                        2: "2",
                                        3: "3",
                                        4: "4",
                                        5: "5",
                                        6: "6",
                                        7: "7",
                                        8: "8",
                                        9: "9",
                                        10: "10",
                                        11: "11",
                                        12: "12"
                                    },
                                    wide: {
                                        1: "Muharram",
                                        2: "Safar",
                                        3: "Rabiʻ I",
                                        4: "Rabiʻ II",
                                        5: "Jumada I",
                                        6: "Jumada II",
                                        7: "Rajab",
                                        8: "Shaʻban",
                                        9: "Ramadan",
                                        10: "Shawwal",
                                        11: "Dhuʻl-Qiʻdah",
                                        12: "Dhuʻl-Hijjah"
                                    }
                                }
                            },
                            days: {
                                "stand-alone": {
                                    abbreviated: {
                                        sun: "Sun",
                                        mon: "Mon",
                                        tue: "Tue",
                                        wed: "Wed",
                                        thu: "Thu",
                                        fri: "Fri",
                                        sat: "Sat"
                                    },
                                    narrow: {
                                        sun: "S",
                                        mon: "M",
                                        tue: "T",
                                        wed: "W",
                                        thu: "T",
                                        fri: "F",
                                        sat: "S"
                                    },
                                    short: {
                                        sun: "Su",
                                        mon: "Mo",
                                        tue: "Tu",
                                        wed: "We",
                                        thu: "Th",
                                        fri: "Fr",
                                        sat: "Sa"
                                    },
                                    wide: {
                                        sun: "Sunday",
                                        mon: "Monday",
                                        tue: "Tuesday",
                                        wed: "Wednesday",
                                        thu: "Thursday",
                                        fri: "Friday",
                                        sat: "Saturday"
                                    }
                                }
                            },
                            dayPeriods: {
                                format: {
                                    wide: {
                                        am: "AM",
                                        pm: "PM"
                                    }
                                }
                            },
                            eras: {
                                eraNames: {
                                    0: "AH"
                                },
                                eraAbbr: {
                                    0: "AH"
                                },
                                eraNarrow: {
                                    0: "AH"
                                }
                            },
                            dateFormats: {
                                full: "EEEE, MMMM d, y G",
                                long: "MMMM d, y G",
                                medium: "MMM d, y G",
                                short: "M/d/y GGGGG"
                            },
                            timeFormats: {
                                full: "h:mm:ss a zzzz",
                                long: "h:mm:ss a z",
                                medium: "h:mm:ss a",
                                short: "h:mm a"
                            },
                            dateTimeFormats: {
                                full: "{1} 'at' {0}",
                                long: "{1} 'at' {0}",
                                medium: "{1}, {0}",
                                short: "{1}, {0}",
                                availableFormats: {
                                    d: "d",
                                    E: "ccc",
                                    Ed: "d E",
                                    Ehm: "E h:mm a",
                                    EHm: "E HH:mm",
                                    Ehms: "E h:mm:ss a",
                                    EHms: "E HH:mm:ss",
                                    Gy: "y G",
                                    GyMMM: "MMM y G",
                                    GyMMMd: "MMM d, y G",
                                    GyMMMEd: "E, MMM d, y G",
                                    h: "h a",
                                    H: "HH",
                                    hm: "h:mm a",
                                    Hm: "HH:mm",
                                    hms: "h:mm:ss a",
                                    Hms: "HH:mm:ss",
                                    M: "L",
                                    Md: "M/d",
                                    MEd: "E, M/d",
                                    MMM: "LLL",
                                    MMMd: "MMM d",
                                    MMMEd: "E, MMM d",
                                    MMMMd: "MMMM d",
                                    ms: "mm:ss",
                                    y: "y G",
                                    yyyy: "y G",
                                    yyyyM: "M/y GGGGG",
                                    yyyyMd: "M/d/y GGGGG",
                                    yyyyMEd: "E, M/d/y GGGGG",
                                    yyyyMMM: "MMM y G",
                                    yyyyMMMd: "MMM d, y G",
                                    yyyyMMMEd: "E, MMM d, y G",
                                    yyyyMMMM: "MMMM y G",
                                    yyyyQQQ: "QQQ y G",
                                    yyyyQQQQ: "QQQQ y G"
                                }
                            }
                        }
                    },
                    timeZoneNames: {
                        hourFormat: "+HH:mm;-HH:mm",
                        gmtFormat: "GMT{0}",
                        gmtZeroFormat: "GMT"
                    }
                },
                numbers: {
                    currencies: {
                        USD: {
                            displayName: "US Dollar",
                            symbol: "$",
                            "symbol-alt-narrow": "$"
                        },
                        EUR: {
                            displayName: "Euro",
                            symbol: "€",
                            "symbol-alt-narrow": "€"
                        },
                        GBP: {
                            displayName: "British Pound",
                            "symbol-alt-narrow": "£"
                        }
                    },
                    defaultNumberingSystem: "latn",
                    minimumGroupingDigits: "1",
                    "symbols-numberSystem-latn": {
                        decimal: ".",
                        group: ",",
                        list: ";",
                        percentSign: "%",
                        plusSign: "+",
                        minusSign: "-",
                        exponential: "E",
                        superscriptingExponent: "×",
                        perMille: "‰",
                        infinity: "∞",
                        nan: "NaN",
                        timeSeparator: ":"
                    },
                    "decimalFormats-numberSystem-latn": {
                        standard: "#,##0.###"
                    },
                    "percentFormats-numberSystem-latn": {
                        standard: "#,##0%"
                    },
                    "currencyFormats-numberSystem-latn": {
                        standard: "¤#,##0.00",
                        accounting: "¤#,##0.00;(¤#,##0.00)"
                    },
                    "scientificFormats-numberSystem-latn": {
                        standard: "#E0"
                    }
                }
            }, e.monthIndex = {
                3: "abbreviated",
                4: "wide",
                5: "narrow",
                1: "abbreviated"
            }, e.month = "months", e.days = "days", e.patternMatcher = {
                C: "currency",
                P: "percent",
                N: "decimal",
                A: "currency",
                E: "scientific"
            }, e.getResultantPattern = l, e.getDependables = d, e.getSymbolPattern = u, e.compareBlazorDateFormats = m, e.getProperNumericSkeleton = f, e.getFormatData = y, e.getCurrencySymbol = b, e.customFormat = function(e, t, n) {
                for (var i = {}, r = e.split(";"), o = ["pData", "nData", "zeroData"], a = 0; a < r.length; a++) i[o[a]] = C(r[a], t, n);
                return h(i.nData) && (i.nData = c({}, i.pData), i.nData.nlead = h(t) ? "-" + i.nData.nlead : t.minusSymbol + i.nData.nlead), i
            }, e.isCurrencyPercent = N, e.getDateSeparator = function(e) {
                var t = (o("dateFormats.short", e) || "").match(/[d‏M‏]([^d‏M])[d‏M‏]/i);
                return t ? t[1] : "/"
            }, e.getActualDateTimeFormat = function(e, t, n, a) {
                var s = d(n, e, t.calendar);
                g() && (t = m(t, e));
                var c = t.format || l(t.skeleton, s.dateObject, t.type);
                if (a) {
                    if (-1 !== (c = c.replace(i, (function(e) {
                            return r[e]
                        }))).indexOf("z")) {
                        var h = c.match(/z/g).length,
                            p = void 0,
                            u = {
                                timeZone: {}
                            };
                        u.numMapper = de.getNumberMapper(s.parserObject, de.getNumberingSystem(n)), u.timeZone = o("dates.timeZoneNames", s.parserObject);
                        var f = (new Date).getTimezoneOffset(),
                            y = h < 4 ? "+H;-H" : u.timeZone.hourFormat;
                        y = y.replace(/:/g, u.numMapper.timeSeparator), 0 === f ? p = u.timeZone.gmtZeroFormat : (p = ye.getTimeZoneValue(f, y), p = u.timeZone.gmtFormat.replace(/\{0\}/, p)), c = c.replace(/[z]+/, '"' + p + '"')
                    }
                    c = c.replace(/ $/, "")
                }
                return c
            }, e.getActualNumberFormat = function(t, n, i) {
                var r, o, a = d(i, t, "", !0),
                    s = {
                        custom: !0
                    },
                    l = {},
                    h = (n.format || "").match(e.currencyFormatRegex);
                if (h) {
                    var p = {};
                    p.numberMapper = de.getNumberMapper(a.parserObject, de.getNumberingSystem(i), !0);
                    var m = b(a.numericObject, n.currency || Ne, n.altSymbol),
                        g = u("currency", p.numberMapper.numberSystem, a.numericObject, /a/i.test(n.format)),
                        v = (g = g.replace(/\u00A4/g, m)).split(";");
                    l.hasNegativePattern = v.length > 1, l.nData = y(v[1] || "-" + v[0], !0, m), l.pData = y(v[0], !1, m), h[2] || n.minimumFractionDigits || n.maximumFractionDigits || (r = y(g.split(";")[0], !0, "", !0).minimumFraction)
                }
                if (e.formatRegex.test(n.format) || !n.format) {
                    if (c(s, f(n.format || "N")), s.custom = !1, o = "###0", s.fractionDigits || n.minimumFractionDigits || n.maximumFractionDigits || r) {
                        s.fractionDigits && (n.minimumFractionDigits = n.maximumFractionDigits = s.fractionDigits), o = function(e, t, n) {
                            e += ".";
                            for (var i = 0; i < t; i++) e += "0";
                            if (t < n)
                                for (var r = n - t, o = 0; o < r; o++) e += "#";
                            return e
                        }(o, r || s.fractionDigits || n.minimumFractionDigits || 0, n.maximumFractionDigits || 0)
                    }
                    if (n.minimumIntegerDigits && (o = function(e, t) {
                            for (var n = e.split("."), i = "", r = 0; r < t; r++) i += "0";
                            return n[1] ? i + "." + n[1] : i
                        }(o, n.minimumIntegerDigits)), n.useGrouping && (o = function(e) {
                            var t = e.split("."),
                                n = t[0],
                                i = 3 - n.length % 3;
                            e = "";
                            for (var r = (n = (i && 1 === i ? "#" : 2 === i ? "##" : "") + n).length - 1; r > 0; r -= 3) e = "," + n[r - 2] + n[r - 1] + n[r] + e;
                            return e = e.slice(1), t[1] ? e + "." + t[1] : e
                        }(o)), "currency" === s.type) {
                        var C = o;
                        o = l.pData.nlead + C + l.pData.nend, l.hasNegativePattern && (o += ";" + l.nData.nlead + C + l.nData.nend)
                    }
                    "percent" === s.type && (o += " %")
                } else o = n.format.replace(/\'/g, '"');
                return o
            }, e.getWeekData = function(e, t) {
                var n = "sun",
                    i = o("supplemental.weekData.firstDay", t),
                    r = e;
                return /en-/.test(r) && (r = r.slice(3)), r = r.slice(0, 2).toUpperCase() + r.substr(2), i && (n = i[r] || "sun"), a[n]
            }
        }(ie || (ie = {})),
        function(e) {
            var t = [28607, 28636, 28665, 28695, 28724, 28754, 28783, 28813, 28843, 28872, 28901, 28931, 28960, 28990, 29019, 29049, 29078, 29108, 29137, 29167, 29196, 29226, 29255, 29285, 29315, 29345, 29375, 29404, 29434, 29463, 29492, 29522, 29551, 29580, 29610, 29640, 29669, 29699, 29729, 29759, 29788, 29818, 29847, 29876, 29906, 29935, 29964, 29994, 30023, 30053, 30082, 30112, 30141, 30171, 30200, 30230, 30259, 30289, 30318, 30348, 30378, 30408, 30437, 30467, 30496, 30526, 30555, 30585, 30614, 30644, 30673, 30703, 30732, 30762, 30791, 30821, 30850, 30880, 30909, 30939, 30968, 30998, 31027, 31057, 31086, 31116, 31145, 31175, 31204, 31234, 31263, 31293, 31322, 31352, 31381, 31411, 31441, 31471, 31500, 31530, 31559, 31589, 31618, 31648, 31676, 31706, 31736, 31766, 31795, 31825, 31854, 31884, 31913, 31943, 31972, 32002, 32031, 32061, 32090, 32120, 32150, 32180, 32209, 32239, 32268, 32298, 32327, 32357, 32386, 32416, 32445, 32475, 32504, 32534, 32563, 32593, 32622, 32652, 32681, 32711, 32740, 32770, 32799, 32829, 32858, 32888, 32917, 32947, 32976, 33006, 33035, 33065, 33094, 33124, 33153, 33183, 33213, 33243, 33272, 33302, 33331, 33361, 33390, 33420, 33450, 33479, 33509, 33539, 33568, 33598, 33627, 33657, 33686, 33716, 33745, 33775, 33804, 33834, 33863, 33893, 33922, 33952, 33981, 34011, 34040, 34069, 34099, 34128, 34158, 34187, 34217, 34247, 34277, 34306, 34336, 34365, 34395, 34424, 34454, 34483, 34512, 34542, 34571, 34601, 34631, 34660, 34690, 34719, 34749, 34778, 34808, 34837, 34867, 34896, 34926, 34955, 34985, 35015, 35044, 35074, 35103, 35133, 35162, 35192, 35222, 35251, 35280, 35310, 35340, 35370, 35399, 35429, 35458, 35488, 35517, 35547, 35576, 35605, 35635, 35665, 35694, 35723, 35753, 35782, 35811, 35841, 35871, 35901, 35930, 35960, 35989, 36019, 36048, 36078, 36107, 36136, 36166, 36195, 36225, 36254, 36284, 36314, 36343, 36373, 36403, 36433, 36462, 36492, 36521, 36551, 36580, 36610, 36639, 36669, 36698, 36728, 36757, 36786, 36816, 36845, 36875, 36904, 36934, 36963, 36993, 37022, 37052, 37081, 37111, 37141, 37170, 37200, 37229, 37259, 37288, 37318, 37347, 37377, 37406, 37436, 37465, 37495, 37524, 37554, 37584, 37613, 37643, 37672, 37701, 37731, 37760, 37790, 37819, 37849, 37878, 37908, 37938, 37967, 37997, 38027, 38056, 38085, 38115, 38144, 38174, 38203, 38233, 38262, 38292, 38322, 38351, 38381, 38410, 38440, 38469, 38499, 38528, 38558, 38587, 38617, 38646, 38676, 38705, 38735, 38764, 38794, 38823, 38853, 38882, 38912, 38941, 38971, 39001, 39030, 39059, 39089, 39118, 39148, 39178, 39208, 39237, 39267, 39297, 39326, 39355, 39385, 39414, 39444, 39473, 39503, 39532, 39562, 39592, 39621, 39650, 39680, 39709, 39739, 39768, 39798, 39827, 39857, 39886, 39916, 39946, 39975, 40005, 40035, 40064, 40094, 40123, 40153, 40182, 40212, 40241, 40271, 40300, 40330, 40359, 40389, 40418, 40448, 40477, 40507, 40536, 40566, 40595, 40625, 40655, 40685, 40714, 40744, 40773, 40803, 40832, 40862, 40892, 40921, 40951, 40980, 41009, 41039, 41068, 41098, 41127, 41157, 41186, 41216, 41245, 41275, 41304, 41334, 41364, 41393, 41422, 41452, 41481, 41511, 41540, 41570, 41599, 41629, 41658, 41688, 41718, 41748, 41777, 41807, 41836, 41865, 41894, 41924, 41953, 41983, 42012, 42042, 42072, 42102, 42131, 42161, 42190, 42220, 42249, 42279, 42308, 42337, 42367, 42397, 42426, 42456, 42485, 42515, 42545, 42574, 42604, 42633, 42662, 42692, 42721, 42751, 42780, 42810, 42839, 42869, 42899, 42929, 42958, 42988, 43017, 43046, 43076, 43105, 43135, 43164, 43194, 43223, 43253, 43283, 43312, 43342, 43371, 43401, 43430, 43460, 43489, 43519, 43548, 43578, 43607, 43637, 43666, 43696, 43726, 43755, 43785, 43814, 43844, 43873, 43903, 43932, 43962, 43991, 44021, 44050, 44080, 44109, 44139, 44169, 44198, 44228, 44258, 44287, 44317, 44346, 44375, 44405, 44434, 44464, 44493, 44523, 44553, 44582, 44612, 44641, 44671, 44700, 44730, 44759, 44788, 44818, 44847, 44877, 44906, 44936, 44966, 44996, 45025, 45055, 45084, 45114, 45143, 45172, 45202, 45231, 45261, 45290, 45320, 45350, 45380, 45409, 45439, 45468, 45498, 45527, 45556, 45586, 45615, 45644, 45674, 45704, 45733, 45763, 45793, 45823, 45852, 45882, 45911, 45940, 45970, 45999, 46028, 46058, 46088, 46117, 46147, 46177, 46206, 46236, 46265, 46295, 46324, 46354, 46383, 46413, 46442, 46472, 46501, 46531, 46560, 46590, 46620, 46649, 46679, 46708, 46738, 46767, 46797, 46826, 46856, 46885, 46915, 46944, 46974, 47003, 47033, 47063, 47092, 47122, 47151, 47181, 47210, 47240, 47269, 47298, 47328, 47357, 47387, 47417, 47446, 47476, 47506, 47535, 47565, 47594, 47624, 47653, 47682, 47712, 47741, 47771, 47800, 47830, 47860, 47890, 47919, 47949, 47978, 48008, 48037, 48066, 48096, 48125, 48155, 48184, 48214, 48244, 48273, 48303, 48333, 48362, 48392, 48421, 48450, 48480, 48509, 48538, 48568, 48598, 48627, 48657, 48687, 48717, 48746, 48776, 48805, 48834, 48864, 48893, 48922, 48952, 48982, 49011, 49041, 49071, 49100, 49130, 49160, 49189, 49218, 49248, 49277, 49306, 49336, 49365, 49395, 49425, 49455, 49484, 49514, 49543, 49573, 49602, 49632, 49661, 49690, 49720, 49749, 49779, 49809, 49838, 49868, 49898, 49927, 49957, 49986, 50016, 50045, 50075, 50104, 50133, 50163, 50192, 50222, 50252, 50281, 50311, 50340, 50370, 50400, 50429, 50459, 50488, 50518, 50547, 50576, 50606, 50635, 50665, 50694, 50724, 50754, 50784, 50813, 50843, 50872, 50902, 50931, 50960, 50990, 51019, 51049, 51078, 51108, 51138, 51167, 51197, 51227, 51256, 51286, 51315, 51345, 51374, 51403, 51433, 51462, 51492, 51522, 51552, 51582, 51611, 51641, 51670, 51699, 51729, 51758, 51787, 51816, 51846, 51876, 51906, 51936, 51965, 51995, 52025, 52054, 52083, 52113, 52142, 52171, 52200, 52230, 52260, 52290, 52319, 52349, 52379, 52408, 52438, 52467, 52497, 52526, 52555, 52585, 52614, 52644, 52673, 52703, 52733, 52762, 52792, 52822, 52851, 52881, 52910, 52939, 52969, 52998, 53028, 53057, 53087, 53116, 53146, 53176, 53205, 53235, 53264, 53294, 53324, 53353, 53383, 53412, 53441, 53471, 53500, 53530, 53559, 53589, 53619, 53648, 53678, 53708, 53737, 53767, 53796, 53825, 53855, 53884, 53913, 53943, 53973, 54003, 54032, 54062, 54092, 54121, 54151, 54180, 54209, 54239, 54268, 54297, 54327, 54357, 54387, 54416, 54446, 54476, 54505, 54535, 54564, 54593, 54623, 54652, 54681, 54711, 54741, 54770, 54800, 54830, 54859, 54889, 54919, 54948, 54977, 55007, 55036, 55066, 55095, 55125, 55154, 55184, 55213, 55243, 55273, 55302, 55332, 55361, 55391, 55420, 55450, 55479, 55508, 55538, 55567, 55597, 55627, 55657, 55686, 55716, 55745, 55775, 55804, 55834, 55863, 55892, 55922, 55951, 55981, 56011, 56040, 56070, 56100, 56129, 56159, 56188, 56218, 56247, 56276, 56306, 56335, 56365, 56394, 56424, 56454, 56483, 56513, 56543, 56572, 56601, 56631, 56660, 56690, 56719, 56749, 56778, 56808, 56837, 56867, 56897, 56926, 56956, 56985, 57015, 57044, 57074, 57103, 57133, 57162, 57192, 57221, 57251, 57280, 57310, 57340, 57369, 57399, 57429, 57458, 57487, 57517, 57546, 57576, 57605, 57634, 57664, 57694, 57723, 57753, 57783, 57813, 57842, 57871, 57901, 57930, 57959, 57989, 58018, 58048, 58077, 58107, 58137, 58167, 58196, 58226, 58255, 58285, 58314, 58343, 58373, 58402, 58432, 58461, 58491, 58521, 58551, 58580, 58610, 58639, 58669, 58698, 58727, 58757, 58786, 58816, 58845, 58875, 58905, 58934, 58964, 58994, 59023, 59053, 59082, 59111, 59141, 59170, 59200, 59229, 59259, 59288, 59318, 59348, 59377, 59407, 59436, 59466, 59495, 59525, 59554, 59584, 59613, 59643, 59672, 59702, 59731, 59761, 59791, 59820, 59850, 59879, 59909, 59939, 59968, 59997, 60027, 60056, 60086, 60115, 60145, 60174, 60204, 60234, 60264, 60293, 60323, 60352, 60381, 60411, 60440, 60469, 60499, 60528, 60558, 60588, 60618, 60648, 60677, 60707, 60736, 60765, 60795, 60824, 60853, 60883, 60912, 60942, 60972, 61002, 61031, 61061, 61090, 61120, 61149, 61179, 61208, 61237, 61267, 61296, 61326, 61356, 61385, 61415, 61445, 61474, 61504, 61533, 61563, 61592, 61621, 61651, 61680, 61710, 61739, 61769, 61799, 61828, 61858, 61888, 61917, 61947, 61976, 62006, 62035, 62064, 62094, 62123, 62153, 62182, 62212, 62242, 62271, 62301, 62331, 62360, 62390, 62419, 62448, 62478, 62507, 62537, 62566, 62596, 62625, 62655, 62685, 62715, 62744, 62774, 62803, 62832, 62862, 62891, 62921, 62950, 62980, 63009, 63039, 63069, 63099, 63128, 63157, 63187, 63216, 63246, 63275, 63305, 63334, 63363, 63393, 63423, 63453, 63482, 63512, 63541, 63571, 63600, 63630, 63659, 63689, 63718, 63747, 63777, 63807, 63836, 63866, 63895, 63925, 63955, 63984, 64014, 64043, 64073, 64102, 64131, 64161, 64190, 64220, 64249, 64279, 64309, 64339, 64368, 64398, 64427, 64457, 64486, 64515, 64545, 64574, 64603, 64633, 64663, 64692, 64722, 64752, 64782, 64811, 64841, 64870, 64899, 64929, 64958, 64987, 65017, 65047, 65076, 65106, 65136, 65166, 65195, 65225, 65254, 65283, 65313, 65342, 65371, 65401, 65431, 65460, 65490, 65520, 65549, 65579, 65608, 65638, 65667, 65697, 65726, 65755, 65785, 65815, 65844, 65874, 65903, 65933, 65963, 65992, 66022, 66051, 66081, 66110, 66140, 66169, 66199, 66228, 66258, 66287, 66317, 66346, 66376, 66405, 66435, 66465, 66494, 66524, 66553, 66583, 66612, 66641, 66671, 66700, 66730, 66760, 66789, 66819, 66849, 66878, 66908, 66937, 66967, 66996, 67025, 67055, 67084, 67114, 67143, 67173, 67203, 67233, 67262, 67292, 67321, 67351, 67380, 67409, 67439, 67468, 67497, 67527, 67557, 67587, 67617, 67646, 67676, 67705, 67735, 67764, 67793, 67823, 67852, 67882, 67911, 67941, 67971, 68e3, 68030, 68060, 68089, 68119, 68148, 68177, 68207, 68236, 68266, 68295, 68325, 68354, 68384, 68414, 68443, 68473, 68502, 68532, 68561, 68591, 68620, 68650, 68679, 68708, 68738, 68768, 68797, 68827, 68857, 68886, 68916, 68946, 68975, 69004, 69034, 69063, 69092, 69122, 69152, 69181, 69211, 69240, 69270, 69300, 69330, 69359, 69388, 69418, 69447, 69476, 69506, 69535, 69565, 69595, 69624, 69654, 69684, 69713, 69743, 69772, 69802, 69831, 69861, 69890, 69919, 69949, 69978, 70008, 70038, 70067, 70097, 70126, 70156, 70186, 70215, 70245, 70274, 70303, 70333, 70362, 70392, 70421, 70451, 70481, 70510, 70540, 70570, 70599, 70629, 70658, 70687, 70717, 70746, 70776, 70805, 70835, 70864, 70894, 70924, 70954, 70983, 71013, 71042, 71071, 71101, 71130, 71159, 71189, 71218, 71248, 71278, 71308, 71337, 71367, 71397, 71426, 71455, 71485, 71514, 71543, 71573, 71602, 71632, 71662, 71691, 71721, 71751, 71781, 71810, 71839, 71869, 71898, 71927, 71957, 71986, 72016, 72046, 72075, 72105, 72135, 72164, 72194, 72223, 72253, 72282, 72311, 72341, 72370, 72400, 72429, 72459, 72489, 72518, 72548, 72577, 72607, 72637, 72666, 72695, 72725, 72754, 72784, 72813, 72843, 72872, 72902, 72931, 72961, 72991, 73020, 73050, 73080, 73109, 73139, 73168, 73197, 73227, 73256, 73286, 73315, 73345, 73375, 73404, 73434, 73464, 73493, 73523, 73552, 73581, 73611, 73640, 73669, 73699, 73729, 73758, 73788, 73818, 73848, 73877, 73907, 73936, 73965, 73995, 74024, 74053, 74083, 74113, 74142, 74172, 74202, 74231, 74261, 74291, 74320, 74349, 74379, 74408, 74437, 74467, 74497, 74526, 74556, 74586, 74615, 74645, 74675, 74704, 74733, 74763, 74792, 74822, 74851, 74881, 74910, 74940, 74969, 74999, 75029, 75058, 75088, 75117, 75147, 75176, 75206, 75235, 75264, 75294, 75323, 75353, 75383, 75412, 75442, 75472, 75501, 75531, 75560, 75590, 75619, 75648, 75678, 75707, 75737, 75766, 75796, 75826, 75856, 75885, 75915, 75944, 75974, 76003, 76032, 76062, 76091, 76121, 76150, 76180, 76210, 76239, 76269, 76299, 76328, 76358, 76387, 76416, 76446, 76475, 76505, 76534, 76564, 76593, 76623, 76653, 76682, 76712, 76741, 76771, 76801, 76830, 76859, 76889, 76918, 76948, 76977, 77007, 77036, 77066, 77096, 77125, 77155, 77185, 77214, 77243, 77273, 77302, 77332, 77361, 77390, 77420, 77450, 77479, 77509, 77539, 77569, 77598, 77627, 77657, 77686, 77715, 77745, 77774, 77804, 77833, 77863, 77893, 77923, 77952, 77982, 78011, 78041, 78070, 78099, 78129, 78158, 78188, 78217, 78247, 78277, 78307, 78336, 78366, 78395, 78425, 78454, 78483, 78513, 78542, 78572, 78601, 78631, 78661, 78690, 78720, 78750, 78779, 78808, 78838, 78867, 78897, 78926, 78956, 78985, 79015, 79044, 79074, 79104, 79133, 79163, 79192, 79222, 79251, 79281, 79310, 79340, 79369, 79399, 79428, 79458, 79487, 79517, 79546, 79576, 79606, 79635, 79665, 79695, 79724, 79753, 79783, 79812, 79841, 79871, 79900, 79930, 79960, 79990];
            e.getHijriDate = function(e) {
                var n = e.getDate(),
                    i = e.getMonth(),
                    r = e.getFullYear(),
                    o = i + 1,
                    a = r;
                o < 3 && (a -= 1, o += 12);
                var s = Math.floor(a / 100),
                    l = s - Math.floor(s / 4) - 2,
                    d = Math.floor(365.25 * (a + 4716)) + Math.floor(30.6001 * (o + 1)) + n - l - 1524,
                    c = d + (l = (s = Math.floor((d - 1867216.25) / 36524.25)) - Math.floor(s / 4) + 1) + 1524,
                    h = Math.floor((c - 122.1) / 365.25),
                    p = Math.floor(365.25 * h),
                    u = Math.floor((c - p) / 30.6001);
                n = c - p - Math.floor(30.6001 * u), (i = Math.floor((c - p) / 20.6001)) > 13 && (h += 1, i -= 12), i -= 1, r = h - 4716;
                var m = d - 24e5,
                    f = d - 1948084,
                    g = Math.floor(f / 10631);
                f -= 10631 * g;
                var y = Math.floor((f - .1335) / (10631 / 30)),
                    v = 30 * g + y;
                f -= Math.floor(y * (10631 / 30) + .1335);
                var b = Math.floor((f + 28.5001) / 29.5);
                13 === b && (b = 12);
                for (var C = f - Math.floor(29.5001 * b - 29), N = 0; N < t.length && !(t[N] > m); N++);
                var E = N + 16260,
                    w = Math.floor((E - 1) / 12),
                    S = w + 1,
                    M = E - 12 * w,
                    T = m - t[N - 1] + 1;
                return (T + "").length > 2 && (T = C, M = b, S = v), {
                    year: S,
                    month: M,
                    date: T
                }
            }, e.toGregorian = function(e, n, i) {
                var r = i + t[12 * (e - 1) + 1 + (n - 1) - 16260 - 1] - 1 + 24e5,
                    o = Math.floor(r + .5),
                    a = Math.floor((o - 1867216.25) / 36524.25),
                    s = (a = o + 1 + a - Math.floor(a / 4)) + 1524,
                    l = Math.floor((s - 122.1) / 365.25),
                    d = Math.floor(365.25 * l),
                    c = Math.floor((s - d) / 30.6001),
                    h = s - d - Math.floor(30.6001 * c),
                    p = c - (c > 13.5 ? 13 : 1),
                    u = l - (p > 2.5 ? 4716 : 4715);
                return u <= 0 && p--, new Date(u + "/" + p + "/" + h)
            }
        }(re || (re = {}));
        var me = /\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|cccc|ccc|G+|z+/gi,
            fe = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"],
            ge = {
                m: "getMinutes",
                h: "getHours",
                H: "getHours",
                s: "getSeconds",
                d: "getDate",
                f: "getMilliseconds"
            },
            ye = function() {
                function e() {}
                return e.dateFormat = function(e, t, n) {
                    var i = this,
                        r = ie.getDependables(n, e, t.calendar),
                        a = {
                            isIslamic: ie.islamicRegex.test(t.calendar)
                        };
                    g() && t.isServerRendered && (t = ie.compareBlazorDateFormats(t, e));
                    var s = t.format || ie.getResultantPattern(t.skeleton, r.dateObject, t.type);
                    if (a.dateSeperator = ie.getDateSeparator(r.dateObject), p(s)) m("Format options or type given must be invalid");
                    else {
                        a.pattern = s, a.numMapper = de.getNumberMapper(r.parserObject, de.getNumberingSystem(n));
                        for (var l = 0, d = s.match(me) || []; l < d.length; l++) {
                            var c = d[l],
                                h = c.length,
                                u = c[0];
                            "K" === u && (u = "h");
                            switch (u) {
                                case "E":
                                case "c":
                                    a.weekday = r.dateObject[ie.days]["stand-alone"][ie.monthIndex[h]];
                                    break;
                                case "M":
                                case "L":
                                    a.month = r.dateObject[ie.month]["stand-alone"][ie.monthIndex[h]];
                                    break;
                                case "a":
                                    a.designator = o("dayPeriods.format.wide", r.dateObject);
                                    break;
                                case "G":
                                    var f = h <= 3 ? "eraAbbr" : 4 === h ? "eraNames" : "eraNarrow";
                                    a.era = o("eras." + f, r.dateObject);
                                    break;
                                case "z":
                                    a.timeZone = o("dates.timeZoneNames", r.parserObject)
                            }
                        }
                    }
                    return function(e) {
                        return isNaN(e.getDate()) ? null : i.intDateFormatter(e, a)
                    }
                }, e.intDateFormatter = function(e, t) {
                    for (var n = "", i = t.pattern.match(ie.dateParseRegex), r = this.getCurrentDateValue(e, t.isIslamic), o = 0, a = i; o < a.length; o++) {
                        var s = a[o],
                            l = s.length,
                            d = s[0];
                        "K" === d && (d = "h");
                        var c = void 0,
                            p = "",
                            u = void 0,
                            m = void 0,
                            f = "";
                        switch (d) {
                            case "M":
                            case "L":
                                c = r.month, l > 2 ? n += t.month[c] : u = !0;
                                break;
                            case "E":
                            case "c":
                                n += t.weekday[fe[e.getDay()]];
                                break;
                            case "H":
                            case "h":
                            case "m":
                            case "s":
                            case "d":
                            case "f":
                                if (u = !0, "d" === d) c = r.date;
                                else if ("f" === d) {
                                    u = !1, m = !0;
                                    var g = (p = (p = e[ge[d]]().toString()).substring(0, l)).length;
                                    if (l !== g) {
                                        if (l > 3) continue;
                                        for (var y = 0; y < l - g; y++) p = "0" + p.toString()
                                    }
                                    f += p
                                } else c = e[ge[d]]();
                                "h" === d && (c = c % 12 || 12);
                                break;
                            case "y":
                                m = !0, f += r.year, 2 === l && (f = f.substr(f.length - 2));
                                break;
                            case "a":
                                var v = e.getHours() < 12 ? "am" : "pm";
                                n += t.designator[v];
                                break;
                            case "G":
                                var b = e.getFullYear() < 0 ? 0 : 1,
                                    C = t.era[b];
                                h(C) && (C = t.era[b ? 0 : 1]), n += C || "";
                                break;
                            case "'":
                                n += "''" === s ? "'" : s.replace(/\'/g, "");
                                break;
                            case "z":
                                var N = e.getTimezoneOffset(),
                                    E = l < 4 ? "+H;-H" : t.timeZone.hourFormat;
                                E = E.replace(/:/g, t.numMapper.timeSeparator), 0 === N ? n += t.timeZone.gmtZeroFormat : (m = !0, f = this.getTimeZoneValue(N, E)), f = t.timeZone.gmtFormat.replace(/\{0\}/, f);
                                break;
                            case ":":
                                n += t.numMapper.numberSymbols.timeSeparator;
                                break;
                            case "/":
                                n += t.dateSeperator;
                                break;
                            default:
                                n += s
                        }
                        u && (m = !0, f = this.checkTwodigitNumber(c, l)), m && (n += de.convertValueParts(f, ie.latnParseRegex, t.numMapper.mapper))
                    }
                    return n
                }, e.getCurrentDateValue = function(e, t) {
                    return t ? re.getHijriDate(e) : {
                        year: e.getFullYear(),
                        month: e.getMonth() + 1,
                        date: e.getDate()
                    }
                }, e.checkTwodigitNumber = function(e, t) {
                    var n = e + "";
                    return 2 === t && 2 !== n.length ? "0" + n : n
                }, e.getTimeZoneValue = function(e, t) {
                    var n = this,
                        i = t.split(";")[e > 0 ? 1 : 0],
                        r = Math.abs(e);
                    return i.replace(/HH?|mm/g, (function(e) {
                        var t = e.length,
                            i = -1 !== e.indexOf("H");
                        return n.checkTwodigitNumber(Math.floor(i ? r / 60 : r % 60), t)
                    }))
                }, e
            }(),
            ve = new ee,
            be = !1,
            Ce = "en-US",
            Ne = "USD";
        var Ee, we, Se = (Ee = function(e, t) {
                return (Ee = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(e, t)
            }, function(e, t) {
                function n() {
                    this.constructor = e
                }
                Ee(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
            }),
            Me = function(e, t, n, i) {
                var r, o = arguments.length,
                    a = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, i);
                else
                    for (var s = e.length - 1; s >= 0; s--)(r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, n, a) : r(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a), a
            },
            Te = 0,
            xe = 0,
            Le = function(e) {
                function t(t, n) {
                    var i = e.call(this, t, n) || this;
                    return i.randomId = function() {
                        if ("undefined" != typeof window) {
                            var e = new Uint16Array(5);
                            return (window.msCrypto || window.crypto).getRandomValues(e)
                        }
                    }(), i.isStringTemplate = !1, i.needsID = !1, i.createElement = b, h(i.enableRtl) && i.setProperties({
                        enableRtl: be
                    }, !0), h(i.locale) && i.setProperties({
                        locale: Ce
                    }, !0), i.moduleLoader = new Z(i), i.localObserver = new ee(i), ve.on("notifyExternalChange", i.detectFunction, i, i.randomId), p(n) || i.appendTo(), i
                }
                return Se(t, e), t.prototype.requiredModules = function() {
                    return []
                }, t.prototype.destroy = function() {
                    this.isDestroyed || (this.enablePersistence && this.setPersistData(), this.localObserver.destroy(), this.refreshing || (N([this.element], ["e-control"]), this.trigger("destroyed", {
                        cancel: !1
                    }), e.prototype.destroy.call(this), this.moduleLoader.clean(), ve.off("notifyExternalChange", this.detectFunction, this.randomId)))
                }, t.prototype.refresh = function() {
                    this.refreshing = !0, this.moduleLoader.clean(), this.destroy(), this.clearChanges(), this.localObserver = new ee(this), this.preRender(), this.injectModules(), this.render(), this.refreshing = !1
                }, t.prototype.appendTo = function(t) {
                    if (h(t) || "string" != typeof t ? h(t) || (this.element = t) : this.element = document.querySelector(t), !h(this.element)) {
                        var n = "e-" + this.getModuleName().toLowerCase();
                        C([this.element], ["e-control", n]), this.isProtectedOnChange = !1, this.needsID && !this.element.id && (this.element.id = this.getUniqueID(this.getModuleName())), this.enablePersistence && (this.mergePersistData(), window.addEventListener("unload", this.setPersistData.bind(this)));
                        var i = o("ej2_instances", this.element);
                        i && -1 !== i.indexOf(this) || e.prototype.addInstance.call(this), this.preRender(), this.injectModules(), this.render(), this.trigger("created")
                    }
                }, t.prototype.renderComplete = function(e) {
                    if (g()) {
                        window.ejsInterop.renderComplete(this.element, e)
                    }
                    this.isRendered = !0
                }, t.prototype.dataBind = function() {
                    this.injectModules(), e.prototype.dataBind.call(this)
                }, t.prototype.on = function(e, t, n) {
                    if ("string" == typeof e) this.localObserver.on(e, t, n);
                    else
                        for (var i = 0, r = e; i < r.length; i++) {
                            var o = r[i];
                            this.localObserver.on(o.event, o.handler, o.context)
                        }
                }, t.prototype.off = function(e, t) {
                    if ("string" == typeof e) this.localObserver.off(e, t);
                    else
                        for (var n = 0, i = e; n < i.length; n++) {
                            var r = i[n];
                            this.localObserver.off(r.event, r.handler)
                        }
                }, t.prototype.notify = function(e, t) {
                    !0 !== this.isDestroyed && this.localObserver.notify(e, t)
                }, t.prototype.getInjectedModules = function() {
                    return this.injectedModules
                }, t.Inject = function() {
                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                    this.prototype.injectedModules || (this.prototype.injectedModules = []);
                    for (var n = 0; n < e.length; n++) - 1 === this.prototype.injectedModules.indexOf(e[n]) && this.prototype.injectedModules.push(e[n])
                }, t.prototype.injectModules = function() {
                    this.injectedModules && this.injectedModules.length && this.moduleLoader.inject(this.requiredModules(), this.injectedModules)
                }, t.prototype.detectFunction = function(e) {
                    var t = Object.keys(e);
                    t.length && (this[t[0]] = e[t[0]])
                }, t.prototype.mergePersistData = function() {
                    var e = window.localStorage.getItem(this.getModuleName() + this.element.id);
                    h(e) || "" === e || this.setProperties(JSON.parse(e), !0)
                }, t.prototype.setPersistData = function() {
                    this.isDestroyed || window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData())
                }, t.prototype.clearTemplate = function(e, t) {}, t.prototype.getUniqueID = function(e) {
                    return this.isHistoryChanged() && (Te = 0), we = this.pageID(location.href), xe = history.length, e + "_" + we + "_" + Te++
                }, t.prototype.pageID = function(e) {
                    var t = 0;
                    if (0 === e.length) return t;
                    for (var n = 0; n < e.length; n++) {
                        t = (t << 5) - t + e.charCodeAt(n), t &= t
                    }
                    return Math.abs(t)
                }, t.prototype.isHistoryChanged = function() {
                    return we !== this.pageID(location.href) || xe !== history.length
                }, t.prototype.addOnPersist = function(e) {
                    for (var t = this, n = {}, i = 0, r = e; i < r.length; i++) {
                        var s, l = r[i];
                        p(s = o(l, this)) || a(l, this.getActualProperties(s), n)
                    }
                    return JSON.stringify(n, (function(e, n) {
                        return t.getActualProperties(n)
                    }))
                }, t.prototype.getActualProperties = function(e) {
                    return e instanceof oe ? o("properties", e) : e
                }, t.prototype.ignoreOnPersist = function(e) {
                    return JSON.stringify(this.iterateJsonProperties(this.properties, e))
                }, t.prototype.iterateJsonProperties = function(e, t) {
                    for (var n = {}, i = function(i) {
                            if (-1 === t.indexOf(i)) {
                                var o = e[i];
                                if ("object" != typeof o || o instanceof Array) n[i] = o;
                                else {
                                    var a = t.filter((function(e) {
                                        return new RegExp(i + ".").test(e)
                                    })).map((function(e) {
                                        return e.replace(i + ".", "")
                                    }));
                                    n[i] = r.iterateJsonProperties(r.getActualProperties(o), a)
                                }
                            }
                        }, r = this, o = 0, a = Object.keys(e); o < a.length; o++) {
                        i(a[o])
                    }
                    return n
                }, Me([J(!1)], t.prototype, "enablePersistence", void 0), Me([J()], t.prototype, "enableRtl", void 0), Me([J()], t.prototype, "locale", void 0), t = Me([$], t)
            }(ne);
        "undefined" != typeof window && window.addEventListener("popstate", (function() {
            Te = 0
        }));
        var ke = new RegExp("\\n|\\r|\\s\\s+", "g"),
            De = new RegExp(/'|"/g),
            Oe = new RegExp("if ?\\("),
            Pe = new RegExp("else if ?\\("),
            Re = new RegExp("else"),
            Ae = new RegExp("for ?\\("),
            Ie = new RegExp("(/if|/for)"),
            He = new RegExp("\\((.*)\\)", ""),
            Be = new RegExp("^[0-9]+$", "g"),
            je = new RegExp("[\\w\"'.\\s+]+", "g"),
            Fe = new RegExp('"(.*?)"', "g"),
            ze = new RegExp("[\\w\"'@#$.\\s+]+", "g"),
            _e = new RegExp("\\${([^}]*)}", "g"),
            qe = /^\..*/gm,
            Ge = /\\/gi,
            Ue = /\\\\/gi,
            Ve = new RegExp("[\\w\"'@#$.\\s+]+", "g"),
            We = /\window\./gm;

        function Ke(e, t) {
            var n = function(e, t, n) {
                var i = 0,
                    r = [],
                    o = e.match(/class="([^\"]+|)\s{2}/g),
                    a = "";
                o && o.forEach((function(t) {
                    a = t.replace(/\s\s+/g, " "), e = e.replace(t, a)
                }));
                return e.replace(ke, "").replace(Fe, "'$1'").replace(_e, (function(e, o, a, s) {
                    var l = o.match(He);
                    if (l) {
                        var d = l[1];
                        if (Pe.test(o)) o = '";} ' + o.replace(l[1], d.replace(je, (function(e) {
                            return Je(e = e.trim(), !De.test(e) && -1 === r.indexOf(e), t, r)
                        }))) + '{ \n str = str + "';
                        else if (Oe.test(o)) o = '"; ' + o.replace(l[1], d.replace(ze, (function(e) {
                            return $e(e, t, r)
                        }))) + '{ \n str = str + "';
                        else if (Ae.test(o)) {
                            var c = l[1].split(" of ");
                            o = '"; ' + o.replace(l[1], (function(e) {
                                return r.push(c[0]), r.push(c[0] + "Index"), "var i" + (i += 1) + "=0; i" + i + " < " + Je(c[1], !0, t, r) + ".length; i" + i + "++"
                            })) + "{ \n " + c[0] + "= " + Je(c[1], !0, t, r) + "[i" + i + "]; \n var " + c[0] + "Index=i" + i + '; \n str = str + "'
                        } else {
                            var h = o.split("("),
                                p = n && n.hasOwnProperty(h[0]) ? "this." : "global";
                            p = /\./.test(h[0]) ? "" : p;
                            var u = l[1].split(",");
                            0 === l[1].length || /data/.test(u[0]) || /window./.test(u[0]) || (l[1] = "global" === p ? t + "." + l[1] : l[1]);
                            if (We.test(o) && /\]\./gm.test(o) || /\@|\$|\#/gm.test(o)) {
                                /\@|\$|\#|\]\./gm.test(o) && (o = '"+ ' + ("global" === p ? "" : p) + o.replace(l[1], d.replace(Ve, (function(e) {
                                    return $e(e, t, r)
                                }))) + '+ "')
                            } else o = '" + ' + ("global" === p ? "" : p) + o.replace(d, Je(l[1].replace(/,( |)data.|,/gi, "," + t + ".").replace(/,( |)data.window/gi, ",window"), "global" !== p, t, r)) + '+"'
                        }
                    } else Re.test(o) ? o = '"; ' + o.replace(Re, '} else { \n str = str + "') : o.match(Ie) ? o = o.replace(Ie, '"; \n } \n str = str + "') : /\@|\#|\$/gm.test(o) ? (o.match(Ge) && (o = Ye(o)), o = '"+' + Xe(o, -1 === r.indexOf(o), t, r) + '"]+"') : o = o.match(Ge) ? '"+' + Xe(o = Ye(o), -1 === r.indexOf(o), t, r) + '"]+"' : '"+' + Je(o.replace(/\,/gi, "+" + t + "."), -1 === r.indexOf(o), t, r) + '+"';
                    return o
                }))
            }(e, "data", t);
            return new Function("data", 'var str="' + n + '"; return str;').bind(t)
        }

        function Je(e, t, n, i) {
            return t && !Be.test(e) && -1 === i.indexOf(e.split(".")[0]) ? n + "." + e : e
        }

        function Xe(e, t, n, i) {
            return t && !Be.test(e) && -1 === i.indexOf(e.split(".")[0]) ? n + '["' + e : e
        }

        function Ye(e) {
            return e = e.match(Ue) ? e : e.replace(Ge, "\\\\")
        }

        function $e(e, t, n) {
            e = e.trim();
            if (/\window\./gm.test(e)) return e;
            var i = /'|"/gm;
            return /\@|\$|\#/gm.test(e) && (e = Xe(e, -1 === n.indexOf(e), t, n) + '"]'), qe.test(e) ? function(e, t, n, i) {
                return !t || Be.test(e) || -1 !== i.indexOf(e.split(".")[0]) || /^\..*/gm.test(e) ? e : n + "." + e
            }(e, !i.test(e) && -1 === n.indexOf(e), t, n) : Je(e, !i.test(e) && -1 === n.indexOf(e), t, n)
        }
        var Qe = /^[\n\r.]+\<tr|^\<tr/,
            Ze = /^[\n\r.]+\<svg|^\<path|^\<g/,
            et = {};

        function tt(e, t) {
            var n = nt.compile(e, t);
            return function(e, t, i, r, o, a) {
                var s = n(e, t, i);
                if (g() && !o) {
                    var l = r + ("-" + Math.random().toString(36).substr(2, 5));
                    if (et[r] || (et[r] = []), h(a)) e.BlazorTemplateId = l, et[r].push(e);
                    else
                        for (var d = 0, c = Object.keys(et[r][a]); d < c.length; d++) {
                            var p = c[d];
                            "BlazorTemplateId" !== p && e[p] && (et[r][a][p] = e[p]), "BlazorTemplateId" === p && (l = et[r][a][p])
                        }
                    return "rowTemplate" === i ? [b("tr", {
                        id: l,
                        className: "e-blazor-template"
                    })] : [b("div", {
                        id: l,
                        className: "e-blazor-template"
                    })]
                }
                return "string" == typeof s ? Ze.test(s) ? b("svg", {
                    innerHTML: s
                }).childNodes : b(Qe.test(s) ? "table" : "div", {
                    innerHTML: s
                }).childNodes : s
            }
        }
        var nt = {
            compile: (new(function() {
                function e() {}
                return e.prototype.compile = function(e, t) {
                    return void 0 === t && (t = {}), Ke(e, t)
                }, e
            }())).compile
        };
        ! function() {
            var e = function(t, n) {
                return (e = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(t, n)
            }
        }();
        ! function() {
            var e = function(t, n) {
                return (e = Object.setPrototypeOf || {
                        __proto__: []
                    }
                    instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                    })(t, n)
            }
        }();

        function it(e, t) {
            for (var n = getComputedStyle(e), i = [], r = /(auto|scroll)/, o = e.parentElement; o && "HTML" !== o.tagName;) {
                var a = getComputedStyle(o);
                "absolute" === n.position && "static" === a.position || !r.test(a.overflow + a.overflowY + a.overflowX) || i.push(o), o = o.parentElement
            }
            return t || i.push(document), i
        }
        var rt, ot, at = "paste-content";
        ! function(e) {
            e[e.Toolbar = 0] = "Toolbar", e[e.Content = 1] = "Content", e[e.Popup = 2] = "Popup", e[e.LinkToolbar = 3] = "LinkToolbar", e[e.TextToolbar = 4] = "TextToolbar", e[e.ImageToolbar = 5] = "ImageToolbar", e[e.InlineToolbar = 6] = "InlineToolbar", e[e.TableToolbar = 7] = "TableToolbar"
        }(rt || (rt = {})),
        function(e) {
            e.Expand = "Expand", e.MultiRow = "MultiRow"
        }(ot || (ot = {}));
        var st = function() {
                function e(e, t) {
                    this.parent = e, this.locator = t, this.renderer = this.locator.getService("rendererFactory"), this.addEventListener()
                }
                return e.prototype.render = function() {
                    this.parent;
                    this.contentRenderer = this.renderer.getRenderer(rt.Content), this.contentRenderer.renderPanel()
                }, e.prototype.refresh = function(e) {
                    void 0 === e && (e = {
                        requestType: "refresh"
                    }), this.parent.notify(e.requestType + "-begin", e)
                }, e.prototype.destroy = function() {
                    this.removeEventListener()
                }, e.prototype.addEventListener = function() {
                    this.parent.isDestroyed || (this.parent.on("model-changed", this.refresh, this), this.parent.on("keyUp", this.keyUp, this))
                }, e.prototype.removeEventListener = function() {
                    this.parent.isDestroyed || (this.parent.off("model-changed", this.refresh), this.parent.off("keyUp", this.keyUp))
                }, e.prototype.keyUp = function(e) {
                    if ("HTML" === this.parent.editorMode) switch (e.args.which) {
                        case 46:
                        case 8:
                            var t = this.parent.contentModule.getEditPanel().childNodes;
                            if (0 === t.length || 1 === t.length && ("BR" === t[0].tagName || "P" === t[0].tagName && (0 === t[0].childNodes.length || "" === t[0].textContent))) {
                                var n = this.parent.contentModule.getEditPanel();
                                n.innerHTML = "<p><br/></p>", this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), n.childNodes[0], 0)
                            }
                    }
                }, e
            }(),
            lt = function() {
                var e = function(t, n) {
                    return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(e, t) {
                            e.__proto__ = t
                        } || function(e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(t, n)
                };
                return function(t, n) {
                    function i() {
                        this.constructor = t
                    }
                    e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
                }
            }(),
            dt = function(e, t, n, i) {
                var r, o = arguments.length,
                    a = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, i);
                else
                    for (var s = e.length - 1; s >= 0; s--)(r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, n, a) : r(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a), a
            },
            ct = {
                backspace: 8,
                tab: 9,
                enter: 13,
                shift: 16,
                control: 17,
                alt: 18,
                pause: 19,
                capslock: 20,
                space: 32,
                escape: 27,
                pageup: 33,
                pagedown: 34,
                end: 35,
                home: 36,
                leftarrow: 37,
                uparrow: 38,
                rightarrow: 39,
                downarrow: 40,
                insert: 45,
                delete: 46,
                f1: 112,
                f2: 113,
                f3: 114,
                f4: 115,
                f5: 116,
                f6: 117,
                f7: 118,
                f8: 119,
                f9: 120,
                f10: 121,
                f11: 122,
                f12: 123,
                semicolon: 186,
                plus: 187,
                comma: 188,
                minus: 189,
                dot: 190,
                forwardslash: 191,
                graveaccent: 192,
                openbracket: 219,
                backslash: 220,
                closebracket: 221,
                singlequote: 222,
                "]": 221,
                "[": 219,
                "=": 187
            },
            ht = function(e) {
                function t(t, i) {
                    var r = e.call(this, i, t) || this;
                    return r.keyPressHandler = function(e) {
                        for (var t = e.altKey, i = e.ctrlKey, o = e.shiftKey, a = e.which, s = 0, l = Object.keys(r.keyConfigs); s < l.length; s++)
                            for (var d = l[s], c = 0, h = r.keyConfigs[d].split(","); c < h.length; c++) {
                                var p = h[c],
                                    u = n.getKeyConfigData(p.trim());
                                t === u.altKey && i === u.ctrlKey && o === u.shiftKey && a === u.keyCode && (e.action = d)
                            }
                        r.keyAction && r.keyAction(e)
                    }, r.bind(), r
                }
                var n;
                return lt(t, e), n = t, t.prototype.destroy = function() {
                    this.unwireEvents(), e.prototype.destroy.call(this)
                }, t.prototype.onPropertyChanged = function(e, t) {}, t.prototype.bind = function() {
                    this.wireEvents()
                }, t.prototype.getModuleName = function() {
                    return "keyboard"
                }, t.prototype.wireEvents = function() {
                    this.element.addEventListener(this.eventName, this.keyPressHandler)
                }, t.prototype.unwireEvents = function() {
                    this.element.removeEventListener(this.eventName, this.keyPressHandler)
                }, t.getKeyConfigData = function(e) {
                    if (e in this.configCache) return this.configCache[e];
                    var t = e.toLowerCase().split("+"),
                        i = {
                            altKey: -1 !== t.indexOf("alt"),
                            ctrlKey: -1 !== t.indexOf("ctrl"),
                            shiftKey: -1 !== t.indexOf("shift"),
                            keyCode: null
                        };
                    return t[t.length - 1].length > 1 && Number(t[t.length - 1]) ? i.keyCode = Number(t[t.length - 1]) : i.keyCode = n.getKeyCode(t[t.length - 1]), n.configCache[e] = i, i
                }, t.getKeyCode = function(e) {
                    return ct[e] || e.toUpperCase().charCodeAt(0)
                }, t.configCache = {}, dt([J({})], t.prototype, "keyConfigs", void 0), dt([J("keyup")], t.prototype, "eventName", void 0), dt([Y()], t.prototype, "keyAction", void 0), t = n = dt([$], t)
            }(ne),
            pt = function() {
                function e(e, t) {
                    this.parent = e;
                    var n = t;
                    this.rendererFactory = n.getService("rendererFactory"), this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.on("sourceCode", this.sourceCode, this), this.parent.on("initial-end", this.onInitialEnd, this), this.parent.on("updateSource", this.updateSourceCode, this)
                }, e.prototype.onInitialEnd = function() {
                    this.parent.formatter.editorManager.observer.on("keydown-handler", this.onKeyDown, this)
                }, e.prototype.removeEventListener = function() {
                    this.unWireEvent(), this.parent.off("sourceCode", this.sourceCode), this.parent.off("updateSource", this.updateSourceCode), this.parent.off("initial-end", this.onInitialEnd), this.parent.formatter.editorManager.observer.off("keydown-handler", this.onKeyDown)
                }, e.prototype.getSourceCode = function() {
                    return this.parent.createElement("textarea", {
                        className: "e-rte-srctextarea"
                    })
                }, e.prototype.wireEvent = function(e) {
                    this.keyboardModule = new ht(e, {
                        keyAction: this.previewKeyDown.bind(this),
                        keyConfigs: this.parent.formatter.keyConfig,
                        eventName: "keydown"
                    }), y.add(this.previewElement, "mousedown", this.mouseDownHandler, this)
                }, e.prototype.unWireEvent = function() {
                    this.keyboardModule && this.keyboardModule.destroy(), this.previewElement && y.remove(this.previewElement, "mousedown", this.mouseDownHandler)
                }, e.prototype.wireBaseKeyDown = function() {
                    this.parent.keyboardModule = new ht(this.contentModule.getEditPanel(), {
                        keyAction: this.parent.keyDown.bind(this.parent),
                        keyConfigs: this.parent.formatter.keyConfig,
                        eventName: "keydown"
                    })
                }, e.prototype.unWireBaseKeyDown = function() {
                    this.parent.keyboardModule.destroy()
                }, e.prototype.mouseDownHandler = function(e) {
                    this.parent.notify("sourceCodeMouseDown", {
                        args: e
                    })
                }, e.prototype.previewKeyDown = function(e) {
                    switch (e.action) {
                        case "html-source":
                            this.updateSourceCode(e), e.preventDefault();
                            break;
                        case "toolbar-focus":
                            if (this.parent.toolbarSettings.enable) {
                                this.parent.toolbarModule.baseToolbar.toolbarObj.element.querySelector('.e-toolbar-item[aria-disabled="false"][title] [tabindex]').focus()
                            }
                    }
                }, e.prototype.onKeyDown = function(e) {
                    switch (e.event.action) {
                        case "html-source":
                            e.event.preventDefault(), this.sourceCode(e), e.callBack({
                                requestType: "SourceCode",
                                editorMode: "HTML",
                                event: e.event
                            })
                    }
                }, e.prototype.sourceCode = function(e) {
                    this.parent.isBlur = !1, this.parent.trigger("actionBegin", {
                        requestType: "SourceCode",
                        targetItem: "SourceCode",
                        args: e
                    });
                    var t = k(".e-toolbar-item", this.parent.element);
                    if (this.contentModule = this.rendererFactory.getRenderer(rt.Content), this.parent.notify("updateToolbarItem", {
                            targetItem: "SourceCode",
                            updateItem: "Preview",
                            baseToolbar: this.parent.getBaseToolbarObject()
                        }), h(this.previewElement) && (this.previewElement = this.getSourceCode()), this.parent.updateValueData(), this.parent.iframeSettings.enable) {
                        var n = void 0;
                        (n = h(this.parent.element.querySelector("#" + this.parent.element.id + "_source-view")) ? this.parent.createElement("div", {
                            className: "e-source-content",
                            id: this.parent.element.id + "_source-view"
                        }) : this.parent.element.querySelector("#" + this.parent.element.id + "_source-view")).appendChild(this.previewElement), this.parent.element.appendChild(n), n.style.height = this.contentModule.getPanel().style.height, n.style.marginTop = this.contentModule.getPanel().style.marginTop, this.getPanel().value = this.getTextAreaValue(), this.contentModule.getPanel().style.display = "none", n.style.display = "block"
                    } else this.contentModule.getPanel().appendChild(this.previewElement), this.getPanel().value = this.getTextAreaValue(), this.contentModule.getEditPanel().style.display = "none", this.previewElement.style.display = "block";
                    (this.parent.isBlur = !1, this.parent.disableToolbarItem(this.parent.toolbarSettings.items), this.parent.enableToolbarItem("SourceCode"), this.parent.getToolbar() && N([this.parent.getToolbar()], ["e-expand-open"]), N(t, ["e-active"]), this.parent.setContentHeight("sourceCode", !0), this.wireEvent(this.previewElement), this.unWireBaseKeyDown(), this.previewElement.focus(), this.parent.updateValue(), h(this.parent.placeholder) || this.parent.iframeSettings.enable) || (this.parent.element.querySelector(".rte-placeholder").style.display = "none");
                    this.parent.trigger("actionComplete", {
                        requestType: "SourceCode",
                        targetItem: "SourceCode",
                        args: e
                    }), this.parent.invokeChangeEvent()
                }, e.prototype.updateSourceCode = function(e) {
                    this.parent.isBlur = !1, this.parent.trigger("actionBegin", {
                        requestType: "Preview",
                        targetItem: "Preview",
                        args: e
                    });
                    var t = this.getPanel();
                    this.parent.notify("updateToolbarItem", {
                        targetItem: "Preview",
                        updateItem: "SourceCode",
                        baseToolbar: this.parent.getBaseToolbarObject()
                    });
                    var n = this.parent.serializeValue(t.value),
                        i = null === n || "" === n ? "<p><br/></p>" : n;
                    (this.parent.iframeSettings.enable ? (t.parentElement.style.display = "none", this.contentModule.getPanel().style.display = "block", this.contentModule.getEditPanel().innerHTML = i) : (t.style.display = "none", this.contentModule.getEditPanel().style.display = "block", this.contentModule.getEditPanel().innerHTML = i), this.parent.isBlur = !1, this.parent.enableToolbarItem(this.parent.toolbarSettings.items), this.parent.getToolbar() && N([this.parent.getToolbar()], ["e-expand-open"]), this.parent.setContentHeight("preview", !0), this.unWireEvent(), this.wireBaseKeyDown(), this.contentModule.getEditPanel().focus(), this.parent.updateValue(), h(this.parent.placeholder) || 0 !== this.contentModule.getEditPanel().innerText.length) || (this.parent.element.querySelector(".rte-placeholder").style.display = "block");
                    this.parent.trigger("actionComplete", {
                        requestType: "Preview",
                        targetItem: "Preview",
                        args: e
                    }), this.parent.formatter.enableUndo(this.parent), this.parent.invokeChangeEvent()
                }, e.prototype.getTextAreaValue = function() {
                    return "<p><br></p>" === this.contentModule.getEditPanel().innerHTML || 12 === this.contentModule.getEditPanel().innerHTML.length || 1 === this.contentModule.getEditPanel().childNodes.length && "P" === this.contentModule.getEditPanel().childNodes[0].tagName && 7 === this.contentModule.getEditPanel().innerHTML.length ? "" : this.parent.value
                }, e.prototype.getPanel = function() {
                    return this.parent.element.querySelector(".e-rte-srctextarea")
                }, e.prototype.getViewPanel = function() {
                    return this.parent.iframeSettings.enable && this.getPanel() ? this.getPanel().parentElement : this.getPanel()
                }, e.prototype.destroy = function() {
                    this.removeEventListener()
                }, e
            }(),
            ut = {
                bold: {
                    command: "Style",
                    subCommand: "Bold",
                    value: "strong"
                },
                italic: {
                    command: "Style",
                    subCommand: "Italic",
                    value: "em"
                },
                underline: {
                    command: "Style",
                    subCommand: "Underline",
                    value: "span"
                },
                strikeThrough: {
                    command: "Style",
                    subCommand: "StrikeThrough",
                    value: "span"
                },
                insertCode: {
                    command: "Formats",
                    subCommand: "Pre",
                    value: "pre"
                },
                superscript: {
                    command: "Effects",
                    subCommand: "SuperScript",
                    value: "sup"
                },
                subscript: {
                    command: "Effects",
                    subCommand: "SubScript",
                    value: "sub"
                },
                uppercase: {
                    command: "Casing",
                    subCommand: "UpperCase"
                },
                lowercase: {
                    command: "Casing",
                    subCommand: "LowerCase"
                },
                fontColor: {
                    command: "font",
                    subCommand: "fontcolor",
                    value: "#ff0000"
                },
                fontName: {
                    command: "font",
                    subCommand: "fontname",
                    value: "Segoe UI"
                },
                fontSize: {
                    command: "font",
                    subCommand: "fontsize",
                    value: "10pt"
                },
                backColor: {
                    command: "font",
                    subCommand: "backgroundcolor",
                    value: "#ffff00"
                },
                justifyCenter: {
                    command: "Alignments",
                    subCommand: "JustifyCenter"
                },
                justifyFull: {
                    command: "Alignments",
                    subCommand: "JustifyFull"
                },
                justifyLeft: {
                    command: "Alignments",
                    subCommand: "JustifyLeft"
                },
                justifyRight: {
                    command: "Alignments",
                    subCommand: "JustifyRight"
                },
                undo: {
                    command: "Actions",
                    subCommand: "Undo"
                },
                redo: {
                    command: "Actions",
                    subCommand: "Redo"
                },
                createLink: {
                    command: "Links",
                    subCommand: "createLink"
                },
                editLink: {
                    command: "Links",
                    subCommand: "createLink"
                },
                createImage: {
                    command: "Images",
                    subCommand: "Images"
                },
                formatBlock: {
                    command: "Formats",
                    value: "P"
                },
                heading: {
                    command: "Formats",
                    value: "H1"
                },
                indent: {
                    command: "Indents",
                    subCommand: "Indent"
                },
                outdent: {
                    command: "Indents",
                    subCommand: "Outdent"
                },
                insertHTML: {
                    command: "InsertHTML",
                    subCommand: "InsertHTML",
                    value: ""
                },
                insertText: {
                    command: "InsertText",
                    subCommand: "InsertText",
                    value: ""
                },
                insertHorizontalRule: {
                    command: "InsertHTML",
                    subCommand: "InsertHTML",
                    value: "<hr/>"
                },
                insertImage: {
                    command: "Images",
                    subCommand: "Image"
                },
                editImage: {
                    command: "Images",
                    subCommand: "Image"
                },
                insertTable: {
                    command: "Table",
                    subCommand: "CreateTable"
                },
                insertBrOnReturn: {
                    command: "InsertHTML",
                    subCommand: "InsertHTML",
                    value: "<br/>"
                },
                insertOrderedList: {
                    command: "Lists",
                    value: "OL"
                },
                insertUnorderedList: {
                    command: "Lists",
                    value: "UL"
                },
                insertParagraph: {
                    command: "Formats",
                    value: "P"
                },
                removeFormat: {
                    command: "Clear",
                    subCommand: "ClearFormat"
                }
            },
            mt = function() {
                function e() {
                    this.services = {}
                }
                return e.prototype.register = function(e, t) {
                    h(this.services[e]) && (this.services[e] = t)
                }, e.prototype.getService = function(e) {
                    if (h(this.services[e])) throw "The service " + e + " is not registered";
                    return this.services[e]
                }, e
            }(),
            ft = function() {
                function e() {
                    this.rendererMap = {}
                }
                return e.prototype.addRenderer = function(e, t) {
                    var n = l(rt, e);
                    h(this.rendererMap[n]) && (this.rendererMap[n] = t)
                }, e.prototype.getRenderer = function(e) {
                    var t = l(rt, e);
                    if (h(this.rendererMap[t])) throw "The renderer " + t + " is not found";
                    return this.rendererMap[t]
                }, e
            }(),
            gt = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.on("execCommandCallBack", this.commandCallBack, this), this.parent.on("destroy", this.removeEventListener, this)
                }, e.prototype.commandCallBack = function(e) {
                    "Undo" !== e.requestType && "Redo" !== e.requestType && this.parent.formatter.saveData(), this.parent.notify("toolbar-refresh", {
                        args: e
                    }), this.parent.notify("count", {})
                }, e.prototype.removeEventListener = function() {
                    this.parent.off("execCommandCallBack", this.commandCallBack), this.parent.off("destroy", this.removeEventListener)
                }, e
            }(),
            yt = [{
                text: "Dashed Borders",
                cssClass: "e-dashed-borders",
                command: "Table",
                subCommand: "Dashed"
            }, {
                text: "Alternate Rows",
                cssClass: "e-alternate-rows",
                command: "Table",
                subCommand: "Alternate"
            }];
        var vt = function() {
                var e = function(t, n) {
                    return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(e, t) {
                            e.__proto__ = t
                        } || function(e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(t, n)
                };
                return function(t, n) {
                    function i() {
                        this.constructor = t
                    }
                    e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
                }
            }(),
            bt = function(e, t, n, i) {
                var r, o = arguments.length,
                    a = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, i);
                else
                    for (var s = e.length - 1; s >= 0; s--)(r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, n, a) : r(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a), a
            },
            Ct = ["Bold", "Italic", "Underline", "|", "Formats", "Alignments", "OrderedList", "UnorderedList", "|", "CreateLink", "Image", "|", "SourceCode", "Undo", "Redo"],
            Nt = [{
                text: "Segoe UI",
                value: "Segoe UI",
                cssClass: "e-segoe-ui"
            }, {
                text: "Arial",
                value: "Arial,Helvetica,sans-serif",
                cssClass: "e-arial"
            }, {
                text: "Georgia",
                value: "Georgia,serif",
                cssClass: "e-georgia"
            }, {
                text: "Impact",
                value: "Impact,Charcoal,sans-serif",
                cssClass: "e-impact"
            }, {
                text: "Tahoma",
                value: "Tahoma,Geneva,sans-serif",
                cssClass: "e-tahoma"
            }, {
                text: "Times New Roman",
                value: "Times New Roman,Times,serif",
                cssClass: "e-times-new-roman"
            }, {
                text: "Verdana",
                value: "Verdana,Geneva,sans-serif",
                cssClass: "e-verdana"
            }],
            Et = [{
                text: "8 pt",
                value: "8pt"
            }, {
                text: "10 pt",
                value: "10pt"
            }, {
                text: "12 pt",
                value: "12pt"
            }, {
                text: "14 pt",
                value: "14pt"
            }, {
                text: "18 pt",
                value: "18pt"
            }, {
                text: "24 pt",
                value: "24pt"
            }, {
                text: "36 pt",
                value: "36pt"
            }],
            wt = [{
                text: "Paragraph",
                value: "P",
                cssClass: "e-paragraph"
            }, {
                text: "Code",
                value: "Pre",
                cssClass: "e-code"
            }, {
                text: "Quotation",
                value: "BlockQuote",
                cssClass: "e-quote"
            }, {
                text: "Heading 1",
                value: "H1",
                cssClass: "e-h1"
            }, {
                text: "Heading 2",
                value: "H2",
                cssClass: "e-h2"
            }, {
                text: "Heading 3",
                value: "H3",
                cssClass: "e-h3"
            }, {
                text: "Heading 4",
                value: "H4",
                cssClass: "e-h4"
            }],
            St = {
                Custom: ["", "#000000", "#e7e6e6", "#44546a", "#4472c4", "#ed7d31", "#a5a5a5", "#ffc000", "#70ad47", "#ff0000", "#f2f2f2", "#808080", "#cfcdcd", "#d5dce4", "#d9e2f3", "#fbe4d5", "#ededed", "#fff2cc", "#e2efd9", "#ffcccc", "#d9d9d9", "#595959", "#aeaaaa", "#acb9ca", "#b4c6e7", "#f7caac", "#dbdbdb", "#ffe599", "#c5e0b3", "#ff8080", "#bfbfbf", "#404040", "#747070", "#8496b0", "#8eaadb", "#f4b083", "#c9c9c9", "#ffd966", "#a8d08d", "#ff3333", "#a6a6a6", "#262626", "#3b3838", "#323e4f", "#2f5496", "#c45911", "#7b7b7b", "#bf8f00", "#538135", "#b30000", "#7f7f7f", "#0d0d0d", "#161616", "#212934", "#1f3763", "#823b0b", "#525252", "#7f5f00", "#375623", "#660000"]
            },
            Mt = {
                Custom: ["", "#000000", "#ffff00", "#00ff00", "#00ffff", "#0000ff", "#ff0000", "#000080", "#800080", "#996633", "#f2f2f2", "#808080", "#ffffcc", "#b3ffb3", "#ccffff", "#ccccff", "#ffcccc", "#ccccff", "#ff80ff", "#f2e6d9", "#d9d9d9", "#595959", "#ffff80", "#80ff80", "#b3ffff", "#8080ff", "#ff8080", "#8080ff", "#ff00ff", "#dfbf9f", "#bfbfbf", "#404040", "#ffff33", "#33ff33", "#33ffff", "#3333ff", "#ff3333", "#0000b3", "#b300b3", "#c68c53", "#a6a6a6", "#262626", "#e6e600", "#00b300", "#009999", "#000099", "#b30000", "#000066", "#660066", "#86592d", "#7f7f7f", "#0d0d0d", "#999900", "#006600", "#006666", "#000066", "#660000", "#00004d", "#4d004d", "#734d26"]
            },
            Tt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J(!0)], t.prototype, "enable", void 0), bt([J(!0)], t.prototype, "enableFloating", void 0), bt([J(ot.Expand)], t.prototype, "type", void 0), bt([J(Ct)], t.prototype, "items", void 0), bt([J({})], t.prototype, "itemConfigs", void 0), t
            }(oe),
            xt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J([".jpeg", ".jpg", ".png"])], t.prototype, "allowedTypes", void 0), bt([J("inline")], t.prototype, "display", void 0), bt([J("Blob")], t.prototype, "saveFormat", void 0), bt([J("auto")], t.prototype, "width", void 0), bt([J("auto")], t.prototype, "height", void 0), bt([J(null)], t.prototype, "saveUrl", void 0), bt([J(null)], t.prototype, "path", void 0), bt([J(!0)], t.prototype, "resize", void 0), bt([J(0)], t.prototype, "minWidth", void 0), bt([J(null)], t.prototype, "maxWidth", void 0), bt([J(0)], t.prototype, "minHeight", void 0), bt([J(null)], t.prototype, "maxHeight", void 0), bt([J(!1)], t.prototype, "resizeByPercent", void 0), t
            }(oe),
            Lt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J("100%")], t.prototype, "width", void 0), bt([J(yt)], t.prototype, "styles", void 0), bt([J(!0)], t.prototype, "resize", void 0), bt([J(0)], t.prototype, "minWidth", void 0), bt([J(null)], t.prototype, "maxWidth", void 0), t
            }(oe),
            kt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J(!0)], t.prototype, "enable", void 0), bt([J(!1)], t.prototype, "showOnRightClick", void 0), bt([J("hide")], t.prototype, "actionOnScroll", void 0), bt([J(["Open", "Edit", "UnLink"])], t.prototype, "link", void 0), bt([J(["Replace", "Align", "Caption", "Remove", "-", "InsertLink", "OpenImageLink", "EditImageLink", "RemoveImageLink", "Display", "AltText", "Dimension"])], t.prototype, "image", void 0), bt([J(["Cut", "Copy", "Paste"])], t.prototype, "text", void 0), bt([J(["TableHeader", "TableRows", "TableColumns", "BackgroundColor", "-", "TableRemove", "Alignments", "TableCellVerticalAlign", "Styles"])], t.prototype, "table", void 0), t
            }(oe),
            Dt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J(!1)], t.prototype, "prompt", void 0), bt([J(null)], t.prototype, "deniedAttrs", void 0), bt([J(["background", "background-color", "border", "border-bottom", "border-left", "border-radius", "border-right", "border-style", "border-top", "border-width", "clear", "color", "cursor", "direction", "display", "float", "font", "font-family", "font-size", "font-weight", "font-style", "height", "left", "line-height", "margin", "margin-top", "margin-left", "margin-right", "margin-bottom", "max-height", "max-width", "min-height", "min-width", "overflow", "overflow-x", "overflow-y", "padding", "padding-bottom", "padding-left", "padding-right", "padding-top", "position", "right", "table-layout", "text-align", "text-decoration", "text-indent", "top", "vertical-align", "visibility", "white-space", "width"])], t.prototype, "allowedStyleProps", void 0), bt([J(null)], t.prototype, "deniedTags", void 0), bt([J(!0)], t.prototype, "keepFormat", void 0), bt([J(!1)], t.prototype, "plainText", void 0), t
            }(oe),
            Ot = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J(null)], t.prototype, "default", void 0), bt([J("65px")], t.prototype, "width", void 0), bt([J(Nt)], t.prototype, "items", void 0), t
            }(oe),
            Pt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J(null)], t.prototype, "default", void 0), bt([J("35px")], t.prototype, "width", void 0), bt([J(Et)], t.prototype, "items", void 0), t
            }(oe),
            Rt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J(null)], t.prototype, "default", void 0), bt([J("65px")], t.prototype, "width", void 0), bt([J(wt)], t.prototype, "types", void 0), t
            }(oe),
            At = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J("#ff0000")], t.prototype, "default", void 0), bt([J("Palette")], t.prototype, "mode", void 0), bt([J(10)], t.prototype, "columns", void 0), bt([J(St)], t.prototype, "colorCode", void 0), bt([J(!1)], t.prototype, "modeSwitcher", void 0), t
            }(oe),
            It = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return vt(t, e), bt([J("#ffff00")], t.prototype, "default", void 0), bt([J("Palette")], t.prototype, "mode", void 0), bt([J(10)], t.prototype, "columns", void 0), bt([J(Mt)], t.prototype, "colorCode", void 0), bt([J(!1)], t.prototype, "modeSwitcher", void 0), t
            }(oe),
            Ht = function() {
                var e = function(t, n) {
                    return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(e, t) {
                            e.__proto__ = t
                        } || function(e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(t, n)
                };
                return function(t, n) {
                    function i() {
                        this.constructor = t
                    }
                    e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
                }
            }(),
            Bt = function(e, t, n, i) {
                var r, o = arguments.length,
                    a = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, i);
                else
                    for (var s = e.length - 1; s >= 0; s--)(r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, n, a) : r(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a), a
            },
            jt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return Ht(t, e), Bt([J([])], t.prototype, "styles", void 0), Bt([J([])], t.prototype, "scripts", void 0), t
            }(oe),
            Ft = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return Ht(t, e), Bt([J(!1)], t.prototype, "enable", void 0), Bt([J(null)], t.prototype, "attributes", void 0), Bt([X({}, jt)], t.prototype, "resources", void 0), t
            }(oe),
            zt = function() {
                var e = function(t, n) {
                    return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(e, t) {
                            e.__proto__ = t
                        } || function(e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(t, n)
                };
                return function(t, n) {
                    function i() {
                        this.constructor = t
                    }
                    e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
                }
            }(),
            _t = function(e, t, n, i) {
                var r, o = arguments.length,
                    a = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, i);
                else
                    for (var s = e.length - 1; s >= 0; s--)(r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, n, a) : r(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a), a
            },
            qt = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return zt(t, e), _t([J(!1)], t.prototype, "enable", void 0), _t([J(!0)], t.prototype, "onSelection", void 0), t
            }(oe);

        function Gt(e, t, n, i) {
            var r;
            n ? r = t.contentModule.getDocument().querySelector("body") : r = t.element;
            if (Object.keys(e).length)
                for (var o = 0, a = Object.keys(e); o < a.length; o++) {
                    var s = a[o];
                    if ("class" === s) r.classList.add(e[s]);
                    else if ("disabled" === s && "disabled" === e[s]) t.enabled = !1, t.setEnable();
                    else if ("readonly" === s && "readonly" === e[s]) t.readonly = !0, t.setReadOnly(i);
                    else if ("style" === s) r.setAttribute("style", e[s]);
                    else if ("tabindex" === s) t.inputElement.setAttribute("tabindex", e[s]);
                    else if ("placeholder" === s) t.placeholder = e[s], t.setPlaceHolder();
                    else {
                        ["name", "required"].indexOf(s) > -1 ? t.valueContainer.setAttribute(s, e[s]) : r.setAttribute(s, e[s])
                    }
                }
        }
        var Ut = ["script", "style", "iframe[src]", 'link[href*="javascript:"]', 'object[type="text/x-scriptlet"]', 'object[data^="data:text/html;base64"]', 'img[src^="data:text/html;base64"]', '[src^="javascript:"]', '[dynsrc^="javascript:"]', '[lowsrc^="javascript:"]', '[type^="application/x-shockwave-flash"]'],
            Vt = [{
                attribute: "href",
                selector: '[href*="javascript:"]'
            }, {
                attribute: "background",
                selector: '[background^="javascript:"]'
            }, {
                attribute: "style",
                selector: '[style*="javascript:"]'
            }, {
                attribute: "style",
                selector: '[style*="expression("]'
            }, {
                attribute: "href",
                selector: 'a[href^="data:text/html;base64"]'
            }],
            Wt = ["onchange", "onclick", "onmouseover", "onmouseout", "onkeydown", "onload", "onerror", "onblur", "onfocus", "onbeforeload", "onbeforeunload", "onkeyup", "onsubmit", "onafterprint", "onbeforeonload", "onbeforeprint", "onblur", "oncanplay", "oncanplaythrough", "onchange", "onclick", "oncontextmenu", "ondblclick", "ondrag", "ondragend", "ondragenter", "ondragleave", "ondragover", "ondragstart", "ondrop", "ondurationchange", "onemptied", "onended", "onerror", "onerror", "onfocus", "onformchange", "onforminput", "onhaschange", "oninput", "oninvalid", "onkeydown", "onkeypress", "onkeyup", "onload", "onloadeddata", "onloadedmetadata", "onloadstart", "onmessage", "onmousedown", "onmousemove", "onmouseout", "onmouseover", "onmouseup", "onmousewheel", "onoffline", "onoine", "ononline", "onpagehide", "onpageshow", "onpause", "onplay", "onplaying", "onpopstate", "onprogress", "onratechange", "onreadystatechange", "onredo", "onresize", "onscroll", "onseeked", "onseeking", "onselect", "onstalled", "onstorage", "onsubmit", "onsuspend", "ontimeupdate", "onundo", "onunload", "onvolumechange", "onwaiting", "onmouseenter", "onmouseleave", "onmousewheel", "onstart", "onpropertychange"],
            Kt = function() {
                function e() {}
                return e.beforeSanitize = function() {
                    return {
                        selectors: {
                            tags: Ut,
                            attributes: Vt
                        }
                    }
                }, e.sanitize = function(e) {
                    var t = this.beforeSanitize();
                    return this.serializeValue(t, e)
                }, e.serializeValue = function(e, t) {
                    return this.removeAttrs = e.selectors.attributes, this.removeTags = e.selectors.tags, this.wrapElement = document.createElement("div"), this.wrapElement.innerHTML = t, this.removeXssTags(), this.removeJsEvents(), this.removeXssAttrs(), this.wrapElement.innerHTML
                }, e.removeXssTags = function() {
                    var e = this.wrapElement.querySelectorAll(this.removeTags.join(","));
                    e.length > 0 && e.forEach((function(e) {
                        T(e)
                    }))
                }, e.removeJsEvents = function() {
                    var e = this.wrapElement.querySelectorAll("[" + Wt.join("],[") + "]");
                    e.length > 0 && e.forEach((function(e) {
                        Wt.forEach((function(t) {
                            e.hasAttribute(t) && e.removeAttribute(t)
                        }))
                    }))
                }, e.removeXssAttrs = function() {
                    var e = this;
                    this.removeAttrs.forEach((function(t, n) {
                        var i = e.wrapElement.querySelectorAll(t.selector);
                        i.length > 0 && i.forEach((function(e) {
                            e.removeAttribute(t.attribute)
                        }))
                    }))
                }, e
            }(),
            Jt = ["Undo", "Redo"];

        function Xt() {
            var e = !1;
            return q.isDevice && q.isIos && (e = !0), e
        }

        function Yt(e, t) {
            for (var n, i = 0, r = function(e, t) {
                    for (var n = [], i = 0; i < e.length; i++)
                        for (var r = 0; r < t.length; r++)
                            if ("Separator" !== t[r].type) {
                                if ("OrderedList" === e[i] && "OL" === t[r].subCommand) {
                                    n.push(r);
                                    break
                                }
                                if ("UnorderedList" === e[i] && "UL" === t[r].subCommand) {
                                    n.push(r);
                                    break
                                }
                                if ("InsertCode" === e[i] && "Pre" === t[r].subCommand) {
                                    n.push(r);
                                    break
                                }
                                if (e[i] === t[r].subCommand) {
                                    n.push(r);
                                    break
                                }
                            }
                    return n
                }("object" == typeof(n = Jt) ? n : [n], e.toolbarObj.items), o = k(".e-toolbar-item", e.toolbarObj.element), a = 0, s = Object.keys(t); a < s.length; a++) {
                var l = s[a],
                    d = o[r[i]];
                d && e.toolbarObj.enableItems(d, t[l]), i++
            }
        }

        function $t(e, t) {
            var n = document.createEvent("HTMLEvents");
            n.initEvent(t, !1, !0), e.dispatchEvent(n)
        }

        function Qt(e, t) {
            var n;
            return null !== e && "" !== e ? (n = t.enableHtmlEncode ? Zt(tn(e)) : Zt(e), t.setProperties({
                value: n
            }, !0)) : n = t.enableHtmlEncode ? "&lt;p&gt;&lt;br/&gt;&lt;/p&gt;" : "<p><br/></p>", n
        }

        function Zt(e) {
            var t = document.createElement("div");
            t.innerHTML = e;
            var n = t.childNodes;
            return n.length > 0 && [].slice.call(n).forEach((function(e) {
                if (e.nodeType === Node.TEXT_NODE && e.parentNode === t && "" !== e.textContent.trim() || "IMG" === e.nodeName && e.parentNode === t) {
                    var n = document.createElement("p");
                    e.parentNode.insertBefore(n, e), n.appendChild(e)
                }
            })), t.innerHTML
        }

        function en(e) {
            return "<p><br></p>" === e || "&lt;p&gt;&lt;br&gt;&lt;/p&gt;" === e || "" === e
        }

        function tn(e) {
            return e.replace(/&amp;/g, "&").replace(/&amp;lt;/g, "<").replace(/&lt;/g, "<").replace(/&amp;gt;/g, ">").replace(/&gt;/g, ">").replace(/&nbsp;/g, " ").replace(/&amp;nbsp;/g, " ").replace(/&quot;/g, "")
        }
        var nn = function() {
                var e = function(t, n) {
                    return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(e, t) {
                            e.__proto__ = t
                        } || function(e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(t, n)
                };
                return function(t, n) {
                    function i() {
                        this.constructor = t
                    }
                    e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
                }
            }(),
            rn = function() {
                return (rn = Object.assign || function(e) {
                    for (var t, n = 1, i = arguments.length; n < i; n++)
                        for (var r in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                    return e
                }).apply(this, arguments)
            },
            on = function(e, t, n, i) {
                var r, o = arguments.length,
                    a = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, i);
                else
                    for (var s = e.length - 1; s >= 0; s--)(r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, n, a) : r(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a), a
            },
            an = function(e) {
                function t(t, n) {
                    var i = e.call(this, t, n) || this;
                    return i.defaultResetValue = null, i.isFocusOut = !1, i.isRTE = !1, i.isBlur = !0, i.needsID = !0, i
                }
                return nn(t, e), t.prototype.requiredModules = function() {
                    var e = [];
                    return e.push({
                        member: "image",
                        args: [this, this.serviceLocator]
                    }), this.showCharCount && e.push({
                        member: "count",
                        args: [this, this.serviceLocator]
                    }), "Markdown" === this.editorMode && e.push({
                        member: "markdownEditor",
                        args: [this, this.serviceLocator]
                    }), "HTML" === this.editorMode && (e.push({
                        member: "htmlEditor",
                        args: [this, this.serviceLocator]
                    }), e.push({
                        member: "pasteCleanup",
                        args: [this, this.serviceLocator]
                    })), this.enableResize && e.push({
                        member: "resize",
                        args: [this]
                    }), e
                }, t.prototype.updateEnable = function() {
                    this.enabled ? (N([this.element], "e-disabled"), this.element.setAttribute("aria-disabled", "false"), h(this.htmlAttributes.tabindex) ? this.inputElement.setAttribute("tabindex", "0") : this.inputElement.setAttribute("tabindex", this.htmlAttributes.tabindex)) : (C([this.element], "e-disabled"), this.element.tabIndex = -1, this.element.setAttribute("aria-disabled", "true"), this.inputElement.setAttribute("tabindex", "-1"))
                }, t.prototype.setEnable = function() {
                    this.updateEnable(), this.enabled ? this.eventInitializer() : this.unWireEvents()
                }, t.prototype.preRender = function() {
                    this.onBlurHandler = this.blurHandler.bind(this), this.onFocusHandler = this.focusHandler.bind(this), this.onResizeHandler = this.resizeHandler.bind(this), this.clickPoints = {
                        clientX: 0,
                        clientY: 0
                    }, this.initialValue = this.value, this.serviceLocator = new mt, this.initializeServices(), this.setContainer(), this.persistData(), O(this.element, {
                        width: f(this.width)
                    }), x(this.element, {
                        role: "application"
                    })
                }, t.prototype.persistData = function() {}, t.prototype.setContainer = function() {
                    this.originalElement = this.element.cloneNode(!0), null !== this.value && null === this.valueTemplate || this.setValue(), this.element.hasAttribute("tabindex") && (this.htmlAttributes = {
                        tabindex: this.element.getAttribute("tabindex")
                    }, this.element.removeAttribute("tabindex")), this.isBlazor() || (this.element.innerHTML = "");
                    for (var e = ["class", "style", "id", "ejs-for"], t = {}, n = 0; n < this.element.attributes.length; n++) - 1 !== e.indexOf(this.element.attributes[n].name) || /^data-val/.test(this.element.attributes[n].name) || (t[this.element.attributes[n].name] = this.element.getAttribute(this.element.attributes[n].name));
                    c(t, this.htmlAttributes, t), this.setProperties({
                        htmlAttributes: t
                    }, !0), h(this.htmlAttributes.id) || (this.element.id = this.htmlAttributes.id), "TEXTAREA" === this.element.tagName || (this.valueContainer = this.createElement("textarea", {
                        id: this.getID() + "-value"
                    })), this.valueContainer.name = this.getID(), C([this.valueContainer], "e-rte-hidden"), this.element.appendChild(this.valueContainer)
                }, t.prototype.getPersistData = function() {
                    return this.addOnPersist(["value"])
                }, t.prototype.focusIn = function() {
                    this.enabled && (this.inputElement.focus(), this.focusHandler({}))
                }, t.prototype.focusOut = function() {
                    this.enabled && (this.inputElement.blur(), this.blurHandler({}))
                }, t.prototype.selectAll = function() {
                    this.notify("selectAll", {})
                }, t.prototype.selectRange = function(e) {
                    this.notify("selectRange", {
                        range: e
                    })
                }, t.prototype.getSelection = function() {
                    var e = "";
                    return this.notify("getSelectedHtml", {
                        callBack: function(t) {
                            e = t
                        }
                    }), e
                }, t.prototype.executeCommand = function(e, t) {
                    if (t = this.htmlPurifier(e, t), "HTML" === this.editorMode) {
                        var n = this.getRange();
                        this.iframeSettings.enable && this.formatter.editorManager.nodeSelection.Clear(this.element.ownerDocument), (!(!this.iframeSettings.enable || n.startContainer !== this.inputElement) || !this.inputElement.contains(n.startContainer)) && this.focusIn()
                    }
                    var i = ut[e];
                    this.formatter.editorManager.execCommand(i.command, i.subCommand ? i.subCommand : t || i.value, null, null, t || i.value, t || i.value), this.setPlaceHolder()
                }, t.prototype.htmlPurifier = function(e, t) {
                    if ("HTML" === this.editorMode) switch (e) {
                        case "insertHTML":
                            t = "string" == typeof t ? this.htmlEditorModule.sanitizeHelper(t) : this.htmlEditorModule.sanitizeHelper(t.outerHTML);
                            break;
                        case "insertTable":
                            h(t.width) && (t.width = {
                                minWidth: this.tableSettings.minWidth,
                                maxWidth: this.tableSettings.maxWidth,
                                width: this.tableSettings.width
                            });
                            break;
                        case "insertImage":
                            var n = this.createElement("img", {
                                    attrs: {
                                        src: t.url
                                    }
                                }),
                                i = this.htmlEditorModule.sanitizeHelper(n.outerHTML),
                                r = "" !== i && this.createElement("div", {
                                    innerHTML: i
                                }).firstElementChild.getAttribute("src") || null;
                            r = h(r) ? "" : r, t.url = r, h(t.width) && (t.width = {
                                minWidth: this.insertImageSettings.minWidth,
                                maxWidth: this.insertImageSettings.maxWidth,
                                width: this.insertImageSettings.width
                            }), h(t.height) && (t.height = {
                                minHeight: this.insertImageSettings.minHeight,
                                maxHeight: this.insertImageSettings.maxHeight,
                                height: this.insertImageSettings.height
                            });
                            break;
                        case "createLink":
                            var o = this.createElement("a", {
                                    attrs: {
                                        href: t.url
                                    }
                                }),
                                a = this.htmlEditorModule.sanitizeHelper(o.outerHTML),
                                s = "" !== a && this.createElement("div", {
                                    innerHTML: a
                                }).firstElementChild.getAttribute("href") || null;
                            s = h(s) ? "" : s, t.url = s
                    }
                    return t
                }, t.prototype.encode = function(e) {
                    var t = this.createElement("div");
                    return t.innerText = e.trim(), t.innerHTML.replace(/<br\s*[\/]?>/gi, "\n")
                }, t.prototype.render = function() {
                    this.value && !this.valueTemplate && this.setProperties({
                        value: this.serializeValue(this.value)
                    }, !0), this.renderModule = new st(this, this.serviceLocator), this.sourceCodeModule = new pt(this, this.serviceLocator), this.notify("initial-load", {}), this.trigger("load"), this.RTERender();
                    new gt(this);
                    this.notify("initial-end", {}), this.toolbarSettings.enable && "Expand" === this.toolbarSettings.type && !h(this.getToolbar()) && this.toolbarSettings.items.indexOf("Undo") > -1 && this.toolbarSettings.items.indexOf("Redo") > -1 && this.disableToolbarItem(["Undo", "Redo"]), this.setContentHeight(), null !== this.value && (this.isBlazor() ? this.defaultResetValue = this.value : this.valueContainer.defaultValue = this.value), this.enabled ? this.eventInitializer() : this.unWireEvents(), this.renderComplete()
                }, t.prototype.eventInitializer = function() {
                    this.wireEvents()
                }, t.prototype.keyDown = function(e) {
                    if (this.notify("keyDown", {
                            member: "keydown",
                            args: e
                        }), this.restrict(e), "HTML" === this.editorMode && (8 === e.which && "Backspace" === e.code || 46 === e.which && "Delete" === e.code)) {
                        var t = this.getRange();
                        if (D("#text" === t.startContainer.nodeName ? t.startContainer.parentElement : t.startContainer, "pre") && 8 === e.which && 8203 === t.startContainer.textContent.charCodeAt(t.startOffset - 1) || 46 === e.which && 8203 === t.startContainer.textContent.charCodeAt(t.startOffset)) {
                            var n = new RegExp(String.fromCharCode(8203), "g"),
                                i = 8 === e.which ? t.startOffset - 1 : t.startOffset;
                            t.startContainer.textContent = t.startContainer.textContent.replace(n, ""), this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(), t.startContainer, i)
                        }
                    }
                    if (0 === this.formatter.getUndoRedoStack().length && this.formatter.saveData(), e.action && "paste" !== e.action || 9 === e.which) switch (this.formatter.process(this, null, e), e.action) {
                        case "toolbar-focus":
                            if (this.toolbarSettings.enable) {
                                this.toolbarModule.baseToolbar.toolbarObj.element.querySelector('.e-toolbar-item[aria-disabled="false"][title] [tabindex]').focus()
                            }
                            break;
                        case "escape":
                            this.contentModule.getEditPanel().focus()
                    }
                    h(this.placeholder) || this.setPlaceHolder(), this.autoResize()
                }, t.prototype.keyUp = function(e) {
                    this.notify("keyUp", {
                        member: "keyup",
                        args: e
                    });
                    var t = 32 === e.which || 13 === e.which || 8 === e.which || 46 === e.which;
                    ("shift" !== e.key && !e.ctrlKey && e.key && 1 === e.key.length || t || "Markdown" === this.editorMode && ("shift" !== e.key && !e.ctrlKey && e.key && 1 === e.key.length || t) && !this.inlineMode.enable) && this.formatter.onKeyHandler(this, e), this.inputElement && 0 !== this.inputElement.textContent.length && this.notify("toolbar-refresh", {
                        args: e
                    }), h(this.placeholder) || this.setPlaceHolder()
                }, t.prototype.serializeValue = function(e) {
                    return "HTML" !== this.editorMode || h(e) || (this.enableHtmlEncode ? (e = this.htmlEditorModule.sanitizeHelper(tn(e)), e = this.encode(e)) : e = this.htmlEditorModule.sanitizeHelper(e)), e
                }, t.prototype.sanitizeHtml = function(e) {
                    return this.serializeValue(e)
                }, t.prototype.updateValue = function(e) {
                    if (h(e)) {
                        var t = this.inputElement.innerHTML;
                        this.setProperties({
                            value: en(t) ? null : t
                        })
                    } else this.setProperties({
                        value: e
                    })
                }, t.prototype.triggerEditArea = function(e) {
                    if (Xt()) {
                        var t = e.touches ? e.changedTouches[0] : e;
                        this.clickPoints.clientX === t.clientX && this.clickPoints.clientY === t.clientY && this.notify("editAreaClick", {
                            member: "editAreaClick",
                            args: e
                        })
                    } else this.notify("editAreaClick", {
                        member: "editAreaClick",
                        args: e
                    })
                }, t.prototype.notifyMouseUp = function(e) {
                    var t = e.touches ? e.changedTouches[0] : e;
                    this.notify("mouseUp", {
                        member: "mouseUp",
                        args: e,
                        touchData: {
                            prevClientX: this.clickPoints.clientX,
                            prevClientY: this.clickPoints.clientY,
                            clientX: t.clientX,
                            clientY: t.clientY
                        }
                    }), this.inputElement && ("HTML" === this.editorMode && 0 !== this.inputElement.textContent.length || "Markdown" === this.editorMode && 0 !== this.inputElement.value.length) && this.notify("toolbar-refresh", {
                        args: e
                    }), this.triggerEditArea(e)
                }, t.prototype.mouseUp = function(e) {
                    this.notifyMouseUp(e)
                }, t.prototype.ensureModuleInjected = function(e) {
                    return this.getInjectedModules().indexOf(e) >= 0
                }, t.prototype.onCopy = function() {
                    this.contentModule.getDocument().execCommand("copy", !1, null)
                }, t.prototype.onCut = function() {
                    this.contentModule.getDocument().execCommand("cut", !1, null)
                }, t.prototype.onPaste = function(e) {
                    var t = this,
                        n = {
                            originalEvent: e,
                            cancel: !1,
                            requestType: "Paste"
                        };
                    this.trigger("actionBegin", n, (function(n) {
                        var i = t.getText().length - t.getSelection().length + (h(e) || h(e.clipboardData) ? 0 : e.clipboardData.getData("text/plain").length);
                        if (!n.cancel && (-1 === t.maxLength || i < t.maxLength))
                            if (h(t.pasteCleanupModule)) {
                                var r = {
                                        requestType: "Paste",
                                        editorMode: t.editorMode,
                                        event: e
                                    },
                                    o = null;
                                e && !h(e.clipboardData) && (o = e.clipboardData.getData("text/plain"));
                                var a = e && e.clipboardData && e.clipboardData.items.length > 0 ? e.clipboardData.items[0].getAsFile() : null;
                                null !== o && t.notify(at, {
                                    file: a,
                                    args: e,
                                    text: o
                                }), setTimeout((function() {
                                    t.formatter.onSuccess(t, r)
                                }), 0)
                            } else t.notify("pasteClean", {
                                args: e
                            });
                        else e.preventDefault()
                    }))
                }, t.prototype.clipboardAction = function(e, t) {
                    switch (e.toLowerCase()) {
                        case "cut":
                            this.onCut(), this.formatter.onSuccess(this, {
                                requestType: "Cut",
                                editorMode: this.editorMode,
                                event: t
                            });
                            break;
                        case "copy":
                            this.onCopy(), this.formatter.onSuccess(this, {
                                requestType: "Copy",
                                editorMode: this.editorMode,
                                event: t
                            });
                            break;
                        case "paste":
                            this.onPaste(t)
                    }
                }, t.prototype.destroy = function() {
                    this.isRendered && (this.notify("destroy", {}), this.destroyDependentModules(), h(this.timeInterval) || (clearInterval(this.timeInterval), this.timeInterval = null), this.unWireEvents(), "TEXTAREA" === this.originalElement.tagName || ("" !== this.originalElement.innerHTML.trim() ? (this.element.innerHTML = this.originalElement.innerHTML.trim(), this.setProperties({
                        value: h(this.initialValue) ? null : this.initialValue
                    }, !0)) : this.element.innerHTML = ""), this.placeholder && this.placeHolderWrapper && (this.placeHolderWrapper = null), h(this.cssClass) || N([this.element], this.cssClass), this.removeHtmlAttributes(), this.removeAttributes(), e.prototype.destroy.call(this), this.enablePersistence && window.localStorage.removeItem(this.getModuleName() + this.element.id))
                }, t.prototype.removeHtmlAttributes = function() {
                    if (this.htmlAttributes)
                        for (var e = Object.keys(this.htmlAttributes), t = 0; t < e.length && this.element.hasAttribute(e[t]); t++) this.element.removeAttribute(e[t])
                }, t.prototype.removeAttributes = function() {
                    this.enabled || N([this.element], "e-disabled"), this.enableRtl && N([this.element], "e-rtl"), this.readonly && N([this.element], "e-rte-readonly"), "" !== this.element.style.width && "" === this.originalElement.style.width && this.element.style.removeProperty("width"), "" !== this.element.style.height && "" === this.originalElement.style.height && this.element.style.removeProperty("height"), this.element.removeAttribute("aria-disabled"), this.element.removeAttribute("role"), this.element.removeAttribute("tabindex")
                }, t.prototype.destroyDependentModules = function() {
                    this.renderModule.destroy(), this.formatter.editorManager.undoRedoManager.destroy(), this.sourceCodeModule.destroy()
                }, t.prototype.getContent = function() {
                    return this.contentModule.getPanel()
                }, t.prototype.getText = function() {
                    return this.contentModule.getText()
                }, t.prototype.getSelectedHtml = function() {
                    var e = this.createElement("div"),
                        t = this.contentModule.getDocument().getSelection();
                    if (t.rangeCount > 0) {
                        var n = t.getRangeAt(0).cloneContents();
                        e.appendChild(n)
                    }
                    return e.innerHTML
                }, t.prototype.getModuleName = function() {
                    return "richtexteditor"
                }, t.prototype.onPropertyChanged = function(t, n) {
                    for (var i = 0, r = Object.keys(t); i < r.length; i++) {
                        var o = r[i];
                        switch (o) {
                            case "value":
                                var a, s = t[o];
                                a = "HTML" === this.editorMode ? Qt(s, this) : s, h(s) || "" === s || (this.value = this.serializeValue(this.enableHtmlEncode ? this.encode(tn(a)) : a)), this.updatePanelValue(), this.setPlaceHolder(), this.notify("xhtmlValidation", {
                                    module: "XhtmlValidation",
                                    newProp: t,
                                    oldProp: n
                                }), this.showCharCount && this.countModule.refresh();
                                break;
                            case "valueTemplate":
                                this.setValue(), this.showCharCount && this.countModule.refresh();
                                break;
                            case "width":
                                this.setWidth(t[o]), this.toolbarSettings.enable && (this.toolbarModule.refreshToolbarOverflow(), this.resizeHandler());
                                break;
                            case "height":
                                this.setHeight(t[o]), this.setContentHeight(), this.autoResize();
                                break;
                            case "readonly":
                                this.setReadOnly(!1);
                                break;
                            case "cssClass":
                                this.element.classList.remove(n[o]), this.setCssClass(t[o]);
                                break;
                            case "enabled":
                                this.setEnable();
                                break;
                            case "enableRtl":
                                this.updateRTL();
                                break;
                            case "placeholder":
                                this.placeholder = t[o], this.setPlaceHolder();
                                break;
                            case "htmlAttributes":
                                Gt(this.htmlAttributes, this, !1, !1);
                                break;
                            case "iframeSettings":
                                break;
                            case "locale":
                                e.prototype.refresh.call(this);
                                break;
                            case "inlineMode":
                                this.notify("model-changed", {
                                    module: "quickToolbar",
                                    newProp: t,
                                    oldProp: n
                                }), this.setContentHeight();
                                break;
                            case "toolbarSettings":
                                this.notify("model-changed", {
                                    module: "toolbar",
                                    newProp: t,
                                    oldProp: n
                                }), this.setContentHeight();
                                break;
                            case "maxLength":
                                this.showCharCount && this.countModule.refresh();
                                break;
                            case "showCharCount":
                                t[o] && this.countModule ? this.countModule.renderCount() : !1 === t[o] && this.countModule && this.countModule.destroy();
                                break;
                            case "enableHtmlEncode":
                                this.updateValueData(), this.updatePanelValue(), this.setPlaceHolder(), this.showCharCount && this.countModule.refresh();
                                break;
                            case "undoRedoSteps":
                            case "undoRedoTimer":
                                this.formatter.editorManager.observer.notify("model_changed", {
                                    newProp: t,
                                    oldProp: n
                                });
                                break;
                            case "enableXhtml":
                                this.notify("xhtmlValidation", {
                                    module: "XhtmlValidation",
                                    newProp: t,
                                    oldProp: n
                                });
                                break;
                            case "quickToolbarSettings":
                                t.quickToolbarSettings.showOnRightClick ? this.wireContextEvent() : this.unWireContextEvent(), this.notify("model-changed", {
                                    newProp: t,
                                    oldProp: n
                                });
                                break;
                            default:
                                this.notify("model-changed", {
                                    newProp: t,
                                    oldProp: n
                                })
                        }
                    }
                }, t.prototype.updateValueData = function() {
                    this.enableHtmlEncode ? this.setProperties({
                        value: this.encode(tn(this.inputElement.innerHTML))
                    }, !0) : this.setProperties({
                        value: /<[a-z][\s\S]*>/i.test(this.inputElement.innerHTML) ? this.inputElement.innerHTML : tn(this.inputElement.innerHTML)
                    })
                }, t.prototype.removeSheets = function(e) {
                    var t;
                    for (t = 0; t < e.length; t++) T(e[t])
                }, t.prototype.updatePanelValue = function() {
                    var e = this.value;
                    (e = this.enableHtmlEncode && this.value ? tn(e) : e) ? (this.valueContainer && (this.valueContainer.value = this.enableHtmlEncode ? this.value : e), "HTML" === this.editorMode && this.inputElement && this.inputElement.innerHTML.trim() !== e.trim() ? this.inputElement.innerHTML = e : "Markdown" === this.editorMode && this.inputElement && this.inputElement.value.trim() !== e.trim() && (this.inputElement.value = e)) : ("HTML" === this.editorMode ? this.inputElement.innerHTML = "<p><br/></p>" : this.inputElement.value = "", this.valueContainer && (this.valueContainer.value = "")), this.showCharCount && this.countModule.refresh()
                }, t.prototype.setHeight = function(e) {
                    this.element.style.height = "auto" !== e ? f(e) : "auto"
                }, t.prototype.setPlaceHolder = function() {
                    this.inputElement && this.placeholder && !0 !== this.iframeSettings.enable && ("Markdown" !== this.editorMode ? (this.placeHolderWrapper || (this.placeHolderWrapper = this.createElement("span", {
                        className: "rte-placeholder"
                    }), this.inputElement && this.inputElement.parentElement.insertBefore(this.placeHolderWrapper, this.inputElement), x(this.placeHolderWrapper, {
                        style: "font-size: 16px; padding: 16px; margin-left: 0px; margin-right: 0px;"
                    })), this.placeHolderWrapper.innerHTML = this.placeholder, 0 !== this.inputElement.textContent.length || h(this.inputElement.firstChild) || "P" !== this.inputElement.firstChild.nodeName || h(this.inputElement.firstChild.firstChild) || "BR" !== this.inputElement.firstChild.firstChild.nodeName ? this.placeHolderWrapper.style.display = "none" : this.placeHolderWrapper.style.display = "block") : this.inputElement.setAttribute("placeholder", this.placeholder))
                }, t.prototype.setWidth = function(e) {
                    "auto" !== e ? O(this.element, {
                        width: f(this.width)
                    }) : this.element.style.width = "auto"
                }, t.prototype.setCssClass = function(e) {
                    h(e) || this.element.classList.add(e)
                }, t.prototype.updateRTL = function() {
                    this.notify("rtl-mode", {
                        enableRtl: this.enableRtl
                    }), this.enableRtl ? this.element.classList.add("e-rtl") : this.element.classList.remove("e-rtl")
                }, t.prototype.updateReadOnly = function() {
                    this.notify("readOnlyMode", {
                        editPanel: this.inputElement,
                        mode: this.readonly
                    })
                }, t.prototype.setReadOnly = function(e) {
                    this.updateReadOnly(), e || (this.readonly && this.enabled ? this.unbindEvents() : this.enabled && this.bindEvents())
                }, t.prototype.print = function() {
                    var e, t = this,
                        n = {
                            element: this.inputElement,
                            requestType: "print",
                            cancel: !1
                        };
                    this.trigger("actionBegin", n, (function(n) {
                        if (e = window.open("", "print", "height=" + window.outerHeight + ",width=" + window.outerWidth), "msie" === q.info.name && e.resizeTo(screen.availWidth, screen.availHeight), e = function(e, t) {
                                var n = document.createElement("div"),
                                    i = [].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),
                                    r = "";
                                h(t) && (t = window.open("", "print", "height=452,width=1024,tabbar=no")), n.appendChild(e.cloneNode(!0));
                                for (var o = 0, a = i.length; o < a; o++) r += i[o].outerHTML;
                                t.document.write("<!DOCTYPE html> <html><head>" + r + "</head><body>" + n.innerHTML + "<script> (function() { window.ready = true; })(); <\/script></body></html>"), t.document.close(), t.focus();
                                var s = setInterval((function() {
                                    t.ready && (t.print(), t.close(), clearInterval(s))
                                }), 500);
                                return t
                            }(t.inputElement, e), !n.cancel) {
                            t.trigger("actionComplete", {
                                requestType: "print"
                            })
                        }
                    }))
                }, t.prototype.refreshUI = function() {
                    this.renderModule.refresh()
                }, t.prototype.showFullScreen = function() {
                    this.readonly
                }, t.prototype.enableToolbarItem = function(e, t) {
                    this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(), e, !0, t)
                }, t.prototype.disableToolbarItem = function(e, t) {
                    this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(), e, !1, t)
                }, t.prototype.removeToolbarItem = function(e) {
                    this.toolbarModule.removeTBarItems(e)
                }, t.prototype.getRange = function() {
                    return this.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument())
                }, t.prototype.initializeServices = function() {
                    this.serviceLocator.register("rendererFactory", new ft)
                }, t.prototype.RTERender = function() {
                    var e = this.serviceLocator.getService("rendererFactory");
                    this.contentModule = e.getRenderer(rt.Content), this.renderModule.render(), this.inputElement = this.contentModule.getEditPanel(), this.setHeight(this.height), Gt(this.htmlAttributes, this, !1, !0), this.iframeSettings && this.setIframeSettings(), this.setCssClass(this.cssClass), this.updateEnable(), this.setPlaceHolder(), this.updateRTL(), this.updateReadOnly(), this.updatePanelValue(), this.enableHtmlEncode && !h(this.value) && this.setProperties({
                        value: this.encode(tn(this.value))
                    })
                }, t.prototype.setIframeSettings = function() {
                    if (this.iframeSettings.resources) {
                        var e = this.iframeSettings.resources.styles,
                            t = this.iframeSettings.resources.scripts;
                        this.iframeSettings.resources.scripts.length > 0 && this.InjectSheet(!0, t), this.iframeSettings.resources.styles.length > 0 && this.InjectSheet(!1, e)
                    }
                    this.iframeSettings.attributes && Gt(this.iframeSettings.attributes, this, !0, !1)
                }, t.prototype.InjectSheet = function(e, t) {
                    try {
                        if (t && t.length > 0)
                            for (var n = this.contentModule.getDocument().querySelector("head"), i = 0; i < t.length; i++)
                                if (e) {
                                    var r = this.createScriptElement();
                                    r.src = t[i], n.appendChild(r)
                                } else {
                                    var o = this.createStyleElement();
                                    o.href = t[i], n.appendChild(o)
                                }
                    } catch (e) {
                        return
                    }
                }, t.prototype.createScriptElement = function() {
                    var e = this.createElement("script", {
                        className: "rte-iframe-script-sheet"
                    });
                    return e.type = "text/javascript", e
                }, t.prototype.createStyleElement = function() {
                    var e = this.createElement("link", {
                        className: "rte-iframe-style-sheet"
                    });
                    return e.rel = "stylesheet", e
                }, t.prototype.isBlazor = function() {
                    return -1 !== Object.keys(window).indexOf("ejsInterop")
                }, t.prototype.setValue = function() {
                    if (this.valueTemplate)
                        if ("string" == typeof this.valueTemplate) this.setProperties({
                            value: this.valueTemplate
                        });
                        else {
                            for (var e = tt(this.valueTemplate)({}), t = 0; t < e.length; t++) {
                                S([e[t]], this.element)
                            }
                            this.setProperties({
                                value: this.element.innerHTML.trim()
                            })
                        } else {
                        var n = !h(this.element.innerHTML) && this.element.innerHTML.replace(/<(\/?|\!?)(!--!--)>/g, "").trim();
                        "" !== n && ("TEXTAREA" === this.element.tagName ? this.setProperties({
                            value: tn(n)
                        }) : this.setProperties({
                            value: n
                        }))
                    }
                }, t.prototype.setContentHeight = function(e, t) {
                    var n, i = 0,
                        r = this.sourceCodeModule.getPanel() && "block" === this.sourceCodeModule.getPanel().parentElement.style.display ? this.sourceCodeModule.getPanel().parentElement : this.contentModule.getPanel(),
                        o = this.element.offsetHeight,
                        a = this.getToolbar() ? this.toolbarModule.getToolbarHeight() : 0,
                        s = this.enableResize ? this.element.querySelector(".e-resize-handle").offsetHeight + 8 : 0,
                        l = this.getToolbar() ? this.toolbarModule.getExpandTBarPopHeight() : 0;
                    (this.toolbarSettings.type === ot.Expand && t && "preview" !== e ? (n = "auto" === this.height && 0 === s ? "auto" : o - (a + l + s) + "px", i = this.toolbarSettings.enableFloating ? 0 : l) : n = "auto" !== this.height || this.element.classList.contains("e-rte-full-screen") ? o - (a + s) + "px" : "auto", O(r, {
                        height: n,
                        marginTop: i + "px"
                    }), this.iframeSettings.enable && "sourceCode" === e) && O(L(".e-rte-content", this.element), {
                        height: n,
                        marginTop: i + "px"
                    });
                    this.toolbarSettings.enableFloating && this.getToolbar() && !this.inlineMode.enable && O(this.getToolbar().parentElement, t ? {
                        height: a + l + "px"
                    } : {
                        height: a + "px"
                    }), 0 === s && this.autoResize()
                }, t.prototype.getHtml = function() {
                    return this.value
                }, t.prototype.showSourceCode = function() {
                    this.readonly || this.notify("sourceCode", {})
                }, t.prototype.getCharCount = function() {
                    return ("Markdown" === this.editorMode ? this.inputElement.value.trim() : this.inputElement.textContent.trim()).length
                }, t.prototype.getBaseToolbarObject = function() {
                    return !this.inlineMode.enable || q.isDevice && !Xt() ? this.toolbarModule && this.toolbarModule.getBaseToolbar() : this.quickToolbarModule && this.quickToolbarModule.getInlineBaseToolbar()
                }, t.prototype.getToolbar = function() {
                    return this.toolbarModule ? this.toolbarModule.getToolbarElement() : null
                }, t.prototype.getToolbarElement = function() {
                    return this.toolbarModule && this.toolbarModule.getToolbarElement()
                }, t.prototype.getID = function() {
                    return "TEXTAREA" === this.originalElement.tagName ? this.valueContainer.id : this.element.id
                }, t.prototype.mouseDownHandler = function(e) {
                    var t = e.touches ? e.changedTouches[0] : e;
                    C([this.element], ["e-focused"]), this.preventDefaultResize(e), this.notify("mouseDown", {
                        args: e
                    }), this.clickPoints = {
                        clientX: t.clientX,
                        clientY: t.clientY
                    }
                }, t.prototype.preventImgResize = function(e) {
                    "img" === e.target.nodeName.toLocaleLowerCase() && e.preventDefault()
                }, t.prototype.preventDefaultResize = function(e) {
                    "msie" === q.info.name ? this.contentModule.getEditPanel().addEventListener("mscontrolselect", this.preventImgResize) : "mozilla" === q.info.name && (this.contentModule.getDocument().execCommand("enableObjectResizing", !1, "false"), this.contentModule.getDocument().execCommand("enableInlineTableEditing", !1, "false"))
                }, t.prototype.defaultResize = function(e) {
                    "msie" === q.info.name ? this.contentModule.getEditPanel().removeEventListener("mscontrolselect", this.preventImgResize) : "mozilla" === q.info.name && (this.contentModule.getDocument().execCommand("enableObjectResizing", !0, "true"), this.contentModule.getDocument().execCommand("enableInlineTableEditing", !0, "true"))
                }, t.prototype.resizeHandler = function() {
                    var e = !1;
                    this.toolbarSettings.enable && !this.inlineMode.enable && (this.toolbarModule.refreshToolbarOverflow(), e = this.toolbarModule.baseToolbar.toolbarObj.element.classList.contains("e-expand-open")), this.setContentHeight("", e)
                }, t.prototype.scrollHandler = function(e) {
                    this.notify("scroll", {
                        args: e
                    })
                }, t.prototype.contentScrollHandler = function(e) {
                    this.notify("contentscroll", {
                        args: e
                    })
                }, t.prototype.focusHandler = function(e) {
                    if ((!this.isRTE || this.isFocusOut) && !this.readonly) {
                        this.isRTE = !this.isFocusOut, this.isFocusOut = !1, C([this.element], ["e-focused"]), "HTML" === this.editorMode ? this.cloneValue = "<p><br></p>" === this.inputElement.innerHTML ? null : this.enableHtmlEncode ? this.encode(tn(this.inputElement.innerHTML)) : this.inputElement.innerHTML : this.cloneValue = "" === this.inputElement.value ? null : this.inputElement.value;
                        var t = document.activeElement;
                        if ((t === this.element || t === this.getToolbarElement() || t === this.contentModule.getEditPanel() || this.iframeSettings.enable && t === this.contentModule.getPanel() && e.target && !e.target.classList.contains("e-img-inner") && e.target && e.target.parentElement && !e.target.parentElement.classList.contains("e-img-wrap") || D(t, ".e-rte-toolbar") === this.getToolbarElement()) && (this.contentModule.getEditPanel().focus(), !h(this.getToolbarElement()))) {
                            this.getToolbarElement().setAttribute("tabindex", "-1");
                            for (var n = this.getToolbarElement().querySelectorAll('[tabindex="0"]'), i = 0; i < n.length; i++) n[i].setAttribute("tabindex", "-1")
                        }
                        this.preventDefaultResize(e), this.trigger("focus", {
                            event: e,
                            isInteracted: 0 !== Object.keys(e).length
                        }), !h(this.saveInterval) && this.saveInterval > 0 && (this.timeInterval = setInterval(this.updateIntervalValue.bind(this), this.saveInterval)), y.add(document, "mousedown", this.onDocumentClick, this)
                    }
                    if (!h(this.getToolbarElement())) {
                        var r = this.getToolbarElement().querySelectorAll("input,select,button,a,[tabindex]");
                        for (i = 0; i < r.length; i++) r[i].classList.contains("e-rte-dropdown-btn") || r[i].classList.contains("e-insert-table-btn") || r[i].hasAttribute("tabindex") && "-1" === r[i].getAttribute("tabindex") || r[i].setAttribute("tabindex", "-1")
                    }
                }, t.prototype.getUpdatedValue = function() {
                    return "HTML" === this.editorMode ? "<p><br></p>" === this.inputElement.innerHTML ? null : this.enableHtmlEncode ? this.encode(tn(this.inputElement.innerHTML)) : this.inputElement.innerHTML : "" === this.inputElement.value ? null : this.inputElement.value
                }, t.prototype.updateIntervalValue = function() {
                    this.setProperties({
                        value: this.getUpdatedValue()
                    }, !0), this.valueContainer.value = this.value, this.invokeChangeEvent()
                }, t.prototype.onDocumentClick = function(e) {
                    var t = e.target,
                        n = D(t, ".e-richtexteditor");
                    this.element.contains(e.target) || document === e.target || n === this.element || D(t, '[aria-owns="' + this.getID() + '"]') || (this.isBlur = !0, this.isRTE = !1), this.notify("docClick", {
                        args: e
                    })
                }, t.prototype.blurHandler = function(e) {
                    var t = e.relatedTarget;
                    if (t) {
                        var n = D(t, ".e-richtexteditor");
                        n && n === this.element ? (this.isBlur = !1, t === this.getToolbarElement() && t.setAttribute("tabindex", "-1")) : D(t, '[aria-owns="' + this.getID() + '"]') ? this.isBlur = !1 : (this.isBlur = !0, t = null)
                    }
                    if (this.isBlur && h(t) && !this.readonly) {
                        N([this.element], ["e-focused"]), this.notify("focusChange", {});
                        var i = this.getUpdatedValue();
                        this.setProperties({
                            value: i
                        }), this.notify("toolbar-refresh", {
                            args: e,
                            documentNode: document
                        }), this.invokeChangeEvent(), this.isFocusOut = !0, this.isBlur = !1, $t(this.valueContainer, "focusout"), this.defaultResize(e), this.trigger("blur", {
                            event: e,
                            isInteracted: 0 !== Object.keys(e).length
                        }), h(this.timeInterval) || (clearInterval(this.timeInterval), this.timeInterval = null), y.remove(document, "mousedown", this.onDocumentClick)
                    } else this.isRTE = !0
                }, t.prototype.invokeChangeEvent = function() {
                    var e = {
                        value: this.value
                    };
                    this.value !== this.cloneValue && (this.trigger("change", e), this.cloneValue = this.value)
                }, t.prototype.wireScrollElementsEvents = function() {
                    this.scrollParentElements = it(this.element);
                    for (var e = 0, t = this.scrollParentElements; e < t.length; e++) {
                        var n = t[e];
                        y.add(n, "scroll", this.scrollHandler, this)
                    }
                    this.iframeSettings.enable || y.add(this.contentModule.getPanel(), "scroll", this.contentScrollHandler, this)
                }, t.prototype.wireContextEvent = function() {}, t.prototype.unWireContextEvent = function() {}, t.prototype.unWireScrollElementsEvents = function() {
                    this.scrollParentElements = it(this.element);
                    for (var e = 0, t = this.scrollParentElements; e < t.length; e++) {
                        var n = t[e];
                        y.remove(n, "scroll", this.scrollHandler)
                    }
                    this.iframeSettings.enable || y.remove(this.contentModule.getPanel(), "scroll", this.contentScrollHandler)
                }, t.prototype.touchHandler = function(e) {
                    this.notifyMouseUp(e.originalEvent), this.triggerEditArea(e.originalEvent)
                }, t.prototype.contextHandler = function(e) {
                    var t = D(e.target, "a, table, img");
                    !1 !== this.inlineMode.onSelection && (h(t) || !this.inputElement.contains(t) || "IMG" !== t.tagName && "TABLE" !== t.tagName && "A" !== t.tagName) || e.preventDefault()
                }, t.prototype.resetHandler = function() {
                    var e = this.valueContainer.defaultValue.trim();
                    this.setProperties({
                        value: "" === e ? null : this.isBlazor() ? this.defaultResetValue : e
                    })
                }, t.prototype.autoResize = function() {
                    var e = this;
                    if ("auto" === this.height) {
                        if ("Markdown" === this.editorMode) setTimeout((function() {
                            e.setAutoHeight(e.inputElement)
                        }), 0);
                        else if (this.iframeSettings.enable) {
                            var t = this.element.querySelector("#" + this.getID() + "_rte-view");
                            setTimeout((function() {
                                e.setAutoHeight(t)
                            }), 100), this.inputElement.style.overflow = "hidden"
                        }
                    } else this.inputElement.style.overflow = null
                }, t.prototype.setAutoHeight = function(e) {
                    e.style.height = "", e.style.height = this.inputElement.scrollHeight + "px", e.style.overflow = "hidden"
                }, t.prototype.wireEvents = function() {
                    this.element.addEventListener("focusin", this.onFocusHandler, !0), this.element.addEventListener("focusout", this.onBlurHandler, !0), this.readonly && this.enabled || this.bindEvents()
                }, t.prototype.restrict = function(e) {
                    if (this.maxLength >= 0) {
                        for (var t = "Markdown" === this.editorMode ? this.contentModule.getText() : e.currentTarget.textContent.trim(), n = [8, 16, 17, 37, 38, 39, 40, 46, 65], i = void 0, r = 0; r <= n.length - 1; r++)
                            if (e.which === n[r]) {
                                if (e.ctrlKey && 65 === e.which) return;
                                if (65 !== e.which) return void(i = n[r])
                            }
                        t.length >= this.maxLength && -1 !== this.maxLength && e.which !== i && e.preventDefault()
                    }
                }, t.prototype.bindEvents = function() {
                    this.keyboardModule = new ht(this.inputElement, {
                        keyAction: this.keyDown.bind(this),
                        keyConfigs: rn({}, this.formatter.keyConfig, this.keyConfig),
                        eventName: "keydown"
                    });
                    var e = D(this.valueContainer, "form");
                    e && y.add(e, "reset", this.resetHandler, this), y.add(this.inputElement, "keyup", this.keyUp, this), y.add(this.inputElement, "paste", this.onPaste, this), y.add(this.inputElement, q.touchEndEvent, u(this.mouseUp, 30), this), y.add(this.inputElement, q.touchStartEvent, this.mouseDownHandler, this), this.wireContextEvent(), this.formatter.editorManager.observer.on("keydown-handler", this.editorKeyDown, this), this.element.ownerDocument.defaultView.addEventListener("resize", this.onResizeHandler, !0), this.iframeSettings.enable && (y.add(this.inputElement, "focusin", this.focusHandler, this), y.add(this.inputElement, "focusout", this.blurHandler, this), y.add(this.inputElement.ownerDocument, "scroll", this.contentScrollHandler, this), y.add(this.inputElement.ownerDocument, q.touchStartEvent, this.onIframeMouseDown, this)), this.wireScrollElementsEvents()
                }, t.prototype.onIframeMouseDown = function(e) {
                    this.isBlur = !1, this.notify("iframe-click", e)
                }, t.prototype.editorKeyDown = function(e) {
                    switch (e.event.action) {
                        case "copy":
                            this.onCopy();
                            break;
                        case "cut":
                            this.onCut()
                    }!e.callBack || "copy" !== e.event.action && "cut" !== e.event.action && "delete" !== e.event.action || e.callBack({
                        requestType: e.event.action,
                        editorMode: "HTML",
                        event: e.event
                    })
                }, t.prototype.unWireEvents = function() {
                    this.element.removeEventListener("focusin", this.onFocusHandler, !0), this.element.removeEventListener("focusout", this.onBlurHandler, !0), this.readonly && this.enabled || this.unbindEvents()
                }, t.prototype.unbindEvents = function() {
                    this.keyboardModule && this.keyboardModule.destroy();
                    var e = D(this.valueContainer, "form");
                    e && y.remove(e, "reset", this.resetHandler), y.remove(this.inputElement, "keyup", this.keyUp), y.remove(this.inputElement, "paste", this.onPaste), y.remove(this.inputElement, q.touchEndEvent, u(this.mouseUp, 30)), y.remove(this.inputElement, q.touchStartEvent, this.mouseDownHandler), this.unWireContextEvent(), this.formatter && this.formatter.editorManager.observer.off("keydown-handler", this.editorKeyDown), this.element.ownerDocument.defaultView.removeEventListener("resize", this.onResizeHandler, !0), this.iframeSettings.enable && (y.remove(this.inputElement, "focusin", this.focusHandler), y.remove(this.inputElement, "focusout", this.blurHandler), y.remove(this.inputElement.ownerDocument, "scroll", this.contentScrollHandler), y.remove(this.inputElement.ownerDocument, q.touchStartEvent, this.onIframeMouseDown)), this.unWireScrollElementsEvents()
                }, on([X({}, Tt)], t.prototype, "toolbarSettings", void 0), on([X({}, kt)], t.prototype, "quickToolbarSettings", void 0), on([X({}, Dt)], t.prototype, "pasteCleanupSettings", void 0), on([X({}, Ft)], t.prototype, "iframeSettings", void 0), on([X({}, xt)], t.prototype, "insertImageSettings", void 0), on([X({}, Lt)], t.prototype, "tableSettings", void 0), on([J(0)], t.prototype, "floatingToolbarOffset", void 0), on([X({}, qt)], t.prototype, "inlineMode", void 0), on([J("100%")], t.prototype, "width", void 0), on([J(!1)], t.prototype, "enablePersistence", void 0), on([J(!1)], t.prototype, "enableResize", void 0), on([J({})], t.prototype, "htmlAttributes", void 0), on([J(null)], t.prototype, "placeholder", void 0), on([J(!1)], t.prototype, "readonly", void 0), on([J(!0)], t.prototype, "enabled", void 0), on([J(!0)], t.prototype, "enableHtmlSanitizer", void 0), on([J(!1)], t.prototype, "enableHtmlEncode", void 0), on([J(!1)], t.prototype, "enableXhtml", void 0), on([J("auto")], t.prototype, "height", void 0), on([J(null)], t.prototype, "cssClass", void 0), on([J(null)], t.prototype, "value", void 0), on([J(30)], t.prototype, "undoRedoSteps", void 0), on([J(300)], t.prototype, "undoRedoTimer", void 0), on([J("HTML")], t.prototype, "editorMode", void 0), on([J(null)], t.prototype, "keyConfig", void 0), on([J(!1)], t.prototype, "showCharCount", void 0), on([J(!1)], t.prototype, "enableTabKey", void 0), on([J(!1)], t.prototype, "enableAutoUrl", void 0), on([J(-1)], t.prototype, "maxLength", void 0), on([X({}, Rt)], t.prototype, "format", void 0), on([X({}, Ot)], t.prototype, "fontFamily", void 0), on([X({}, Pt)], t.prototype, "fontSize", void 0), on([X({}, At)], t.prototype, "fontColor", void 0), on([X({}, It)], t.prototype, "backgroundColor", void 0), on([J(null)], t.prototype, "valueTemplate", void 0), on([J(1e4)], t.prototype, "saveInterval", void 0), on([Y()], t.prototype, "actionBegin", void 0), on([Y()], t.prototype, "actionComplete", void 0), on([Y()], t.prototype, "beforeDialogOpen", void 0), on([Y()], t.prototype, "dialogOpen", void 0), on([Y()], t.prototype, "dialogClose", void 0), on([Y()], t.prototype, "beforeQuickToolbarOpen", void 0), on([Y()], t.prototype, "quickToolbarOpen", void 0), on([Y()], t.prototype, "quickToolbarClose", void 0), on([Y()], t.prototype, "toolbarStatusUpdate", void 0), on([Y()], t.prototype, "imageSelected", void 0), on([Y()], t.prototype, "imageUploading", void 0), on([Y()], t.prototype, "imageUploadSuccess", void 0), on([Y()], t.prototype, "imageUploadFailed", void 0), on([Y()], t.prototype, "imageRemoving", void 0), on([Y()], t.prototype, "created", void 0), on([Y()], t.prototype, "destroyed", void 0), on([Y()], t.prototype, "beforeSanitizeHtml", void 0), on([Y()], t.prototype, "blur", void 0), on([Y()], t.prototype, "toolbarClick", void 0), on([Y()], t.prototype, "focus", void 0), on([Y()], t.prototype, "change", void 0), on([Y()], t.prototype, "resizing", void 0), on([Y()], t.prototype, "resizeStart", void 0), on([Y()], t.prototype, "resizeStop", void 0), on([J(null)], t.prototype, "formatter", void 0), t = on([$], t)
            }(Le),
            sn = function() {
                function e() {}
                return e.prototype.process = function(e, t, n, i) {
                    var r, o = this,
                        a = e.contentModule.getDocument().getSelection(),
                        s = a.rangeCount > 0 ? a.getRangeAt(a.rangeCount - 1) : null;
                    if ("HTML" === e.editorMode && (r = this.editorManager.nodeSelection.save(s, e.contentModule.getDocument())), h(t) || !t.item.command || "Table" === t.item.command || "Actions" === t.item.command || "Links" === t.item.command || "Images" === t.item.command || !s || e.contentModule.getEditPanel().contains(this.getAncestorNode(s.commonAncestorContainer)) || e.contentModule.getEditPanel() === s.commonAncestorContainer || e.contentModule.getPanel() === s.commonAncestorContainer) {
                        if (h(t)) {
                            var l = n.action;
                            if ("tab" !== l && "enter" !== l && "space" !== l && "escape" !== l) {
                                t = {}, "Markdown" === e.editorMode && "insert-table" === l && (i = {
                                    headingText: e.localeObj.getConstant("TableHeadingText"),
                                    colText: e.localeObj.getConstant("TableColText")
                                });
                                var d = {
                                    originalEvent: n,
                                    cancel: !1,
                                    requestType: l || n.key + "Key",
                                    itemCollection: i
                                };
                                c(t, t, d, !0), g() && (delete t.item, delete t.itemCollection), e.trigger("actionBegin", t, (function(e) {
                                    e.cancel && ("paste" !== l && "cut" !== l && "copy" !== l || n.preventDefault())
                                }))
                            }
                            var p = !!h(e.tableModule) || !!e.tableModule && e.tableModule.ensureInsideTableList;
                            (9 === n.which && p || 9 !== n.which) && this.editorManager.observer.notify("keydown" === n.type ? "keydown" : "keyup", {
                                event: n,
                                callBack: this.onSuccess.bind(this, e),
                                value: i
                            })
                        } else !h(t) && t.item.command && t.item.subCommand && (t.item.command !== t.item.subCommand && "Font" !== t.item.command || ("FontName" === t.item.subCommand || "FontSize" === t.item.subCommand) && "dropDownSelect" === t.name || ("BackgroundColor" === t.item.subCommand || "FontColor" === t.item.subCommand) && "colorPickerChanged" === t.name) && (c(t, t, {
                            requestType: t.item.subCommand,
                            cancel: !1,
                            itemCollection: i
                        }, !0), e.trigger("actionBegin", t, (function(a) {
                            if (!a.cancel) {
                                0 === o.getUndoRedoStack().length && "Links" !== a.item.command && "Images" !== a.item.command && o.saveData(), e.isBlur = !1, e.contentModule.getEditPanel().focus(), "HTML" === e.editorMode && r.restore();
                                var s = a.item.subCommand.toLocaleLowerCase();
                                "paste" === s || "cut" === s || "copy" === s ? e.clipboardAction(s, n) : (o.editorManager.observer.notify("checkUndoStack", {
                                    subCommand: a.item.subCommand
                                }), o.editorManager.execCommand(a.item.command, a.item.subCommand, n, o.onSuccess.bind(o, e), a.item.value, "Pre" === a.item.subCommand && "dropDownSelect" === t.name ? {
                                    name: t.name
                                } : i, "#" + e.getID() + " iframe"))
                            }
                        })));
                        (h(n) || n && "copy" !== n.action) && this.enableUndo(e)
                    }
                }, e.prototype.getAncestorNode = function(e) {
                    return e = 3 === e.nodeType ? e.parentNode : e
                }, e.prototype.onKeyHandler = function(e, t) {
                    var n = this;
                    this.editorManager.observer.notify("keyup", {
                        event: t,
                        callBack: function() {
                            n.enableUndo(e)
                        }
                    })
                }, e.prototype.onSuccess = function(e, t) {
                    (h(t.event) || t && "copy" !== t.event.action) && (this.enableUndo(e), e.notify("execCommandCallBack", t)), g() && delete t.elements, e.trigger("actionComplete", t, (function(t) {
                        if (e.setPlaceHolder(), "Images" === t.requestType || "Links" === t.requestType && "HTML" === e.editorMode) {
                            var n = t;
                            if ("Links" === t.requestType && t.event && "keydown" === t.event.type && 32 === t.event.keyCode) return;
                            e.notify("insertCompleted", {
                                args: n.event,
                                type: t.requestType,
                                isNotify: !0,
                                elements: n.elements
                            })
                        }
                        e.autoResize()
                    }))
                }, e.prototype.saveData = function(e) {
                    this.editorManager.undoRedoManager.saveData(e)
                }, e.prototype.getUndoStatus = function() {
                    return this.editorManager.undoRedoManager.getUndoStatus()
                }, e.prototype.getUndoRedoStack = function() {
                    return this.editorManager.undoRedoManager.undoRedoStack
                }, e.prototype.enableUndo = function(e) {
                    var t = this.getUndoStatus();
                    !e.inlineMode.enable || q.isDevice && !Xt() ? e.toolbarModule && (Yt(e.toolbarModule.baseToolbar, t), e.trigger("toolbarStatusUpdate", t)) : (Yt(e.quickToolbarModule.inlineQTBar.quickTBarObj, t), e.trigger("toolbarStatusUpdate", t))
                }, e
            }(),
            ln = ["address", "article", "aside", "audio", "blockquote", "canvas", "details", "dd", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "hr", "li", "main", "nav", "noscript", "ol", "output", "p", "pre", "section", "table", "tbody", "td", "tfoot", "th", "thead", "tr", "ul", "video", "button", "center", "dir", "frameset", "iframe", "isindex", "map", "menu", "noframes", "object"],
            dn = ["td", "th"],
            cn = ["table", "tbody", "td", "tfoot", "th", "thead", "tr"],
            hn = function() {
                function e() {
                    this.startNodeName = [], this.endNodeName = []
                }
                return e.prototype.saveInstance = function(e, t) {
                    return this.range = e.cloneRange(), this.rootNode = this.documentFromRange(e), this.body = t, this.startContainer = this.getNodeArray(e.startContainer, !0), this.endContainer = this.getNodeArray(e.endContainer, !1), this.startOffset = e.startOffset, this.endOffset = e.endOffset, this.html = this.body.innerHTML, this
                }, e.prototype.documentFromRange = function(e) {
                    return 9 === e.startContainer.nodeType ? e.startContainer : e.startContainer.ownerDocument
                }, e.prototype.getRange = function(e) {
                    var t = this.get(e),
                        n = t && t.rangeCount > 0 ? t.getRangeAt(t.rangeCount - 1) : e.createRange();
                    return n.startContainer !== e || n.endContainer !== e || n.startOffset || n.endOffset || (n.setStart(e.body, 0), n.collapse(!0)), n
                }, e.prototype.get = function(e) {
                    return e.defaultView.getSelection()
                }, e.prototype.save = function(e, t) {
                    return e = e ? e.cloneRange() : this.getRange(t), this.saveInstance(e, t.body)
                }, e.prototype.getIndex = function(e) {
                    var t = 0;
                    if (e = e.previousSibling || "BR" !== e.tagName ? e.previousSibling : e)
                        for (e.nodeType; e; null) t++, e.nodeType, e = e.previousSibling;
                    return t
                }, e.prototype.isChildNode = function(e, t) {
                    for (var n = 0; n < t.childNodes.length; n++)
                        if (e.indexOf(t.childNodes[n]) > -1) return !0;
                    return !1
                }, e.prototype.getNode = function(e, t, n) {
                    return t !== e || 3 !== e.nodeType && e.firstChild && -1 === n.indexOf(e.firstChild) && !this.isChildNode(n, e) ? -1 === n.indexOf(e.firstChild) && e.firstChild && !this.isChildNode(n, e) ? e.firstChild : e.nextSibling ? e.nextSibling : e.parentNode ? e.parentNode : null : null
                }, e.prototype.getNodeCollection = function(e) {
                    var t = e.startContainer.childNodes[e.startOffset] || e.startContainer,
                        n = e.endContainer.childNodes[e.endOffset > 0 ? e.endOffset - 1 : e.endOffset] || e.endContainer;
                    if (t === n && 0 === t.childNodes.length) return [t];
                    if (e.startOffset === e.endOffset && 0 !== e.startOffset && "PRE" === e.startContainer.nodeName) return ["BR" === t.nodeName || "#text" === t.nodeName ? t : t.childNodes[0]];
                    var i = [];
                    do {
                        -1 === i.indexOf(t) && i.push(t), t = this.getNode(t, n, i)
                    } while (t);
                    return i
                }, e.prototype.getParentNodeCollection = function(e) {
                    return this.getParentNodes(this.getNodeCollection(e), e)
                }, e.prototype.getParentNodes = function(e, t) {
                    e = e.reverse();
                    for (var n = 0; n < e.length; n++) - 1 !== e.indexOf(e[n].parentNode) || 3 === e[n].nodeType && t.startContainer !== t.endContainer && t.startContainer.parentNode !== t.endContainer.parentNode ? (e.splice(n, 1), n--) : 3 === e[n].nodeType && (e[n] = e[n].parentNode);
                    return e
                }, e.prototype.getSelectionNodeCollection = function(e) {
                    return this.getSelectionNodes(this.getNodeCollection(e))
                }, e.prototype.getSelectionNodes = function(e) {
                    e = e.reverse();
                    for (var t = new RegExp(String.fromCharCode(8203), "g"), n = 0; n < e.length; n++)(3 !== e[n].nodeType || "" === e[n].textContent.trim() || 1 === e[n].textContent.length && e[n].textContent.match(t)) && (e.splice(n, 1), n--);
                    return e.reverse()
                }, e.prototype.getInsertNodeCollection = function(e) {
                    return this.getInsertNodes(this.getNodeCollection(e))
                }, e.prototype.getInsertNodes = function(e) {
                    e = e.reverse();
                    for (var t = 0; t < e.length; t++)(0 !== e[t].childNodes.length && 3 !== e[t].nodeType || 3 === e[t].nodeType && "" === e[t].textContent) && (e.splice(t, 1), t--);
                    return e.reverse()
                }, e.prototype.getNodeArray = function(e, t, n) {
                    var i = [];
                    for (t ? this.startNodeName = [] : this.endNodeName = []; e !== (n || this.rootNode); null) t ? this.startNodeName.push(e.nodeName.toLowerCase()) : this.endNodeName.push(e.nodeName.toLowerCase()), i.push(this.getIndex(e)), e = e.parentNode;
                    return i
                }, e.prototype.setRangePoint = function(e, t, n, i) {
                    for (var r = this.rootNode, o = n.length, a = i; o--; null) r = r && r.childNodes[n[o]];
                    return r && a >= 0 && e[t ? "setStart" : "setEnd"](r, a), e
                }, e.prototype.restore = function() {
                    var e = this.range.cloneRange();
                    return e = this.setRangePoint(e, !0, this.startContainer, this.startOffset), e = this.setRangePoint(e, !1, this.endContainer, this.endOffset), this.selectRange(this.rootNode, e), e
                }, e.prototype.selectRange = function(e, t) {
                    this.setRange(e, t), this.save(t, e)
                }, e.prototype.setRange = function(e, t) {
                    var n = this.get(e);
                    n.removeAllRanges(), n.addRange(t)
                }, e.prototype.setSelectionText = function(e, t, n, i, r) {
                    var o = e.createRange();
                    o.setStart(t, i), o.setEnd(n, r), this.setRange(e, o)
                }, e.prototype.setSelectionContents = function(e, t) {
                    var n = e.createRange();
                    n.selectNode(t), this.setRange(e, n)
                }, e.prototype.setSelectionNode = function(e, t) {
                    var n = e.createRange();
                    n.selectNodeContents(t), this.setRange(e, n)
                }, e.prototype.getSelectedNodes = function(e) {
                    return this.getNodeCollection(this.getRange(e))
                }, e.prototype.Clear = function(e) {
                    this.get(e).removeAllRanges()
                }, e.prototype.insertParentNode = function(e, t, n) {
                    n.surroundContents(t), this.selectRange(e, n)
                }, e.prototype.setCursorPoint = function(e, t, n) {
                    var i = e.createRange(),
                        r = e.defaultView.getSelection();
                    i.setStart(t, n), i.collapse(!0), r.removeAllRanges(), r.addRange(i)
                }, e
            }(),
            pn = {
                "toolbar-focus": "alt+f10",
                escape: "27",
                "insert-link": "ctrl+k",
                "insert-image": "ctrl+shift+i",
                "insert-table": "ctrl+shift+e",
                undo: "ctrl+z",
                redo: "ctrl+y",
                copy: "ctrl+c",
                cut: "ctrl+x",
                paste: "ctrl+v",
                bold: "ctrl+b",
                italic: "ctrl+i",
                underline: "ctrl+u",
                strikethrough: "ctrl+shift+s",
                uppercase: "ctrl+shift+u",
                lowercase: "ctrl+shift+l",
                superscript: "ctrl+shift+=",
                subscript: "ctrl+=",
                indents: "ctrl+]",
                outdents: "ctrl+[",
                "html-source": "ctrl+shift+h",
                "full-screen": "ctrl+shift+f",
                "decrease-fontsize": "ctrl+shift+<",
                "increase-fontsize": "ctrl+shift+>",
                "justify-center": "ctrl+e",
                "justify-full": "ctrl+j",
                "justify-left": "ctrl+l",
                "justify-right": "ctrl+r",
                "clear-format": "ctrl+shift+r",
                "ordered-list": "ctrl+shift+o",
                "unordered-list": "ctrl+alt+o",
                space: "32",
                enter: "13",
                tab: "tab",
                delete: "46"
            },
            un = ["BR", "IMG"],
            mn = "e-editor-select-start",
            fn = "e-editor-select-end",
            gn = function() {
                function e(e, t) {
                    this.parent = e, this.nodeSelection = new hn, this.currentDocument = t
                }
                return e.prototype.contents = function(e) {
                    return e && "IFRAME" !== e.tagName ? Array.prototype.slice.call(e.childNodes || []) : []
                }, e.prototype.isBlockNode = function(e) {
                    return !!e && e.nodeType === Node.ELEMENT_NODE && ln.indexOf(e.tagName.toLowerCase()) >= 0
                }, e.prototype.isLink = function(e) {
                    return !!e && e.nodeType === Node.ELEMENT_NODE && "a" === e.tagName.toLowerCase()
                }, e.prototype.blockParentNode = function(e) {
                    for (; e && e.parentNode !== this.parent && (!e.parentNode || !this.hasClass(e.parentNode, "e-node-inner")); null)
                        if (e = e.parentNode, this.isBlockNode(e)) return e;
                    return e
                }, e.prototype.rawAttributes = function(e) {
                    var t = {},
                        n = e.attributes;
                    if (n.length > 0)
                        for (var i = 0; i < n.length; i++) {
                            var r = n[i];
                            t[r.nodeName] = r.value
                        }
                    return t
                }, e.prototype.attributes = function(e) {
                    if (!e) return "";
                    for (var t = "", n = this.rawAttributes(e), i = Object.keys(n).sort(), r = 0; r < i.length; r++) {
                        var o = i[r],
                            a = n[o];
                        a.indexOf("'") < 0 && a.indexOf('"') >= 0 ? t += " " + o + "='" + a + "'" : a.indexOf('"') >= 0 && a.indexOf("'") >= 0 ? t += " " + o + '="' + (a = a.replace(/"/g, "&quot;")) + '"' : t += " " + o + '="' + a + '"'
                    }
                    return t
                }, e.prototype.clearAttributes = function(e) {
                    for (var t = e.attributes, n = t.length - 1; n >= 0; n--) {
                        var i = t[n];
                        e.removeAttribute(i.nodeName)
                    }
                }, e.prototype.openTagString = function(e) {
                    return "<" + e.tagName.toLowerCase() + this.attributes(e) + ">"
                }, e.prototype.closeTagString = function(e) {
                    return "</" + e.tagName.toLowerCase() + ">"
                }, e.prototype.createTagString = function(e, t, n) {
                    return "<" + e.toLowerCase() + this.attributes(t) + ">" + n + "</" + e.toLowerCase() + ">"
                }, e.prototype.isList = function(e) {
                    return !!e && ["UL", "OL"].indexOf(e.tagName) >= 0
                }, e.prototype.isElement = function(e) {
                    return e === this.parent
                }, e.prototype.isEditable = function(e) {
                    return (!e.getAttribute || "true" === e.getAttribute("contenteditable")) && ["STYLE", "SCRIPT"].indexOf(e.tagName) < 0
                }, e.prototype.hasClass = function(e, t) {
                    return e && e.classList && e.classList.contains(t)
                }, e.prototype.replaceWith = function(e, t) {
                    e.parentNode.insertBefore(this.parseHTMLFragment(t), e), T(e)
                }, e.prototype.parseHTMLFragment = function(e) {
                    var t = b("template");
                    return t.innerHTML = e, t.content instanceof DocumentFragment ? t.content : document.createRange().createContextualFragment(e)
                }, e.prototype.wrap = function(e, t) {
                    return e.parentNode.insertBefore(t, e), (t = e.previousSibling).appendChild(e), t
                }, e.prototype.insertAfter = function(e, t) {
                    t.parentNode.insertBefore(e, t.nextSibling)
                }, e.prototype.wrapInner = function(e, t) {
                    for (e.appendChild(t), (t = e.querySelector(".e-rte-wrap-inner")).classList.remove("e-rte-wrap-inner"), 0 === t.classList.length && t.removeAttribute("class"); e.firstChild !== t;) t.appendChild(e.firstChild);
                    return t
                }, e.prototype.unWrap = function(e) {
                    for (var t = e.parentNode, n = []; e.firstChild;) n.push(e.firstChild), t.insertBefore(e.firstChild, e);
                    return n = n.length > 0 ? n : [e.parentNode], t.removeChild(e), n
                }, e.prototype.getSelectedNode = function(e, t) {
                    return e.nodeType === Node.ELEMENT_NODE && e.childNodes.length > 0 && e.childNodes[t - 1] && e.childNodes[t - 1].nodeType === Node.ELEMENT_NODE && (e.childNodes[t - 1].classList.contains(mn) || e.childNodes[t - 1].classList.contains(fn)) ? e = e.childNodes[t - 1] : e.nodeType === Node.ELEMENT_NODE && e.childNodes.length > 0 && e.childNodes[t] && (e = e.childNodes[t]), e.nodeType === Node.TEXT_NODE && (e = e.parentNode), e
                }, e.prototype.nodeFinds = function(e, t) {
                    for (var n = [], i = 0; i < t.length; i++) e.contains(t[i]) && e !== t[i] && n.push(t[i]);
                    return n
                }, e.prototype.isEditorArea = function() {
                    var e;
                    for (e = this.getRangePoint(0).commonAncestorContainer; e && !this.isElement(e); null) e = e.parentNode;
                    return !!this.isElement(e)
                }, e.prototype.getRangePoint = function(e) {
                    var t = this.getSelection(),
                        n = [];
                    if (t && t.getRangeAt && t.rangeCount) {
                        n = [];
                        for (var i = 0; i < t.rangeCount; i++) n.push(t.getRangeAt(i))
                    } else n = [this.currentDocument.createRange()];
                    return void 0 !== e ? n[e] : n
                }, e.prototype.getSelection = function() {
                    return this.nodeSelection.get(this.currentDocument)
                }, e.prototype.getPreviousNode = function(e) {
                    for (e = e.previousElementSibling; e && "\n" === e.textContent; null) e = e.previousElementSibling;
                    return e
                }, e.prototype.encode = function(e) {
                    var t = document.createElement("div");
                    return t.innerText = e, t.innerHTML.replace(/<br\s*[\/]?>/gi, "\n")
                }, e.prototype.saveMarker = function(e, t) {
                    var n, i, r = this.parent.querySelector("." + mn),
                        o = this.parent.querySelector("." + fn);
                    if ("" === r.textContent && h(o) && "tab" !== t && (1 === r.childNodes.length && "BR" === r.childNodes[0].nodeName ? r.innerHTML = "&#65279;&#65279;<br>" : r.innerHTML = "&#65279;&#65279;"), this.hasClass(r, mn) && r.classList.length > 1) {
                        var a = this.createTagString("p", r, this.encode(r.textContent));
                        this.replaceWith(r, a), (r = this.parent.querySelector("." + mn)).classList.remove(mn), n = r.childNodes[0]
                    } else n = this.unWrap(r)[0];
                    if (this.hasClass(o, fn) && o.classList.length > 1) {
                        a = this.createTagString("p", o, this.encode(o.textContent));
                        this.replaceWith(o, a), (o = this.parent.querySelector("." + fn)).classList.remove(fn), i = o.childNodes[0]
                    } else i = o ? this.unWrap(o)[0] : n;
                    return e.startContainer = e.getNodeArray(n, !0), e.endContainer = e.getNodeArray(i, !1), e
                }, e.prototype.marker = function(e, t) {
                    return '<span class="' + e + '">' + t + "</span>"
                }, e.prototype.setMarker = function(e) {
                    var t = e.range,
                        n = t.startContainer.childNodes[t.startOffset] || t.startContainer,
                        i = t.endContainer.childNodes[t.endOffset > 0 ? t.endOffset - 1 : t.endOffset] || t.endContainer;
                    if (n.nodeType === Node.ELEMENT_NODE && i.nodeType === Node.ELEMENT_NODE && (n.contains(i) || i.contains(n))) {
                        var r = n.contains(i) ? n : i;
                        if (r.nodeType !== Node.TEXT_NODE) {
                            for (var o = [], a = [], s = r; r.contains(s); null) o.indexOf(s) < 0 && s.childNodes && s.childNodes.length ? (o.push(s), s = s.childNodes[0]) : s.nextSibling ? s = s.nextSibling : s.parentNode && (s = s.parentNode, o.push(s)), a.indexOf(s) < 0 && (s.nodeType === Node.TEXT_NODE || dn.indexOf(s.parentNode.tagName.toLocaleLowerCase()) >= 0 && "BR" === s.tagName) && a.push(s);
                            a.length && (n = n.contains(i) ? a[0] : n, i = a[a.length - 1])
                        }
                    }
                    if (n !== i) {
                        if (n.nodeType !== Node.TEXT_NODE && "BR" === n.tagName && dn.indexOf(n.parentNode.tagName.toLocaleLowerCase()) >= 0) this.replaceWith(n, this.marker(mn, this.encode(n.textContent))), t.startContainer.querySelector("." + mn).appendChild(n);
                        else this.replaceWith(n, this.marker(mn, this.encode(n.textContent)));
                        if (i.nodeType !== Node.TEXT_NODE && "BR" === i.tagName && dn.indexOf(i.parentNode.tagName.toLocaleLowerCase()) >= 0) this.replaceWith(i, this.marker(fn, this.encode(i.textContent))), t.endContainer.querySelector("." + fn).appendChild(i);
                        else this.ensureSelfClosingTag(i, fn, t)
                    } else this.ensureSelfClosingTag(n, mn, t)
                }, e.prototype.ensureSelfClosingTag = function(e, t, n) {
                    var i = !1;
                    if (3 === e.nodeType) this.replaceWith(e, this.marker(t, this.encode(e.textContent)));
                    else if ("BR" === e.tagName) {
                        this.replaceWith(e, this.marker(mn, this.encode(e.textContent))), n.startContainer.querySelector("." + mn).appendChild(e)
                    } else {
                        if ("IMG" === e.tagName) {
                            var r = document.createElement("p");
                            e.parentElement.insertBefore(r, e), r.appendChild(e), e = r.children[0]
                        }
                        if ("TABLE" === e.tagName)
                            if (i = !0, "" === e.textContent) {
                                var o = e.querySelectorAll("td");
                                e = h((e = o[o.length - 1]).childNodes[0]) ? e : e.childNodes[0]
                            } else {
                                for (var a = e.lastChild; 3 !== a.nodeType && "#text" !== a.nodeName;) a = a.lastChild;
                                e = a
                            }
                        for (var s = 0; s < un.length; s++) e = e.tagName !== un[s] || i ? e : e.parentNode;
                        if (3 === e.nodeType && "#text" === e.nodeName) this.replaceWith(e, this.marker(t, this.encode(e.textContent)));
                        else if ("BR" === e.nodeName) {
                            this.replaceWith(e, this.marker(fn, this.encode(e.textContent))), n.endContainer.querySelector("." + fn).appendChild(e)
                        } else {
                            var l = this.marker(t, "");
                            S([this.parseHTMLFragment(l)], e)
                        }
                    }
                }, e.prototype.createTempNode = function(e) {
                    var t = e.textContent;
                    if ("BR" === e.tagName) {
                        var n = "<p></p>",
                            i = e.parentNode;
                        dn.indexOf(i.tagName.toLocaleLowerCase()) >= 0 && (e = this.wrap(e, this.parseHTMLFragment(n)))
                    } else if (e.nodeType !== Node.TEXT_NODE && (e.classList.contains(mn) || e.classList.contains(fn)) || t.replace(/\n/g, "").replace(/(^ *)|( *$)/g, "").length > 0 || t.length && t.indexOf("\n") < 0) {
                        n = "<p></p>";
                        var r = e;
                        e = this.wrap(e, this.parseHTMLFragment(n)), !(r.nodeType === Node.ELEMENT_NODE && r.firstChild && "BR" === r.firstChild.nodeName && (r.classList.contains(mn) || r.classList.contains(fn))) && e.nextElementSibling && "BR" === e.nextElementSibling.tagName && e.appendChild(e.nextElementSibling)
                    }
                    return e
                }, e.prototype.getImageTagInSelection = function() {
                    var e = this.getSelection();
                    return this.isEditorArea() && e.rangeCount ? e.focusNode.querySelectorAll("img") : null
                }, e.prototype.blockNodes = function() {
                    var e = [],
                        t = this.getSelection();
                    if (this.isEditorArea() && t.rangeCount)
                        for (var n = this.getRangePoint(), i = 0; i < n.length; i++) {
                            var r = void 0,
                                o = n[i],
                                a = this.getSelectedNode(o.startContainer, o.startOffset),
                                s = this.getSelectedNode(o.endContainer, o.endOffset);
                            if (this.isBlockNode(a) && e.indexOf(a) < 0 && e.push(a), (r = this.blockParentNode(a)) && e.indexOf(r) < 0)
                                if (dn.indexOf(r.tagName.toLocaleLowerCase()) >= 0 && ("BR" === a.tagName || a.nodeType === Node.TEXT_NODE || a.classList.contains(mn) || a.classList.contains(fn))) {
                                    var l = a.previousSibling && a.previousSibling.nodeType === Node.TEXT_NODE ? a.previousSibling : a;
                                    a.nextSibling || a.previousSibling || "BR" !== a.tagName ? e.push(this.createTempNode(l)) : e.push(l)
                                } else e.push(r);
                            for (var d = [], c = a; c !== s && c !== this.parent; null) d.indexOf(c) < 0 && c.childNodes && c.childNodes.length ? (d.push(c), c = c.childNodes[0]) : c && 8 !== c.nodeType && ("BR" === c.tagName || c.nodeType === Node.TEXT_NODE && "" !== c.textContent.trim() || c.nodeType !== Node.TEXT_NODE && (c.classList.contains(mn) || c.classList.contains(fn))) && dn.indexOf(c.parentNode.tagName.toLocaleLowerCase()) >= 0 ? c = this.createTempNode(c) : c.nextSibling && 8 !== c.nextSibling.nodeType && ("BR" === c.nextSibling.tagName || c.nextSibling.nodeType === Node.TEXT_NODE || c.nextSibling.classList.contains(mn) || c.nextSibling.classList.contains(fn)) && dn.indexOf(c.nextSibling.parentNode.tagName.toLocaleLowerCase()) >= 0 ? c = this.createTempNode(c.nextSibling) : c.nextSibling ? c = c.nextSibling : c.parentNode && (c = c.parentNode, d.push(c)), e.indexOf(c) < 0 && c.nodeType === Node.ELEMENT_NODE && dn.indexOf(c.parentNode.tagName.toLocaleLowerCase()) >= 0 && (c.classList.contains(mn) || c.classList.contains(fn)) && e.push(this.createTempNode(c)), this.isBlockNode(c) && this.ignoreTableTag(c) && d.indexOf(c) < 0 && e.indexOf(c) < 0 && (c !== s || o.endOffset > 0) && e.push(c), "IMG" === c.nodeName && "true" === c.parentElement.contentEditable && e.push(c);
                            (r = this.blockParentNode(s)) && this.ignoreTableTag(r) && e.indexOf(r) < 0 && !h(r.previousElementSibling) && "IMG" !== r.previousElementSibling.tagName && e.push(r)
                        }
                    for (var p = e.length - 1; p > 0; p--) {
                        if ((d = this.nodeFinds(e[p], e)).length) {
                            var u = e[p].querySelectorAll("ul, ol");
                            if ("LI" === e[p].tagName && u.length > 0) continue;
                            e.splice(p, 1)
                        }
                    }
                    return e
                }, e.prototype.ignoreTableTag = function(e) {
                    return !(cn.indexOf(e.tagName.toLocaleLowerCase()) >= 0)
                }, e
            }();

        function yn() {
            var e = !1;
            return q.isDevice && q.isIos && (e = !0), e
        }

        function vn(e, t) {
            if ("BODY" === e.nodeName && !h(t)) {
                var n = top.window.document.querySelector(t);
                h(n) || n.contentWindow.focus()
            }
        }
        var bn = function() {
                function e(e) {
                    this.parent = e, this.domNode = this.parent.domNode, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("list-type", this.applyListsHandler, this), this.parent.observer.on("keydown-handler", this.keyDownHandler, this)
                }, e.prototype.testList = function(e) {
                    var t = [/^[\d]+[.]+$/, /^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})[.]$/gi, /^[a-zA-Z][.]+$/],
                        n = h(e) ? null : e.innerText.trim().split(".")[0] + ".";
                    if (!h(n))
                        for (var i = 0; i < t.length; i++)
                            if (t[i].test(n)) return !0;
                    return !1
                }, e.prototype.testCurrentList = function(e) {
                    var t = [/^[1]+[.]+$/, /^[i]+[.]+$/, /^[a]+[.]+$/];
                    if (!h(e.startContainer.textContent.slice(0, e.startOffset)))
                        for (var n = 0; n < t.length; n++)
                            if (t[n].test(e.startContainer.textContent.slice(0, e.startOffset))) return !0;
                    return !1
                }, e.prototype.spaceList = function(e) {
                    var t = this.parent.nodeSelection.getRange(this.parent.currentDocument);
                    this.saveSelection = this.parent.nodeSelection.save(t, this.parent.currentDocument);
                    var n = this.parent.domNode.getSelectedNode(t.startContainer, t.startOffset),
                        i = (this.parent.domNode.getSelectedNode(t.endContainer, t.endOffset), n.previousElementSibling),
                        r = n.nextElementSibling,
                        o = h(i) ? null : i.innerText.trim().substring(0, 1),
                        a = h(r) ? null : r.innerText.trim().substring(0, 1),
                        s = this.testCurrentList(t),
                        l = this.testList(i),
                        d = this.testList(r);
                    l || d || "*" === o || "*" === a || (s ? (t.startContainer.textContent = t.startContainer.textContent.slice(t.startOffset, t.startContainer.textContent.length), this.applyListsHandler({
                        subCommand: "OL",
                        callBack: e.callBack
                    }), e.event.preventDefault()) : "*" === t.startContainer.textContent.slice(0, t.startOffset) && (t.startContainer.textContent = t.startContainer.textContent.slice(t.startOffset, t.startContainer.textContent.length), this.applyListsHandler({
                        subCommand: "UL",
                        callBack: e.callBack
                    }), e.event.preventDefault()))
                }, e.prototype.keyDownHandler = function(e) {
                    if (32 === e.event.which && this.spaceList(e), 9 === e.event.which) {
                        var t = this.parent.nodeSelection.getRange(this.parent.currentDocument);
                        e.event.action && "indent" === e.event.action || (this.saveSelection = this.parent.nodeSelection.save(t, this.parent.currentDocument));
                        var n = void 0,
                            i = t.startOffset,
                            r = t.endOffset,
                            o = this.parent.domNode.getSelectedNode(t.startContainer, t.startOffset);
                        if (o === this.parent.domNode.getSelectedNode(t.endContainer, t.endOffset) && ("BR" === o.nodeName || "#text" === o.nodeName) && dn.indexOf(o.parentNode.tagName.toLocaleLowerCase()) >= 0) return;
                        e.event.action && "indent" === e.event.action || this.domNode.setMarker(this.saveSelection), n = this.domNode.blockNodes();
                        for (var a = [], s = !0, l = 0; l < n.length; l++) "LI" === n[l].parentNode.tagName ? a.push(n[l].parentNode) : "LI" === n[l].tagName && "P" !== n[l].childNodes[0].tagName && "OL" !== n[l].childNodes[0].tagName && "UL" !== n[l].childNodes[0].tagName && a.push(n[l]);
                        a.length > 1 || a.length && (0 === i && 0 === r || e.ignoreDefault) ? (e.event.preventDefault(), e.event.stopPropagation(), this.currentAction = this.getAction(a[0]), e.event.shiftKey ? (this.revertList(a), this.revertClean()) : s = this.nestedList(a), s && (this.cleanNode(), this.parent.editableElement.focus()), e.event.action && "indent" === e.event.action || (this.saveSelection = this.domNode.saveMarker(this.saveSelection), this.saveSelection.restore(), e.callBack && e.callBack({
                            requestType: this.currentAction,
                            editorMode: "HTML",
                            range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                            elements: this.parent.domNode.blockNodes(),
                            event: e.event
                        }))) : e.event.action && "indent" === e.event.action || (e.event && e.event.shiftKey && "Tab" === e.event.key && (e.event.action = "tab"), this.saveSelection = this.domNode.saveMarker(this.saveSelection, e.event.action), this.saveSelection.restore())
                    } else switch (e.event.action) {
                        case "ordered-list":
                            this.applyListsHandler({
                                subCommand: "OL",
                                callBack: e.callBack
                            }), e.event.preventDefault();
                            break;
                        case "unordered-list":
                            this.applyListsHandler({
                                subCommand: "UL",
                                callBack: e.callBack
                            }), e.event.preventDefault()
                    }
                }, e.prototype.getAction = function(e) {
                    return "OL" === e.parentNode.nodeName ? "OL" : "UL"
                }, e.prototype.revertClean = function() {
                    for (var e = this.parent.editableElement.querySelectorAll("ul, ol"), t = 0; t < e.length; t++) {
                        var n = e[t].querySelectorAll("ul, ol");
                        if (n.length > 0)
                            for (var i = 0; i < n.length; i++) {
                                var r = n[i].previousSibling;
                                r && "LI" === r.tagName && r.appendChild(n[i])
                            }
                    }
                }, e.prototype.noPreviousElement = function(e) {
                    var t, n, i = e.querySelectorAll("ol, ul"),
                        r = e.querySelectorAll("li"),
                        o = this.domNode.contents(r[0])[0];
                    if (r.length > 0 && ("OL" === o.nodeName || "UL" === o.nodeName) ? t = r[0] : n = i[0], t)
                        for (var a = this.domNode.contents(e)[0]; a && !this.domNode.isList(a); null) {
                            var s = a.nextSibling;
                            w([a], t), O(e, {
                                "list-style-type": "none"
                            }), O(t, {
                                "list-style-type": ""
                            }), a = s
                        } else if (n) {
                            w([d = b("li")], n);
                            for (a = this.domNode.contents(e)[0]; a && !this.domNode.isList(a); null) {
                                s = a.nextSibling;
                                d.appendChild(a), a = s
                            }
                            w([n], e.parentNode), T(e), w([l = b("li", {
                                styles: "list-style-type: none;"
                            })], n.parentNode), S([n], l)
                        } else {
                            var l, d;
                            w([l = b("li", {
                                styles: "list-style-type: none;"
                            })], e.parentNode), w([d = b(e.parentNode.tagName)], l), S([e], d)
                        }
                }, e.prototype.nestedList = function(e) {
                    for (var t = !1, n = 0; n < e.length; n++) {
                        var i = this.domNode.getPreviousNode(e[n]);
                        if (i) {
                            t = !0;
                            var r = void 0,
                                o = void 0,
                                a = e[n].querySelectorAll("ol, ul"),
                                s = e[n].querySelectorAll("li"),
                                l = this.domNode.contents(s[0])[0];
                            if (s.length > 0 && ("OL" === l.nodeName || "UL" === l.nodeName) ? o = s[0] : r = a[0], r) {
                                w([h = b("li")], r);
                                for (var d = this.domNode.contents(e[n])[0]; d && !this.domNode.isList(d); null) {
                                    var c = d.nextSibling;
                                    h.appendChild(d), d = c
                                }
                                S([r], i), T(e[n])
                            } else if (o) {
                                if ("LI" === i.tagName) {
                                    for (d = this.domNode.contents(e[n])[0]; d && !this.domNode.isList(d); null) {
                                        c = d.nextSibling;
                                        w([d], o), O(e[n], {
                                            "list-style-type": "none"
                                        }), O(o, {
                                            "list-style-type": ""
                                        }), d = c
                                    }
                                    S([o.parentNode], i), T(e[n])
                                }
                            } else {
                                var h;
                                if ("LI" === i.tagName) S([h = b(e[n].parentNode.tagName)], i), S([e[n]], h)
                            }
                        } else {
                            var p = e[n];
                            t = !0, this.noPreviousElement(p)
                        }
                    }
                    return t
                }, e.prototype.applyListsHandler = function(e) {
                    var t = this.parent.nodeSelection.getRange(this.parent.currentDocument);
                    this.saveSelection = this.parent.nodeSelection.save(t, this.parent.currentDocument), this.currentAction = e.subCommand, this.domNode.setMarker(this.saveSelection);
                    for (var n = this.domNode.blockNodes(), i = 0; i < n.length; i++) "LI" !== n[i].tagName && "LI" === n[i].parentNode.tagName && (n[i] = n[i].parentNode);
                    this.applyLists(n, this.currentAction, e.selector), e.callBack && e.callBack({
                        requestType: this.currentAction,
                        event: e.event,
                        editorMode: "HTML",
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.domNode.blockNodes()
                    })
                }, e.prototype.applyLists = function(e, t, n) {
                    if (this.isRevert(e, t)) this.revertList(e), this.removeEmptyListElements();
                    else {
                        this.checkLists(e, t);
                        for (var i = 0; i < e.length; i++)
                            if ("LI" !== e[i].tagName) {
                                !1;
                                var r = "<" + t + ">",
                                    o = "</" + t + ">",
                                    a = "li" + ("IMG" === e[i].tagName ? "" : this.domNode.attributes(e[i])),
                                    s = "p" === e[i].tagName.toLowerCase() ? e[i].innerHTML : e[i].outerHTML,
                                    l = r + this.domNode.createTagString(a, null, s) + o;
                                this.domNode.replaceWith(e[i], l)
                            }
                    }
                    this.cleanNode(), this.parent.editableElement.focus(), yn() && vn(this.parent.editableElement, n), this.saveSelection = this.domNode.saveMarker(this.saveSelection), this.saveSelection.restore()
                }, e.prototype.removeEmptyListElements = function() {
                    for (var e = this.parent.editableElement.querySelectorAll("ol, ul"), t = 0; t < e.length; t++) "" === e[t].textContent.trim() && T(e[t])
                }, e.prototype.isRevert = function(e, t) {
                    for (var n = !0, i = 0; i < e.length; i++) {
                        if ("LI" !== e[i].tagName) return !1;
                        e[i].parentNode.tagName !== t && (n = !1)
                    }
                    return n
                }, e.prototype.checkLists = function(e, t) {
                    for (var n = [], i = 0; i < e.length; i++) {
                        var r = e[i].parentNode;
                        "LI" === e[i].tagName && r.tagName !== t && n.indexOf(r) < 0 && n.push(r)
                    }
                    for (var o = n.length - 1; o >= 0; o--) {
                        var a = n[o],
                            s = "<" + t.toLowerCase() + " " + this.domNode.attributes(a) + ">" + a.innerHTML + "</" + t.toLowerCase() + ">";
                        this.domNode.replaceWith(n[o], s)
                    }
                }, e.prototype.cleanNode = function() {
                    for (var e = this.parent.editableElement.querySelectorAll("ol + ol, ul + ul"), t = 0; t < e.length; t++) {
                        var n = e[t];
                        if (this.domNode.isList(n.previousElementSibling) && this.domNode.openTagString(n) === this.domNode.openTagString(n.previousElementSibling)) {
                            for (var i = this.domNode.contents(n), r = 0; r < i.length; r++) n.previousElementSibling.appendChild(i[r]);
                            n.parentNode.removeChild(n)
                        }
                    }
                }, e.prototype.findUnSelected = function(e, t) {
                    if ((e = e.slice().reverse()).length > 0) {
                        var n = [],
                            i = [],
                            r = [],
                            o = [];
                        r = t[t.length - 1].childNodes;
                        for (var a = 0; a < r.length; a++)
                            if ("OL" === r[a].tagName || "UL" === r[a].tagName) {
                                var s = r[a].querySelectorAll("li");
                                if (s.length > 0)
                                    for (var l = 0; l < s.length; l++) o.push(s[l])
                            }
                        for (var d = 0; d < o.length; d++) {
                            for (var c = 0, h = 0; h < e.length; h++) o[d].contains(e[h]) || (c += 1);
                            c === e.length && i.push(o[d])
                        }
                        if (i.length > 0)
                            for (var p = 0; p < i.length; p++) "OL" !== this.domNode.contents(i[p])[0].nodeName && "UL" !== this.domNode.contents(i[p])[0].nodeName && n.push(i[p]);
                        n.length > 0 && this.nestedList(n)
                    }
                }, e.prototype.revertList = function(e) {
                    for (var t = [], n = e.length - 1; n >= 0; n--)
                        for (var i = n - 1; i >= 0; i--)
                            if (e[i].contains(e[n]) || e[i] === e[n]) {
                                t.push(e[n]), e.splice(n, 1);
                                break
                            }
                    this.findUnSelected(t, e);
                    var r = [];
                    for (n = 0; n < e.length; n++) {
                        var o = e[n];
                        3 === this.domNode.contents(o)[0].nodeType && 0 === this.domNode.contents(o)[0].textContent.trim().length && T(this.domNode.contents(o)[0]);
                        var a = e[n].parentNode,
                            s = o.getAttribute("class");
                        if (0 === t.length) {
                            var l = e[n].querySelectorAll("ul, ol")[0];
                            if (l)
                                if (l.querySelectorAll("li")) {
                                    var d = b(l.tagName);
                                    S([d], l.parentNode);
                                    var c = b("li", {
                                        styles: "list-style-type: none;"
                                    });
                                    S([c], d), S([l], c)
                                }
                        }
                        if (o.parentNode.insertBefore(this.closeTag(a.tagName), o), "LI" === a.parentNode.tagName) o.parentNode.insertBefore(this.closeTag("LI"), o);
                        else {
                            if (s && ' class="' + s + '"', 0 === o.querySelectorAll(ln.join(", ")).length) {
                                var p = "<p" + (h(s) ? ' class="e-rte-wrap-inner"' : ' class="' + s + ' e-rte-wrap-inner"') + this.domNode.attributes(a) + "></p>";
                                this.domNode.wrapInner(o, this.domNode.parseHTMLFragment(p))
                            } else if (3 === this.domNode.contents(o)[0].nodeType) {
                                var u = this.domNode.createTagString("p", a, this.parent.domNode.encode(this.domNode.contents(o)[0].textContent));
                                this.domNode.replaceWith(this.domNode.contents(o)[0], u)
                            } else if (this.domNode.contents(o)[0].classList.contains(mn) || this.domNode.contents(o)[0].classList.contains(fn)) {
                                u = this.domNode.createTagString("p", a, this.domNode.contents(o)[0].outerHTML);
                                this.domNode.replaceWith(this.domNode.contents(o)[0], u)
                            } else {
                                var m = o.firstChild;
                                s = m.getAttribute("class"), x(m, this.domNode.rawAttributes(a)), s && m.getAttribute("class") && x(m, {
                                    class: s + " " + m.getAttribute("class")
                                })
                            }
                            S([this.openTag("LI")], o), w([this.closeTag("LI")], o)
                        }
                        this.domNode.insertAfter(this.openTag(a.tagName), o), "LI" === a.parentNode.tagName && (a = a.parentNode.parentNode), r.indexOf(a) < 0 && r.push(a)
                    }
                    for (n = 0; n < r.length; n++) {
                        var f = r[n],
                            g = f.innerHTML;
                        g = (g = g.replace(/<span class="e-rte-list-close-([a-z]*)"><\/span>/g, "</$1>")).replace(/<span class="e-rte-list-open-([a-z]*)"><\/span>/g, "<$1 " + this.domNode.attributes(f) + ">"), this.domNode.replaceWith(f, this.domNode.openTagString(f) + g.trim() + this.domNode.closeTagString(f))
                    }
                    var y = this.parent.editableElement.querySelectorAll("ul:empty, ol:empty");
                    for (n = 0; n < y.length; n++) T(y[n]);
                    var v = this.parent.editableElement.querySelectorAll("li:empty");
                    for (n = 0; n < v.length; n++) T(v[n])
                }, e.prototype.openTag = function(e) {
                    return this.domNode.parseHTMLFragment('<span class="e-rte-list-open-' + e.toLowerCase() + '"></span>')
                }, e.prototype.closeTag = function(e) {
                    return this.domNode.parseHTMLFragment('<span class="e-rte-list-close-' + e.toLowerCase() + '"></span>')
                }, e
            }(),
            Cn = function() {
                function e() {}
                return e.WrapBefore = function(e, t, n) {
                    return t.innerText = e.textContent, n ? this.AppendBefore(t, e, !0) : this.AppendBefore(t, e), e.parentNode && e.parentNode.removeChild(e), t.childNodes[0]
                }, e.Wrap = function(e, t) {
                    return this.AppendBefore(t, e), t.appendChild(e), e
                }, e.unwrap = function(e) {
                    for (var t = e.parentNode, n = []; e.firstChild; null) n.push(t.insertBefore(e.firstChild, e));
                    return t.removeChild(e), n
                }, e.AppendBefore = function(e, t, n) {
                    return t.parentNode ? n ? t.parentNode.insertBefore(e, t.nextSibling) : t.parentNode.insertBefore(e, t) : t
                }, e
            }(),
            Nn = function() {
                function e() {
                    this.position = -1, this.nodeSelection = new hn
                }
                return e.prototype.GetSpliceNode = function(e, t) {
                    return t = this.SplitNode(e, t, !0), t = this.SplitNode(e, t, !1)
                }, e.prototype.SplitNode = function(e, t, n) {
                    if (t) {
                        var i = e.cloneRange(),
                            r = t.parentNode,
                            o = this.nodeSelection.getIndex(t);
                        i.collapse(n), n ? i.setStartBefore(t) : i.setEndAfter(t);
                        var a, s = i.extractContents();
                        if (n) {
                            if (t = r.childNodes[o], (s = this.spliceEmptyNode(s, !1)) && s.childNodes.length > 0)
                                if (!!(1 !== s.childNodes.length || "IMG" === s.childNodes[0].nodeName || !h(s.querySelector("img")) || "" !== s.textContent))
                                    if (t) Cn.AppendBefore(s, t);
                                    else r.appendChild(s), (a = document.createElement("div")).innerHTML = "&#65279;&#65279;", t = a.firstChild, r.appendChild(t)
                        } else if (t = r.childNodes.length > 1 ? r.childNodes[o] : r.childNodes[0], (s = this.spliceEmptyNode(s, !0)) && s.childNodes.length > 0)
                            if (!!(1 !== s.childNodes.length || "IMG" === s.childNodes[0].nodeName || !h(s.querySelector("img")) || "" !== s.textContent))
                                if (t) Cn.AppendBefore(s, t, !0);
                                else r.appendChild(s), (a = document.createElement("div")).innerHTML = "&#65279;&#65279;", r.insertBefore(a.firstChild, r.firstChild), t = r.firstChild;
                        return t
                    }
                    return null
                }, e.prototype.spliceEmptyNode = function(e, t) {
                    var n;
                    return (n = 1 === e.childNodes.length && "#text" === e.childNodes[0].nodeName && "" === e.childNodes[0].textContent || "" === e.textContent ? -1 : e.childNodes.length - 1) > -1 && !t ? this.spliceEmptyNode(e.childNodes[n], t) : n > -1 ? this.spliceEmptyNode(e.childNodes[0], t) : 3 !== e.nodeType && 11 !== e.nodeType && e.parentNode.removeChild(e), e
                }, e.prototype.GetCursorStart = function(e, t, n) {
                    for (var i = (e = n ? e : e.reverse())[0], r = 0; r < e.length && (n ? e[r] < t : e[r] >= t); r++) i = e[r];
                    return i
                }, e.prototype.GetCursorRange = function(e, t, n) {
                    var i = e.createRange(),
                        r = [];
                    r.push(0);
                    for (var o = this.TrimLineBreak(n.data), a = o.indexOf(" ", 0); - 1 !== a;) r.indexOf(a) < 0 && r.push(a), new RegExp("\\s").test(o[a - 1]) && r.indexOf(a - 1) < 0 && r.push(a - 1), new RegExp("\\s").test(o[a + 1]) && r.push(a + 1), a = o.indexOf(" ", a + 1);
                    if (r.push(o.length), r.indexOf(t.startOffset) >= 0 || r.indexOf(t.startOffset - 1) >= 0 && (1 !== t.startOffset || 1 === t.startOffset && new RegExp("\\s").test(o[0])) || r[r.length - 1] - 1 === t.startOffset) i = t, this.position = 1;
                    else {
                        var s = this.GetCursorStart(r, t.startOffset, !0);
                        this.position = t.startOffset - s, i.setStart(t.startContainer, s), i.setEnd(t.startContainer, this.GetCursorStart(r, t.startOffset, !1))
                    }
                    return i
                }, e.prototype.GetCursorNode = function(e, t, n) {
                    return this.GetSpliceNode(this.GetCursorRange(e, t, n), n)
                }, e.prototype.TrimLineBreak = function(e) {
                    return e.replace(/(\r\n\t|\n|\r\t)/gm, " ")
                }, e
            }(),
            En = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("format-type", this.applyFormats, this), this.parent.observer.on("keydown-handler", this.onKeyDown, this)
                }, e.prototype.getParentNode = function(e) {
                    for (; e.parentNode && e.parentNode !== this.parent.editableElement; null) e = e.parentNode;
                    return e
                }, e.prototype.onKeyDown = function(e) {
                    if (13 === e.event.which) {
                        var t = this.parent.nodeSelection.getRange(this.parent.currentDocument),
                            n = 0 === t.startContainer.textContent.length || "PRE" === t.startContainer.nodeName ? t.startContainer : t.startContainer.parentElement,
                            i = 0 === t.endContainer.textContent.length || "PRE" === t.endContainer.nodeName ? t.endContainer : t.endContainer.parentElement,
                            r = D(n, "pre"),
                            o = D(i, "pre");
                        if (!h(r) && !h(r.parentElement) && "LI" === r.parentElement.tagName) return;
                        if ((h(r) && !h(o) || !h(r) && h(o)) && (e.event.preventDefault(), this.deleteContent(t), this.removeCodeContent(t), t = this.parent.nodeSelection.getRange(this.parent.currentDocument), this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, i, 0)), 13 === e.event.which && !h(r) && !h(o)) {
                            e.event.preventDefault(), this.deleteContent(t), this.removeCodeContent(t);
                            var a = (t = this.parent.nodeSelection.getRange(this.parent.currentDocument)).startContainer.childNodes[t.endOffset],
                                s = t.startContainer.childNodes[t.endOffset - 1],
                                l = t.startContainer;
                            if (h(a) || h(s) || !h(a.nextSibling) || "BR" !== a.nodeName || "BR" !== s.nodeName)
                                if (8203 === l.textContent.charCodeAt(0) && 1 === l.textContent.length || 0 === l.textContent.length) {
                                    for (;
                                        "PRE" !== l.parentElement.nodeName && (1 === l.textContent.length || 0 === l.textContent.length);) l = l.parentElement;
                                    !h(l.previousSibling) && "BR" === l.previousSibling.nodeName && h(l.nextSibling) ? this.paraFocus(l.parentElement) : this.isNotEndCursor(r, t)
                                } else this.isNotEndCursor(r, t);
                            else this.paraFocus(t.startContainer)
                        }
                    }
                }, e.prototype.removeCodeContent = function(e) {
                    var t = new RegExp(String.fromCharCode(65279), "g");
                    if (!h(e.endContainer.textContent.match(t))) {
                        var n = 65279 === e.endContainer.textContent.charCodeAt(e.endOffset - 1) ? e.endOffset - 2 : e.endOffset;
                        e.endContainer.textContent = e.endContainer.textContent.replace(t, ""), "" === e.endContainer.textContent ? this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, e.endContainer.parentElement, 0) : this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, e.endContainer, n)
                    }
                }, e.prototype.deleteContent = function(e) {
                    e.startContainer === e.endContainer && e.startOffset === e.endOffset || e.deleteContents()
                }, e.prototype.paraFocus = function(e) {
                    var t = b("p");
                    t.innerHTML = "<br>", this.parent.domNode.insertAfter(t, e), this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, t, 0)
                }, e.prototype.isNotEndCursor = function(e, t) {
                    var n = new Nn,
                        i = t.startOffset === e.lastChild.textContent.length && e.lastChild.textContent === t.startContainer.textContent;
                    if (0 === e.textContent.indexOf(t.startContainer.textContent) && (0 === t.startOffset && 0 === t.endOffset || "PRE" === t.startContainer.nodeName)) {
                        this.insertMarker(e, t);
                        var r = b("br");
                        e.childNodes[t.endOffset].parentElement.insertBefore(r, e.childNodes[t.endOffset])
                    } else {
                        var o = n.SplitNode(t, e, !0);
                        this.insertMarker(e, t);
                        var a = e.previousElementSibling;
                        "PRE" === a.tagName && (a.insertAdjacentHTML("beforeend", "<br>" + o.innerHTML), T(e))
                    }
                    this.setCursorPosition(i, e)
                }, e.prototype.setCursorPosition = function(e, t) {
                    var n = !1,
                        i = this.parent.editableElement.querySelector(".tempSpan"),
                        r = i.parentElement;
                    if ("" === i.parentNode.textContent ? n = !0 : this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, i, 0), e)
                        if (n) r === t ? (this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, i, 0), T(i)) : this.focusSelectionParent(i, r);
                        else {
                            var o = b("br");
                            this.parent.domNode.insertAfter(o, i), this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, i, 0), T(i)
                        } else n ? this.focusSelectionParent(i, r) : T(i)
                }, e.prototype.focusSelectionParent = function(e, t) {
                    T(e), t.innerHTML = "​", this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument, t, 0)
                }, e.prototype.insertMarker = function(e, t) {
                    var n = b("span", {
                        className: "tempSpan"
                    });
                    "PRE" === t.startContainer.nodeName ? e.childNodes[t.endOffset].parentElement.insertBefore(n, e.childNodes[t.endOffset]) : t.startContainer.parentElement.insertBefore(n, t.startContainer)
                }, e.prototype.applyFormats = function(e) {
                    var t = this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        n = !1;
                    this.parent.editableElement !== t.endContainer || h(this.parent.editableElement.children[t.endOffset - 1]) || "TABLE" !== this.parent.editableElement.children[t.endOffset - 1].tagName || (n = !0);
                    var i = this.parent.nodeSelection.save(t, this.parent.currentDocument);
                    this.parent.domNode.setMarker(i);
                    for (var r = this.parent.domNode.blockNodes(), o = 0; o < r.length; o++) {
                        var a = void 0,
                            s = void 0;
                        if ("blockquote" === e.subCommand.toLowerCase() ? (a = this.getParentNode(r[o]), s = this.parent.domNode.isList(a) || "TABLE" === a.tagName ? a.outerHTML : a.innerHTML) : s = (a = r[o]).innerHTML, !(e.subCommand.toLowerCase() === a.tagName.toLowerCase() && ("pre" !== e.subCommand.toLowerCase() || !h(e.exeValue) && "dropDownSelect" === e.exeValue.name) || h(a.parentNode) || "LI" === a.tagName && "pre" !== e.subCommand.toLowerCase() || "TABLE" === a.tagName && "pre" === e.subCommand.toLowerCase())) {
                            this.cleanFormats(a, e.subCommand);
                            var l = "pre" === e.subCommand.toLowerCase() && "pre" === a.tagName.toLowerCase() ? "p" : e.subCommand,
                                d = this.parent.domNode.createTagString(l, a, s.replace(/>\s+</g, "><"));
                            "LI" === a.tagName ? (a.innerHTML = "", a.insertAdjacentHTML("beforeend", d)) : this.parent.domNode.replaceWith(a, d)
                        }
                    }
                    this.preFormatMerge();
                    var c = this.parent.editableElement.querySelector("." + mn),
                        p = this.parent.editableElement.querySelector("." + fn);
                    h(c) || h(p) || (c = c.lastChild, p = p.lastChild), i = this.parent.domNode.saveMarker(i, null), yn() && vn(this.parent.editableElement, e.selector), n ? this.parent.nodeSelection.setSelectionText(this.parent.currentDocument, c, p, 0, p.textContent.length) : i.restore(), e.callBack && e.callBack({
                        requestType: e.subCommand,
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.domNode.blockNodes()
                    })
                }, e.prototype.preFormatMerge = function() {
                    var e = this.parent.editableElement.querySelectorAll("PRE");
                    if (!h(e))
                        for (var t = 0; t < e.length; t++) {
                            var n = e[t].previousElementSibling;
                            h(n) || "PRE" !== n.tagName || (n.insertAdjacentHTML("beforeend", "<br>" + e[t].innerHTML), T(e[t]))
                        }
                }, e.prototype.cleanFormats = function(e, t) {
                    var n = ["display", "font-size", "margin-top", "margin-bottom", "margin-left", "margin-right", "font-weight"];
                    t = t.toLowerCase();
                    for (var i = 0; i < n.length && "p" !== t && "blockquote" !== t && "pre" !== t; i++) e.style.removeProperty(n[i])
                }, e
            }(),
            wn = function() {
                function e() {}
                return e.Insert = function(e, t, n, i) {
                    var r, o;
                    "string" == typeof t ? ((o = document.createElement("div")).innerHTML = t, r = i ? o : o.firstChild) : i && (h(t) || h(t.classList) || !t.classList.contains("pasteContent")) ? ((o = document.createElement("div")).appendChild(t), r = o) : r = t;
                    var a = new hn,
                        s = new Nn,
                        l = a.getRange(e),
                        d = l.startOffset === l.endOffset && 0 === l.startOffset && l.startContainer === l.endContainer,
                        c = l.collapsed,
                        p = a.getInsertNodeCollection(l),
                        u = "table" === r.nodeName.toLowerCase() ? this.closestEle(p[0].parentNode, n) : p[0];
                    if (i || !h(r) && !h(r.classList) && r.classList.contains("pasteContent")) this.pasteInsertHTML(p, r, l, a, s, e, c, u, n);
                    else if (n !== l.startContainer && (!c && (u.nodeType !== Node.ELEMENT_NODE || -1 === cn.indexOf(u.tagName.toLocaleLowerCase())) || "table" === r.nodeName.toLowerCase() && u && -1 === cn.indexOf(u.tagName.toLocaleLowerCase()))) {
                        var m = s.GetSpliceNode(l, u),
                            f = m.previousSibling,
                            g = m.parentNode;
                        if (1 === p.length) a.setSelectionContents(e, m), l = a.getRange(e);
                        else {
                            var y = s.GetSpliceNode(l, p[p.length - 1].parentElement);
                            y = h(y) ? m : y, a.setSelectionText(e, m, y, 0, 3 === y.nodeType ? y.textContent.length : y.childNodes.length), l = a.getRange(e)
                        }
                        l.extractContents(), "TABLE" === t.tagName && this.removeEmptyElements(n);
                        for (var v = 0; v < p.length; v++)
                            if (3 !== p[v].nodeType && null != p[v].parentNode) {
                                if ("IMG" === p[v].nodeName) continue;
                                p[v].parentNode.removeChild(p[v])
                            }
                        if (f) Cn.AppendBefore(r, f, !0);
                        else {
                            for (var b = null; g !== n && g.firstChild && "" === g.textContent.trim();) {
                                b = g, g = g.parentNode
                            }
                            null !== b && (g = b), g.firstChild && (g !== n || "TABLE" === r.nodeName && d && g === l.startContainer && g === l.endContainer) ? "" === g.textContent.trim() && g !== n ? (Cn.AppendBefore(r, g, !1), T(g)) : Cn.AppendBefore(r, g.firstChild, !1) : g.appendChild(r)
                        }
                        3 !== r.nodeType ? a.setSelectionText(e, r, r, 0, r.childNodes.length) : a.setSelectionText(e, r, r, 0, r.textContent.length)
                    } else {
                        if (l.deleteContents(), q.isIE) {
                            var C = e.createDocumentFragment();
                            C.appendChild(r), l.insertNode(C)
                        } else l.insertNode(r);
                        3 !== r.nodeType && r.childNodes.length > 0 ? a.setSelectionText(e, r, r, 1, 1) : 3 !== r.nodeType ? a.setSelectionContents(e, r) : a.setSelectionText(e, r, r, r.textContent.length, r.textContent.length)
                    }
                }, e.pasteInsertHTML = function(e, t, n, i, r, o, a, s, l) {
                    var d, c, p, u, m = n.startOffset === n.endOffset && n.startContainer === n.endContainer;
                    l !== n.startContainer && (!a && (s.nodeType !== Node.ELEMENT_NODE || -1 === cn.indexOf(s.tagName.toLocaleLowerCase())) || "table" === t.nodeName.toLowerCase() && s && -1 === cn.indexOf(s.tagName.toLocaleLowerCase())) && (c = h((u = r.GetSpliceNode(n, s)).previousSibling) ? u.parentNode.previousSibling : u.previousSibling, 1 === e.length ? (i.setSelectionContents(o, u), n = i.getRange(o), p = !0) : (d = h(d = r.GetSpliceNode(n, e[e.length - 1].parentElement)) ? u : d, i.setSelectionText(o, u, d, 0, 3 === d.nodeType ? d.textContent.length : d.childNodes.length), n = i.getRange(o), p = !1));
                    var f = !1;
                    this.removingComments(t);
                    for (var g, y = t.childNodes, v = 0; v < y.length; v++)
                        if (ln.indexOf(y[v].nodeName.toLocaleLowerCase()) >= 0) {
                            f = !0;
                            break
                        }
                    var C = document.createDocumentFragment();
                    if (f) {
                        var N = this.getImmediateBlockNode(e[e.length - 1], l),
                            E = r.GetSpliceNode(n, N);
                        E.parentNode.replaceChild(t, E);
                        var w = !0,
                            S = void 0,
                            M = void 0,
                            x = void 0;
                        for (n.deleteContents(); t.firstChild;)
                            if ("#text" !== t.firstChild.nodeName || "" !== t.firstChild.textContent.trim())
                                if ("#text" === t.firstChild.nodeName && w || this.inlineNode.indexOf(t.firstChild.nodeName.toLocaleLowerCase()) >= 0 && w) {
                                    if (g = t.firstChild, h(t.previousElementSibling)) {
                                        var L = b("p");
                                        t.parentElement.insertBefore(L, t)
                                    }
                                    t.previousElementSibling.appendChild(t.firstChild)
                                } else g = t.firstChild, "#text" === t.firstChild.nodeName || this.inlineNode.indexOf(t.firstChild.nodeName.toLocaleLowerCase()) >= 0 ? (S ? (x.appendChild(t.firstChild), C.appendChild(x)) : ((M = b("p")).appendChild(t.firstChild), C.appendChild(M)), x = M, S = !0) : (C.appendChild(t.firstChild), S = !1), w = !1;
                        else T(t.firstChild);
                        t.parentNode.replaceChild(C, t)
                    } else if (m) {
                        var k = b("span", {
                            className: "tempSpan"
                        });
                        for (n.insertNode(k); t.firstChild;) g = t.firstChild, C.appendChild(t.firstChild);
                        k.parentNode.replaceChild(C, k)
                    } else {
                        for (; t.firstChild;) g = t.firstChild, C.appendChild(t.firstChild);
                        p ? u.parentNode.replaceChild(C, u) : (n.deleteContents(), T(d), c.parentNode.appendChild(C))
                    }
                    for (g = "BR" === g.nodeName ? g.previousSibling : g; !h(g) && "#text" !== g.nodeName && "IMG" !== g.nodeName && "BR" !== g.nodeName;) g = g.lastChild;
                    g = h(g) ? t : g, i.setSelectionText(o, g, g, g.textContent.length, g.textContent.length), this.removeEmptyElements(l)
                }, e.getImmediateBlockNode = function(e, t) {
                    do {
                        e = e.parentNode
                    } while (ln.indexOf(e.nodeName.toLocaleLowerCase()) < 0);
                    return e
                }, e.removingComments = function(e) {
                    var t = e.innerHTML;
                    t = t.replace(/<!--[\s\S]*?-->/g, ""), e.innerHTML = t
                }, e.findDetachEmptyElem = function(e) {
                    return h(e.parentElement) ? null : "" === e.parentElement.textContent.trim() && "true" !== e.parentElement.contentEditable ? this.findDetachEmptyElem(e.parentElement) : e
                }, e.removeEmptyElements = function(e) {
                    for (var t = e.querySelectorAll(":empty"), n = 0; n < t.length; n++)
                        if ("IMG" !== t[n].tagName && "BR" !== t[n].tagName) {
                            var i = this.findDetachEmptyElem(t[n]);
                            h(i) || T(i)
                        }
                }, e.closestEle = function(e, t) {
                    for (var n = e; n && 1 === n.nodeType;) {
                        if (n.parentNode === t || !h(n.parentNode.tagName) && -1 !== dn.indexOf(n.parentNode.tagName.toLocaleLowerCase())) return n;
                        n = n.parentNode
                    }
                    return null
                }, e.inlineNode = ["a", "abbr", "acronym", "audio", "b", "bdi", "bdo", "big", "br", "button", "canvas", "cite", "code", "data", "datalist", "del", "dfn", "em", "embed", "font", "i", "iframe", "img", "input", "ins", "kbd", "label", "map", "mark", "meter", "noscript", "object", "output", "picture", "progress", "q", "ruby", "s", "samp", "script", "select", "slot", "small", "span", "strong", "sub", "sup", "svg", "template", "textarea", "time", "u", "tt", "var", "video", "wbr"], e
            }(),
            Sn = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("INSERT-LINK", this.linkCommand, this)
                }, e.prototype.linkCommand = function(e) {
                    switch (e.value.toString().toLocaleLowerCase()) {
                        case "createlink":
                        case "editlink":
                            this.createLink(e);
                            break;
                        case "openlink":
                            this.openLink(e);
                            break;
                        case "removelink":
                            this.removeLink(e)
                    }
                }, e.prototype.createLink = function(e) {
                    var t = !h(e.item.selectParent) && e.item.selectParent.length > 0 && D(e.item.selectParent[0], "a");
                    if (t = h(t) ? !h(e.item.selectParent) && e.item.selectParent.length > 0 ? e.item.selectParent[0] : null : t, h(t) || "A" !== t.tagName) {
                        var n = (new hn).getRange(this.parent.currentDocument),
                            i = !!h(e.item.text) || e.item.text.replace(/ /g, "").localeCompare(n.toString().replace(/\n/g, " ").replace(/ /g, "")) < 0;
                        if (e.event && "keydown" === e.event.type && (32 === e.event.keyCode || 13 === e.event.keyCode) || "Paste" === e.item.action || n.collapsed || i) {
                            var r = this.createAchorNode(e);
                            if (r.innerText = "" === e.item.text ? e.item.url : e.item.text, e.item.selection.restore(), wn.Insert(this.parent.currentDocument, r, this.parent.editableElement), !e.event || "keydown" !== e.event.type || 32 !== e.event.keyCode && 13 !== e.event.keyCode) {
                                l = "Paste" === e.item.action ? r.childNodes[0].textContent.length : 0;
                                e.item.selection.setSelectionText(this.parent.currentDocument, r.childNodes[0], r.childNodes[0], l, r.childNodes[0].textContent.length)
                            } else {
                                var o = e.item.selection.range.startContainer;
                                o.textContent = this.removeText(o.textContent, e.item.text)
                            }
                        } else this.createLinkNode(e)
                    } else {
                        var a = t,
                            s = "";
                        if (h(e.item.url) || a.setAttribute("href", e.item.url), h(e.item.title) || a.setAttribute("title", e.item.title), h(e.item.text) || (s = a.innerText, a.innerText = e.item.text), h(e.item.target) ? a.removeAttribute("target") : a.setAttribute("target", e.item.target), s === e.item.text) e.item.selection.setSelectionText(this.parent.currentDocument, a, a, 1, 1), e.item.selection.restore();
                        else {
                            var l = "Paste" === e.item.action ? a.childNodes[0].textContent.length : 0;
                            e.item.selection.setSelectionText(this.parent.currentDocument, a.childNodes[0], a.childNodes[0], l, a.childNodes[0].textContent.length)
                        }
                    }
                    e.callBack && e.callBack({
                        requestType: "Links",
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    })
                }, e.prototype.createLinkNode = function(e) {
                    for (var t, n, i = new hn, r = new Nn, o = i.getRange(this.parent.currentDocument), a = this.getSelectionNodes(i.getNodeCollection(o)), s = i.save(o, this.parent.currentDocument), l = [], d = [], c = [], h = [], p = [], u = 0; u < a.length; u++) a[u] = r.GetSpliceNode(o, a[u]), l[u] = a[u];
                    for (var m = 0; m < l.length; m++) {
                        var f = !0;
                        for (t = l[m]; !0 === f;) {
                            if ("A" === t.parentElement.nodeName) {
                                var g = t.parentElement;
                                t.parentElement.parentElement.insertBefore(g.firstChild, g), t.parentElement.removeChild(g)
                            }
                            this.isBlockNode(t.parentElement) || 0 === l.length || 0 === m || m === l.length - 1 ? (d[m] = t, f = !1) : t = t.parentElement
                        }
                    }
                    m = 0;
                    for (var y = 0; m < d.length; m++)
                        if (0 === m && (p[y] = d[m]), d.length > 1 && m < d.length - 1) {
                            if (d[m].parentElement === d[m + 1].parentElement && d[m] === d[m + 1]) continue;
                            p[y + 1] = d[m + 1], y++
                        }
                    var v = 0;
                    h[v] = this.createAchorNode(e);
                    for (m = 0; m < p.length; m++)
                        if (0 === m && (n = p[m].cloneNode(!0), h[m].appendChild(n)), m < p.length - 1)
                            if (p[m].parentNode === p[m + 1].parentNode) {
                                var b = p[m + 1].cloneNode(!0);
                                h[v].appendChild(b)
                            } else h[v += 1] = this.createAchorNode(e), n = p[m + 1].cloneNode(!0), h[v].appendChild(n);
                    this.parent.nodeSelection.setRange(document, s.range);
                    m = 0;
                    for (var C = 0, N = 0; m <= p.length; m++) 0 === m && (p[m].parentNode.insertBefore(h[C], p[m].nextSibling), 1 === this.parent.domNode.blockNodes().length && this.parent.nodeSelection.setSelectionNode(this.parent.currentDocument, h[C]), c[N] = p[m], N++), m < p.length - 1 && (p[m].parentNode === p[m + 1].parentNode ? (c[N] = p[m + 1], N++) : (C += 1, p[m + 1].parentNode.insertBefore(h[C], p[m + 1]), c[N] = p[m + 1], N++));
                    for (m = 0; m < c.length; m++) c[m].parentNode && c[m].parentNode.removeChild(c[m])
                }, e.prototype.createAchorNode = function(e) {
                    var t = b("a", {
                        className: "e-rte-anchor",
                        attrs: {
                            href: e.item.url,
                            title: h(e.item.title) || "" === e.item.title ? e.item.url : e.item.title
                        }
                    });
                    return h(e.item.target) || t.setAttribute("target", e.item.target), t
                }, e.prototype.getSelectionNodes = function(e) {
                    e = e.reverse();
                    for (var t = 0; t < e.length; t++) 3 === e[t].nodeType && "" !== e[t].textContent.trim() || "IMG" !== e[t].nodeName && (e.splice(t, 1), t--);
                    return e.reverse()
                }, e.prototype.isBlockNode = function(e) {
                    return !!e && e.nodeType === Node.ELEMENT_NODE && ln.indexOf(e.tagName.toLowerCase()) >= 0
                }, e.prototype.removeText = function(e, t) {
                    for (var n = e.split(" "), i = 0; i < n.length; i++) n[i] === t && (n.splice(i, 1), i--);
                    return n.join(" ") + " "
                }, e.prototype.openLink = function(e) {
                    document.defaultView.open(e.item.url, e.item.target), this.callBack(e)
                }, e.prototype.removeLink = function(e) {
                    var t = this.parent.domNode.blockNodes();
                    if (t.length < 2) {
                        this.parent.domNode.setMarker(e.item.selection);
                        for (var n = D(e.item.selectParent[0], "a"), i = n || e.item.selectParent[0], r = i.parentNode, o = []; i.firstChild; null) o.push(r.insertBefore(i.firstChild, i));
                        r.removeChild(i), o && 1 === o.length && (e.item.selection.startContainer = e.item.selection.getNodeArray(o[o.length - 1], !0), e.item.selection.endContainer = e.item.selection.startContainer), e.item.selection = this.parent.domNode.saveMarker(e.item.selection)
                    } else
                        for (var a = 0; a < t.length; a++)
                            for (var s = t[a].querySelectorAll("a"), l = 0; l < s.length; l++) document.getSelection().containsNode(s[l], !0) && (s[l].outerHTML = s[l].innerHTML);
                    e.item.selection.restore(), this.callBack(e)
                }, e.prototype.callBack = function(e) {
                    e.callBack && e.callBack({
                        requestType: e.item.subCommand,
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    })
                }, e
            }(),
            Mn = function() {
                function e(e) {
                    this.alignments = {
                        JustifyLeft: "left",
                        JustifyCenter: "center",
                        JustifyRight: "right",
                        JustifyFull: "justify"
                    }, this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("alignment-type", this.applyAlignment, this), this.parent.observer.on("keydown-handler", this.onKeyDown, this)
                }, e.prototype.onKeyDown = function(e) {
                    switch (e.event.action) {
                        case "justify-center":
                            this.applyAlignment({
                                subCommand: "JustifyCenter",
                                callBack: e.callBack
                            }), e.event.preventDefault();
                            break;
                        case "justify-full":
                            this.applyAlignment({
                                subCommand: "JustifyFull",
                                callBack: e.callBack
                            }), e.event.preventDefault();
                            break;
                        case "justify-left":
                            this.applyAlignment({
                                subCommand: "JustifyLeft",
                                callBack: e.callBack
                            }), e.event.preventDefault();
                            break;
                        case "justify-right":
                            this.applyAlignment({
                                subCommand: "JustifyRight",
                                callBack: e.callBack
                            }), e.event.preventDefault()
                    }
                }, e.prototype.getTableNode = function(e) {
                    return [D(e.startContainer.nodeType === Node.ELEMENT_NODE ? e.startContainer : e.startContainer.parentNode, "td,th")]
                }, e.prototype.applyAlignment = function(e) {
                    var t = "Table" === e.value,
                        n = this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        i = this.parent.nodeSelection.save(n, this.parent.currentDocument);
                    if (t) O(this.getTableNode(n)[0], {
                        "text-align": this.alignments[e.subCommand]
                    });
                    else {
                        this.parent.domNode.setMarker(i);
                        for (var r = this.parent.domNode.blockNodes(), o = 0; o < r.length; o++) {
                            O(r[o], {
                                "text-align": this.alignments[e.subCommand]
                            })
                        }
                        var a = this.parent.domNode.getImageTagInSelection();
                        for (o = 0; o < a.length; o++) {
                            var s = [];
                            s.push(a[o]), this.parent.imgObj.imageCommand({
                                item: {
                                    selectNode: s
                                },
                                subCommand: e.subCommand,
                                value: e.subCommand,
                                callBack: e.callBack,
                                selector: e.selector
                            })
                        }
                        this.parent.editableElement.focus(), i = this.parent.domNode.saveMarker(i), yn() && vn(this.parent.editableElement, e.selector), i.restore()
                    }
                    e.callBack && e.callBack({
                        requestType: e.subCommand,
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: t ? this.getTableNode(n) : this.parent.domNode.blockNodes()
                    })
                }, e
            }(),
            Tn = function() {
                function e(e) {
                    this.indentValue = 20, this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("indent-type", this.applyIndents, this), this.parent.observer.on("keydown-handler", this.onKeyDown, this)
                }, e.prototype.onKeyDown = function(e) {
                    switch (e.event.action) {
                        case "indents":
                            this.applyIndents({
                                subCommand: "Indent",
                                callBack: e.callBack
                            }), e.event.preventDefault();
                            break;
                        case "outdents":
                            this.applyIndents({
                                subCommand: "Outdent",
                                callBack: e.callBack
                            }), e.event.preventDefault()
                    }
                }, e.prototype.applyIndents = function(e) {
                    var t = this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        n = this.parent.nodeSelection.save(t, this.parent.currentDocument);
                    this.parent.domNode.setMarker(n);
                    for (var i = this.parent.domNode.blockNodes(), r = i.slice(), o = [], a = 0; a < r.length; a++) "LI" !== r[a].tagName && "LI" === r[a].parentNode.tagName ? (i.splice(i.indexOf(r[a]), 1), o.push(r[a].parentNode)) : "LI" === r[a].tagName && (i.splice(i.indexOf(r[a]), 1), o.push(r[a]));
                    o.length > 0 && this.parent.observer.notify("keydown-handler", {
                        event: {
                            preventDefault: function() {},
                            stopPropagation: function() {},
                            shiftKey: "Indent" !== e.subCommand,
                            which: 9,
                            action: "indent"
                        },
                        ignoreDefault: !0
                    });
                    for (a = 0; a < i.length; a++) {
                        var s = i[a],
                            l = s.style.marginLeft,
                            d = void 0;
                        "Indent" === e.subCommand ? (d = "" === l ? this.indentValue + "px" : parseInt(l, null) + this.indentValue + "px", s.style.marginLeft = d) : (d = "" === l || "0px" === l ? "" : parseInt(l, null) - this.indentValue + "px", s.style.marginLeft = d)
                    }
                    this.parent.editableElement.focus(), yn() && vn(this.parent.editableElement, e.selector), (n = this.parent.domNode.saveMarker(n)).restore(), e.callBack && e.callBack({
                        requestType: e.subCommand,
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.domNode.blockNodes()
                    })
                }, e
            }(),
            xn = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("INSERT-IMAGE", this.imageCommand, this)
                }, e.prototype.imageCommand = function(e) {
                    switch (e.value.toString().toLocaleLowerCase()) {
                        case "image":
                        case "replace":
                            this.createImage(e);
                            break;
                        case "insertlink":
                            this.insertImageLink(e);
                            break;
                        case "openimagelink":
                            this.openImageLink(e);
                            break;
                        case "editimagelink":
                            this.editImageLink(e);
                            break;
                        case "removeimagelink":
                            this.removeImageLink(e);
                            break;
                        case "remove":
                            this.removeImage(e);
                            break;
                        case "alttext":
                            this.insertAltTextImage(e);
                            break;
                        case "dimension":
                            this.imageDimension(e);
                            break;
                        case "caption":
                            this.imageCaption(e);
                            break;
                        case "justifyleft":
                            this.imageJustifyLeft(e);
                            break;
                        case "justifycenter":
                            this.imageJustifyCenter(e);
                            break;
                        case "justifyright":
                            this.imageJustifyRight(e);
                            break;
                        case "inline":
                            this.imageInline(e);
                            break;
                        case "break":
                            this.imageBreak(e)
                    }
                }, e.prototype.createImage = function(e) {
                    if (e.item.url = h(e.item.url) || "undefined" === e.item.url ? e.item.src : e.item.url, h(e.item.selectParent) || "IMG" !== e.item.selectParent[0].tagName) {
                        var t = b("img");
                        this.setStyle(t, e), h(e.item.selection) || e.item.selection.restore(), h(e.selector) || "pasteCleanupModule" !== e.selector ? wn.Insert(this.parent.currentDocument, t, this.parent.editableElement) : e.callBack({
                            requestType: "Image",
                            editorMode: "HTML",
                            event: e.event,
                            range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                            elements: [t]
                        })
                    } else {
                        var n = e.item.selectParent[0];
                        this.setStyle(n, e)
                    }
                    e.callBack && (h(e.selector) || !h(e.selector) && "pasteCleanupModule" !== e.selector) && e.callBack({
                        requestType: "Image",
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    })
                }, e.prototype.setStyle = function(e, t) {
                    h(t.item.url) || e.setAttribute("src", t.item.url), e.setAttribute("class", "e-rte-image" + (h(t.item.cssClass) ? "" : " " + t.item.cssClass)), h(t.item.altText) || e.setAttribute("alt", t.item.altText), h(t.item.width) || h(t.item.width.width) || e.setAttribute("width", this.calculateStyleValue(t.item.width.width)), h(t.item.height) || h(t.item.height.height) || e.setAttribute("height", this.calculateStyleValue(t.item.height.height)), h(t.item.width) || h(t.item.width.minWidth) || (e.style.minWidth = this.calculateStyleValue(t.item.width.minWidth)), h(t.item.width) || h(t.item.width.maxWidth) || (e.style.maxWidth = this.calculateStyleValue(t.item.width.maxWidth)), h(t.item.height) || h(t.item.height.minHeight) || (e.style.minHeight = this.calculateStyleValue(t.item.height.minHeight)), h(t.item.height) || h(t.item.height.maxHeight) || (e.style.maxHeight = this.calculateStyleValue(t.item.height.maxHeight))
                }, e.prototype.calculateStyleValue = function(e) {
                    return "string" == typeof e && (e.indexOf("px") || e.indexOf("%") || e.indexOf("auto")) ? e : e + "px"
                }, e.prototype.insertImageLink = function(e) {
                    var t = b("a", {
                        attrs: {
                            href: e.item.url
                        }
                    });
                    e.item.selectNode[0].parentElement.classList.contains("e-img-wrap") && (e.item.selection.restore(), t.setAttribute("contenteditable", "true")), t.appendChild(e.item.selectNode[0]), h(e.item.target) || t.setAttribute("target", e.item.target), wn.Insert(this.parent.currentDocument, t, this.parent.editableElement), this.callBack(e)
                }, e.prototype.openImageLink = function(e) {
                    document.defaultView.open(e.item.url, e.item.target), this.callBack(e)
                }, e.prototype.removeImageLink = function(e) {
                    var t = e.item.selectParent[0];
                    if (t.classList.contains("e-img-caption")) {
                        var n = L(".e-img-wrap", t),
                            i = L(".e-img-inner", t),
                            r = i.cloneNode(!0);
                        T(L("a", t)), T(i), n.appendChild(e.item.insertElement), n.appendChild(r)
                    } else T(t), q.isIE && e.item.selection.restore(), wn.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);
                    this.callBack(e)
                }, e.prototype.editImageLink = function(e) {
                    e.item.selectNode[0].parentElement.href = e.item.url, h(e.item.target) ? e.item.selectNode[0].parentElement.removeAttribute("target") : e.item.selectNode[0].parentElement.target = e.item.target, this.callBack(e)
                }, e.prototype.removeImage = function(e) {
                    D(e.item.selectNode[0], "a") ? "A" !== e.item.selectNode[0].parentElement.nodeName || h(e.item.selectNode[0].parentElement.innerText) ? T(D(e.item.selectNode[0], "a")) : T(e.item.selectNode[0]) : h(D(e.item.selectNode[0], ".e-img-caption")) ? T(e.item.selectNode[0]) : T(D(e.item.selectNode[0], ".e-img-caption")), this.callBack(e)
                }, e.prototype.insertAltTextImage = function(e) {
                    e.item.selectNode[0].setAttribute("alt", e.item.altText), this.callBack(e)
                }, e.prototype.imageDimension = function(e) {
                    var t = e.item.selectNode[0];
                    t.style.height = "", t.style.width = "", t.width = e.item.width, t.height = e.item.height, this.callBack(e)
                }, e.prototype.imageCaption = function(e) {
                    wn.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement), this.callBack(e)
                }, e.prototype.imageJustifyLeft = function(e) {
                    var t = e.item.selectNode[0];
                    t.removeAttribute("class"), C([t], "e-rte-image"), h(D(t, ".e-img-caption")) || (N([D(t, ".e-img-caption")], "e-imgright"), C([D(t, ".e-img-caption")], "e-imgleft")), "A" === t.parentElement.nodeName ? (N([t.parentElement], "e-imgright"), C([t.parentElement], "e-imgleft")) : C([t], "e-imgleft"), this.callBack(e)
                }, e.prototype.imageJustifyCenter = function(e) {
                    var t = e.item.selectNode[0];
                    t.removeAttribute("class"), C([t], "e-rte-image"), h(D(t, ".e-img-caption")) || (N([D(t, ".e-img-caption")], "e-imgleft"), N([D(t, ".e-img-caption")], "e-imgright"), C([D(t, ".e-img-caption")], "e-imgcenter")), "A" === t.parentElement.nodeName ? (N([t.parentElement], "e-imgleft"), N([t.parentElement], "e-imgright"), C([t.parentElement], "e-imgcenter"), C([t], "e-imgcenter")) : C([t], "e-imgcenter"), this.callBack(e)
                }, e.prototype.imageJustifyRight = function(e) {
                    var t = e.item.selectNode[0];
                    t.removeAttribute("class"), C([t], "e-rte-image"), h(D(t, ".e-img-caption")) || (N([D(t, ".e-img-caption")], "e-imgleft"), C([D(t, ".e-img-caption")], "e-imgright")), "A" === t.parentElement.nodeName ? (N([t.parentElement], "e-imgleft"), C([t.parentElement], "e-imgright")) : C([t], "e-imgright"), this.callBack(e)
                }, e.prototype.imageInline = function(e) {
                    var t = e.item.selectNode[0];
                    t.removeAttribute("class"), C([t], "e-rte-image"), C([t], "e-imginline"), h(D(t, ".e-img-caption")) || (N([D(t, ".e-img-caption")], "e-imgbreak"), N([D(t, ".e-img-caption")], "e-imgcenter"), N([D(t, ".e-img-caption")], "e-imgleft"), N([D(t, ".e-img-caption")], "e-imgright"), C([D(t, ".e-img-caption")], "e-caption-inline")), this.callBack(e)
                }, e.prototype.imageBreak = function(e) {
                    var t = e.item.selectNode[0];
                    t.removeAttribute("class"), C([t], "e-imgbreak"), C([t], "e-rte-image"), h(D(t, ".e-img-caption")) || (N([D(t, ".e-img-caption")], "e-caption-inline"), N([D(t, ".e-img-caption")], "e-imgcenter"), N([D(t, ".e-img-caption")], "e-imgleft"), N([D(t, ".e-img-caption")], "e-imgright"), C([D(t, ".e-img-caption")], "e-imgbreak")), this.callBack(e)
                }, e.prototype.callBack = function(e) {
                    e.callBack && e.callBack({
                        requestType: e.item.subCommand,
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    })
                }, e
            }(),
            Ln = function() {
                function e() {}
                return e.prototype.getFormattedNode = function(e, t, n) {
                    var i = this.getFormatParent(e, t, n);
                    return null !== i && i !== n ? i : null
                }, e.prototype.getFormatParent = function(e, t, n) {
                    do {
                        e = e.parentNode
                    } while (e && e !== n && !this.isFormattedNode(e, t));
                    return e
                }, e.prototype.isFormattedNode = function(t, n) {
                    switch (n) {
                        case "bold":
                            return e.isBold(t);
                        case "italic":
                            return e.isItalic(t);
                        case "underline":
                            return e.isUnderline(t);
                        case "strikethrough":
                            return e.isStrikethrough(t);
                        case "superscript":
                            return e.isSuperscript(t);
                        case "subscript":
                            return e.isSubscript(t);
                        case "fontcolor":
                            return this.isFontColor(t);
                        case "fontname":
                            return this.isFontName(t);
                        case "fontsize":
                            return this.isFontSize(t);
                        case "backgroundcolor":
                            return this.isBackgroundColor(t);
                        default:
                            return !1
                    }
                }, e.isBold = function(e) {
                    return -1 !== ["strong", "b"].indexOf(e.nodeName.toLowerCase()) || !(-1 === this.inlineTags.indexOf(e.nodeName.toLowerCase()) || !e.style || "bold" !== e.style.fontWeight)
                }, e.isItalic = function(e) {
                    return -1 !== ["em", "i"].indexOf(e.nodeName.toLowerCase()) || !(-1 === this.inlineTags.indexOf(e.nodeName.toLowerCase()) || !e.style || "italic" !== e.style.fontStyle)
                }, e.isUnderline = function(e) {
                    return -1 !== ["u"].indexOf(e.nodeName.toLowerCase()) || !(-1 === this.inlineTags.indexOf(e.nodeName.toLowerCase()) || !e.style || "underline" !== e.style.textDecoration)
                }, e.isStrikethrough = function(e) {
                    return -1 !== ["del", "strike"].indexOf(e.nodeName.toLowerCase()) || !(-1 === this.inlineTags.indexOf(e.nodeName.toLowerCase()) || !e.style || "line-through" !== e.style.textDecoration)
                }, e.isSuperscript = function(e) {
                    return -1 !== ["sup"].indexOf(e.nodeName.toLowerCase())
                }, e.isSubscript = function(e) {
                    return -1 !== ["sub"].indexOf(e.nodeName.toLowerCase())
                }, e.prototype.isFontColor = function(t) {
                    var n = t.style && t.style.color;
                    return -1 !== e.inlineTags.indexOf(t.nodeName.toLowerCase()) && null !== n && "" !== n && void 0 !== n
                }, e.prototype.isBackgroundColor = function(t) {
                    var n = t.style && t.style.backgroundColor;
                    return -1 !== e.inlineTags.indexOf(t.nodeName.toLowerCase()) && null !== n && "" !== n && void 0 !== n
                }, e.prototype.isFontSize = function(t) {
                    var n = t.style && t.style.fontSize;
                    return -1 !== e.inlineTags.indexOf(t.nodeName.toLowerCase()) && null !== n && "" !== n && void 0 !== n
                }, e.prototype.isFontName = function(t) {
                    var n = t.style && t.style.fontFamily;
                    return -1 !== e.inlineTags.indexOf(t.nodeName.toLowerCase()) && null !== n && "" !== n && void 0 !== n
                }, e.inlineTags = ["a", "abbr", "acronym", "b", "bdo", "big", "cite", "code", "dfn", "em", "i", "kbd", "label", "q", "samp", "small", "span", "strong", "sub", "sup", "tt", "u", "var"], e
            }(),
            kn = function() {
                function e() {}
                return e.applyFormat = function(e, t, n, i, r) {
                    if (["bold", "italic", "underline", "strikethrough", "superscript", "subscript", "uppercase", "lowercase", "fontcolor", "fontname", "fontsize", "backgroundcolor"].indexOf(t) > -1) {
                        var o, a = new hn,
                            s = new Nn,
                            l = new Ln,
                            d = a.getRange(e),
                            c = a.save(d, e),
                            h = a.getSelectionNodeCollection(d),
                            p = !1,
                            u = !1,
                            m = ["fontcolor", "fontname", "fontsize", "backgroundcolor"].indexOf(t) > -1;
                        if (d.collapsed)
                            if (h.length > 0) p = !0, d = s.GetCursorRange(e, d, h[0]);
                            else if ("td" !== d.startContainer.nodeName.toLowerCase()) {
                            var f = this.insertCursorNode(e, a, d, l, s, t, i, n);
                            a.endContainer = a.startContainer = a.getNodeArray(f, !0), a.endOffset = a.startOffset = 1
                        }
                        o = d.collapsed;
                        for (var g = 0; g < h.length; g++) {
                            var y = l.getFormattedNode(h[g], t, n);
                            0 === g && null === y && (u = !0), h[g] = null === y || u && !m ? this.insertFormat(e, h, g, y, o, u, m, d, s, t, i) : this.removeFormat(h, g, y, o, u, m, d, s, t, i, a), a = this.applySelection(h, a, s, g, p)
                        }
                        yn() && vn(n, r), c.restore()
                    }
                }, e.insertCursorNode = function(e, t, n, i, r, o, a, s) {
                    var l = t.getNodeCollection(n),
                        d = l.length > 0 ? i.getFormattedNode(l[0], o, s) : null,
                        c = null;
                    return d ? (c = l[0], Cn.unwrap(d), l[0] = Cn.Wrap(l[0], this.GetFormatNode(o, a))) : c = this.getInsertNode(e, n, o, a).firstChild, c
                }, e.removeFormat = function(e, t, n, i, r, o, a, s, l, d, c) {
                    var p = null;
                    if (a.startContainer !== a.endContainer || 0 !== a.startOffset || a.endOffset !== a.startContainer.length) {
                        var u = [],
                            m = e[t];
                        do {
                            u.push(c.getIndex(m)), m = m.parentNode
                        } while (m && m !== n);
                        if (m = p = i && n.textContent.length - 1 === a.startOffset ? s.SplitNode(a, n, !0) : s.GetSpliceNode(a, n), i) {
                            for (var f = p; null !== f.firstChild && 3 !== f.firstChild.nodeType; null) f = f.firstChild;
                            f.innerHTML = "&#8203;", e[t] = f.firstChild
                        } else {
                            for (; m && m.childNodes.length > 0 && u.length - 1 >= 0 && m.childNodes.length > u[u.length - 1];) m = m.childNodes[u[u.length - 1]], u.pop();
                            if (3 !== m.nodeType || i && "" === m.nodeValue) {
                                var g = document.createElement("div");
                                g.innerHTML = "&#8203;", 3 !== m.nodeType ? (m.insertBefore(g.firstChild, m.firstChild), e[t] = m.firstChild) : (m.parentNode.insertBefore(g.firstChild, m), e[t] = m.previousSibling, m.parentNode.removeChild(m))
                            } else e[t] = m
                        }
                    }
                    var y = Cn.unwrap(n);
                    if (y.length > 0 && o) {
                        for (var v = 0; v < y.length; v++) y[v] = Cn.Wrap(y[v], this.GetFormatNode(l, d));
                        if ("fontsize" === l) {
                            for (var b = e[t].parentElement, C = e[t].parentElement; !h(C) && "li" !== C.tagName.toLowerCase();) b = C = C.parentElement;
                            h(b) || "li" !== b.tagName.toLowerCase() || b.textContent.trim() !== e[t].textContent.trim() || (b.style.fontSize = d)
                        }
                    }
                    return e[t]
                }, e.insertFormat = function(e, t, n, i, r, o, a, s, l, d, c) {
                    if (r)
                        if ("uppercase" !== d && "lowercase" !== d) {
                            p = this.getInsertNode(e, s, d, c);
                            t[n] = p.firstChild, l.position = 1
                        } else l.position = s.startOffset;
                    else if (null === i && o || a) {
                        if (t[n] = l.GetSpliceNode(s, t[n]), t[n].textContent = l.TrimLineBreak(t[n].textContent), "uppercase" === d || "lowercase" === d) t[n].textContent = "uppercase" === d ? t[n].textContent.toLocaleUpperCase() : t[n].textContent.toLocaleLowerCase();
                        else if (!0 !== a || "" !== c) {
                            var p = this.GetFormatNode(d, c);
                            if ("fontsize" === d) {
                                for (var u = t[n].parentElement, m = t[n].parentElement; !h(m) && "li" !== m.tagName.toLowerCase();) u = m = m.parentElement;
                                h(u) || "li" !== u.tagName.toLowerCase() || u.textContent.trim() !== t[n].textContent.trim() || (u.style.fontSize = c), t[n] = this.applyStyles(t, n, p)
                            } else t[n] = this.applyStyles(t, n, p)
                        }
                    } else t[n] = l.GetSpliceNode(s, t[n]);
                    return t[n]
                }, e.applyStyles = function(e, t, n) {
                    return e[t] = t === e.length - 1 ? Cn.Wrap(e[t], n) : Cn.WrapBefore(e[t], n, !0), e[t] = this.getChildNode(e[t], n), e[t]
                }, e.getInsertNode = function(e, t, n, i) {
                    var r = this.GetFormatNode(n, i);
                    if (r.innerHTML = "&#8203;", q.isIE) {
                        var o = e.createDocumentFragment();
                        o.appendChild(r), t.insertNode(o)
                    } else t.insertNode(r);
                    return r
                }, e.getChildNode = function(e, t) {
                    return null == e && (t.innerHTML = "&#8203;", e = t.firstChild), e
                }, e.applySelection = function(e, t, n, i, r) {
                    return 1 !== e.length || r ? 1 === e.length && r ? (t.startContainer = t.getNodeArray(e[i], !0), t.endContainer = t.startContainer, t.startOffset = n.position, t.endOffset = n.position) : 0 === i ? (t.startContainer = t.getNodeArray(e[i], !0), t.startOffset = 0) : i === e.length - 1 && (t.endContainer = t.getNodeArray(e[i], !1), t.endOffset = e[i].textContent.length) : (t.startContainer = t.getNodeArray(e[i], !0), t.endContainer = t.startContainer, t.startOffset = 0, t.endOffset = e[i].textContent.length), t
                }, e.GetFormatNode = function(e, t) {
                    var n;
                    switch (e) {
                        case "bold":
                            return document.createElement("strong");
                        case "italic":
                            return document.createElement("em");
                        case "underline":
                            return (n = document.createElement("span")).style.textDecoration = "underline", n;
                        case "strikethrough":
                            return (n = document.createElement("span")).style.textDecoration = "line-through", n;
                        case "superscript":
                            return document.createElement("sup");
                        case "subscript":
                            return document.createElement("sub");
                        case "fontcolor":
                            return (n = document.createElement("span")).style.color = t, n.style.textDecoration = "inherit", n;
                        case "fontname":
                            return (n = document.createElement("span")).style.fontFamily = t, n;
                        case "fontsize":
                            return (n = document.createElement("span")).style.fontSize = t, n;
                        default:
                            return (n = document.createElement("span")).style.backgroundColor = t, n
                    }
                }, e
            }(),
            Dn = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("selection-type", this.applySelection, this), this.parent.observer.on("keydown-handler", this.keyDownHandler, this)
                }, e.prototype.keyDownHandler = function(e) {
                    e.event.ctrlKey && ["bold", "italic", "underline", "strikethrough", "superscript", "subscript", "uppercase", "lowercase"].indexOf(e.event.action) > -1 && (e.event.preventDefault(), kn.applyFormat(this.parent.currentDocument, e.event.action, this.parent.editableElement), this.callBack(e, e.event.action))
                }, e.prototype.applySelection = function(e) {
                    kn.applyFormat(this.parent.currentDocument, e.subCommand.toLocaleLowerCase(), this.parent.editableElement, e.value, e.selector), this.callBack(e, e.subCommand)
                }, e.prototype.callBack = function(e, t) {
                    e.callBack && e.callBack({
                        requestType: t,
                        event: e.event,
                        editorMode: "HTML",
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    })
                }, e
            }(),
            On = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("inserthtml-type", this.applyHtml, this)
                }, e.prototype.applyHtml = function(e) {
                    wn.Insert(this.parent.currentDocument, e.value, this.parent.editableElement, !0), "pasteCleanup" === e.subCommand ? e.callBack({
                        requestType: e.subCommand,
                        editorMode: "HTML",
                        elements: e.value
                    }) : e.callBack && e.callBack({
                        requestType: e.subCommand,
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    })
                }, e
            }(),
            Pn = function() {
                function e() {}
                return e.clear = function(e, t, n) {
                    var i = new hn,
                        r = new Nn,
                        o = i.getRange(e),
                        a = o.collapsed,
                        s = i.getInsertNodeCollection(o),
                        l = i.save(o, e);
                    if (!a) {
                        var d = r.GetSpliceNode(o, s[0]);
                        if (1 === s.length) i.setSelectionContents(e, d), o = i.getRange(e);
                        else {
                            var c = r.GetSpliceNode(o, s[s.length - 1]);
                            i.setSelectionText(e, d, c, 0, 3 === c.nodeType ? c.textContent.length : c.childNodes.length), o = i.getRange(e)
                        }
                        var h = i.getNodeCollection(o),
                            p = h.slice();
                        this.clearInlines(i.getSelectionNodes(p), p, i.getRange(e), r, t), this.reSelection(e, l, h), o = i.getRange(e);
                        var u = (h = i.getNodeCollection(o)).slice();
                        this.clearBlocks(e, u, t, r, i), yn() && vn(t, n), this.reSelection(e, l, h)
                    }
                }, e.reSelection = function(e, t, n) {
                    var i = t.getInsertNodes(n);
                    t.startContainer = t.getNodeArray(i[0], !0, e), t.startOffset = 0, t.endContainer = t.getNodeArray(i[i.length - 1], !1, e);
                    var r = i[i.length - 1];
                    t.endOffset = 3 === r.nodeType ? r.textContent.length : r.childNodes.length, t.restore()
                }, e.clearBlocks = function(e, t, n, i, r) {
                    for (var o = [], a = 0; a < t.length; a++) this.BLOCK_TAGS.indexOf(t[a].nodeName.toLocaleLowerCase()) > -1 && -1 === o.indexOf(t[a]) ? o.push(t[a]) : this.BLOCK_TAGS.indexOf(t[a].parentNode.nodeName.toLocaleLowerCase()) > -1 && -1 === o.indexOf(t[a].parentNode) && n !== t[a].parentNode && o.push(t[a].parentNode);
                    o = this.spliceParent(o, t)[0], o = this.removeParent(o), this.unWrap(e, o, i, r)
                }, e.spliceParent = function(e, t) {
                    for (var n = 0; n < e.length; n++)
                        for (var i = e[n].childNodes.length, r = 0; r < i; r++)
                            if (t.indexOf(e[n].childNodes[r]) > 0 && e[n].childNodes[r].childNodes.length > 0 && (t = this.spliceParent([e[n].childNodes[r]], t)[1]), t.indexOf(e[n].childNodes[r]) <= -1 && "" !== e[n].childNodes[r].textContent.trim()) {
                                for (var o = 0; o < i; o++) t.indexOf(e[n].childNodes[o]) > -1 && t.splice(t.indexOf(e[n].childNodes[o]), 1);
                                r = e[n].childNodes.length;
                                var a = e.indexOf(e[n].parentNode),
                                    s = t.indexOf(e[n].parentNode);
                                a > -1 && e.splice(a, 1), s > -1 && t.splice(s, 1);
                                var l = t.indexOf(e[n]);
                                l > -1 && t.splice(l, 1), e.splice(n, 1), n--
                            }
                    return [e, t]
                }, e.removeChild = function(e, t) {
                    var n = t.childNodes.length;
                    if (n > 0)
                        for (var i = 0; i < n; i++) e.indexOf(t.childNodes[i]) > -1 && (e = this.removeChild(e, t.childNodes[i])).splice(e.indexOf(t.childNodes[i]), 1);
                    return e
                }, e.removeParent = function(e) {
                    for (var t = 0; t < e.length; t++) e.indexOf(e[t].parentNode) > -1 && ((e = this.removeChild(e, e[t])).splice(t, 1), t--);
                    return e
                }, e.unWrap = function(e, t, n, i) {
                    for (var r = 0; r < t.length; r++)
                        if (this.NONVALID_TAGS.indexOf(t[r].nodeName.toLowerCase()) > -1 && t[r].parentNode && this.NONVALID_PARENT_TAGS.indexOf(t[r].parentNode.nodeName.toLowerCase()) > -1 && (i.setSelectionText(e, t[r], t[r], 0, t[r].childNodes.length), Cn.unwrap(n.GetSpliceNode(i.getRange(e), t[r].parentNode))), "p" !== t[r].nodeName.toLocaleLowerCase()) {
                            !(this.NONVALID_PARENT_TAGS.indexOf(t[r].nodeName.toLowerCase()) < 0 && "p" !== t[r].parentNode.nodeName.toLocaleLowerCase()) || ("blockquote" === t[r].nodeName.toLocaleLowerCase() || "li" === t[r].nodeName.toLocaleLowerCase()) && this.IGNORE_PARENT_TAGS.indexOf(t[r].childNodes[0].nodeName.toLocaleLowerCase()) > -1 || 1 === t[r].childNodes.length && "p" === t[r].childNodes[0].nodeName.toLocaleLowerCase() || Cn.Wrap(t[r], e.createElement("p"));
                            var o = Cn.unwrap(t[r]);
                            1 === o.length && "p" === o[0].parentNode.nodeName.toLocaleLowerCase() && (Cn.Wrap(t[r], e.createElement("p")), Cn.unwrap(t[r]));
                            for (var a = 0; a < o.length; a++)
                                if (this.NONVALID_TAGS.indexOf(o[a].nodeName.toLowerCase()) > -1) this.unWrap(e, [o[a]], n, i);
                                else if (this.BLOCK_TAGS.indexOf(o[a].nodeName.toLocaleLowerCase()) > -1 && "p" !== o[a].nodeName.toLocaleLowerCase()) {
                                var s = this.removeParent([o[a]]);
                                this.unWrap(e, s, n, i)
                            } else this.BLOCK_TAGS.indexOf(o[a].nodeName.toLocaleLowerCase()) > -1 && o[a].parentNode.nodeName.toLocaleLowerCase() === o[a].nodeName.toLocaleLowerCase() ? Cn.unwrap(o[a]) : this.BLOCK_TAGS.indexOf(o[a].nodeName.toLocaleLowerCase()) > -1 && "p" === o[a].nodeName.toLocaleLowerCase() && (Cn.Wrap(o[a], e.createElement("p")), Cn.unwrap(o[a]))
                        } else Cn.Wrap(t[r], e.createElement("p")), Cn.unwrap(t[r])
                }, e.clearInlines = function(e, t, n, i, r) {
                    for (var o = 0; o < e.length; o++) e[o].parentNode && Ln.inlineTags.indexOf(e[o].parentNode.nodeName.toLocaleLowerCase()) > -1 && (i.GetSpliceNode(n, e[o].parentNode), this.removeInlineParent(e[o].parentNode))
                }, e.removeInlineParent = function(e) {
                    for (var t = Cn.unwrap(e), n = 0; n < t.length; n++) 1 === t[n].parentNode.childNodes.length && Ln.inlineTags.indexOf(t[n].parentNode.nodeName.toLocaleLowerCase()) > -1 ? this.removeInlineParent(t[n].parentNode) : Ln.inlineTags.indexOf(t[n].nodeName.toLocaleLowerCase()) > -1 && this.removeInlineParent(t[n])
                }, e.BLOCK_TAGS = ["address", "article", "aside", "blockquote", "details", "dd", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "li", "main", "nav", "noscript", "ol", "p", "pre", "section", "table", "tbody", "td", "tfoot", "th", "thead", "tr", "ul"], e.NONVALID_PARENT_TAGS = ["thead", "tbody", "ul", "ol", "table", "tfoot", "tr"], e.IGNORE_PARENT_TAGS = ["ul", "ol", "table"], e.NONVALID_TAGS = ["thead", "tbody", "figcaption", "td", "tr", "th", "tfoot", "figcaption", "li"], e
            }(),
            Rn = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("clear-type", this.applyClear, this), this.parent.observer.on("keydown-handler", this.onKeyDown, this)
                }, e.prototype.onKeyDown = function(e) {
                    switch (e.event.action) {
                        case "clear-format":
                            this.applyClear({
                                subCommand: "ClearFormat",
                                callBack: e.callBack
                            }), e.event.preventDefault()
                    }
                }, e.prototype.applyClear = function(e) {
                    "ClearFormat" === e.subCommand && (Pn.clear(this.parent.currentDocument, this.parent.editableElement, e.selector), e.callBack && e.callBack({
                        requestType: e.subCommand,
                        event: e.event,
                        editorMode: "HTML",
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    }))
                }, e
            }(),
            An = function() {
                function e(e, t) {
                    this.undoRedoStack = [], this.parent = e, this.undoRedoSteps = h(t) ? 30 : t.undoRedoSteps, this.undoRedoTimer = h(t) ? 300 : t.undoRedoTimer, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    var e = u(this.keyUp, this.undoRedoTimer);
                    this.parent.observer.on("keyup-handler", e, this), this.parent.observer.on("keydown-handler", this.keyDown, this), this.parent.observer.on("action", this.onAction, this), this.parent.observer.on("model_changed_plugin", this.onPropertyChanged, this)
                }, e.prototype.onPropertyChanged = function(e) {
                    for (var t = 0, n = Object.keys(e.newProp); t < n.length; t++) {
                        switch (n[t]) {
                            case "undoRedoSteps":
                                this.undoRedoSteps = e.newProp.undoRedoSteps;
                                break;
                            case "undoRedoTimer":
                                this.undoRedoTimer = e.newProp.undoRedoTimer
                        }
                    }
                }, e.prototype.removeEventListener = function() {
                    this.parent.observer.off("keyup-handler", this.keyUp), this.parent.observer.off("keydown-handler", this.keyDown), this.parent.observer.off("action", this.onAction)
                }, e.prototype.onAction = function(e) {
                    "Undo" === e.subCommand ? this.undo(e) : this.redo(e)
                }, e.prototype.destroy = function() {
                    this.removeEventListener()
                }, e.prototype.keyDown = function(e) {
                    var t = e.event;
                    switch (t.action) {
                        case "undo":
                            t.preventDefault(), this.undo(e);
                            break;
                        case "redo":
                            t.preventDefault(), this.redo(e)
                    }
                }, e.prototype.keyUp = function(e) {
                    17 === e.event.keyCode || e.event.ctrlKey || this.saveData(e)
                }, e.prototype.saveData = function(e) {
                    var t = (new hn).getRange(this.parent.currentDocument),
                        n = (new hn).save(t, this.parent.currentDocument),
                        i = {
                            text: this.parent.editableElement.innerHTML,
                            range: n
                        };
                    this.undoRedoStack.length >= this.steps && (this.undoRedoStack = this.undoRedoStack.slice(0, this.steps + 1)), this.undoRedoStack.length > 1 && this.undoRedoStack[this.undoRedoStack.length - 1].range.range.collapsed === t.collapsed && this.undoRedoStack[this.undoRedoStack.length - 1].range.startOffset === n.range.startOffset && this.undoRedoStack[this.undoRedoStack.length - 1].range.endOffset === n.range.endOffset && this.undoRedoStack[this.undoRedoStack.length - 1].range.range.startContainer === n.range.startContainer && this.undoRedoStack[this.undoRedoStack.length - 1].text.trim() === i.text.trim() || (this.undoRedoStack.push(i), this.steps = this.undoRedoStack.length - 1, this.steps > this.undoRedoSteps && (this.undoRedoStack.shift(), this.steps--), e && e.callBack && e.callBack())
                }, e.prototype.undo = function(e) {
                    if (this.steps > 0) {
                        var t = this.undoRedoStack[this.steps - 1].range,
                            n = this.undoRedoStack[this.steps - 1].text;
                        this.parent.editableElement.innerHTML = n, this.parent.editableElement.focus(), yn() && vn(this.parent.editableElement, e.selector), t.restore(), this.steps--, e.callBack && e.callBack({
                            requestType: "Undo",
                            editorMode: "HTML",
                            range: t,
                            elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),
                            event: e.event
                        })
                    }
                }, e.prototype.redo = function(e) {
                    if (null != this.undoRedoStack[this.steps + 1]) {
                        var t = this.undoRedoStack[this.steps + 1].range;
                        this.parent.editableElement.innerHTML = this.undoRedoStack[this.steps + 1].text, this.parent.editableElement.focus(), yn() && vn(this.parent.editableElement, e.selector), t.restore(), this.steps++, e.callBack && e.callBack({
                            requestType: "Redo",
                            editorMode: "HTML",
                            range: t,
                            elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),
                            event: e.event
                        })
                    }
                }, e.prototype.getUndoStatus = function() {
                    var e = {
                        undo: !1,
                        redo: !1
                    };
                    return this.steps > 0 && (e.undo = !0), null != this.undoRedoStack[this.steps + 1] && (e.redo = !0), e
                }, e
            }(),
            In = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.observer.on("insert-text-type", this.insertText, this)
                }, e.prototype.insertText = function(e) {
                    var t = document.createTextNode(e.value);
                    wn.Insert(this.parent.currentDocument, t), e.callBack && e.callBack({
                        requestType: e.subCommand,
                        editorMode: "HTML",
                        event: e.event,
                        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),
                        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)
                    })
                }, e
            }(),
            Hn = function() {
                function e(e) {
                    this.currentDocument = e.document, this.editableElement = e.editableElement, this.nodeSelection = new hn, this.domNode = new gn(this.editableElement, this.currentDocument), this.observer = new ee(this), this.listObj = new bn(this), this.formatObj = new En(this), this.alignmentObj = new Mn(this), this.indentsObj = new Tn(this), this.linkObj = new Sn(this), this.imgObj = new xn(this), this.selectionObj = new Dn(this), this.inserthtmlObj = new On(this), this.insertTextObj = new In(this), this.clearObj = new Rn(this), this.undoRedoManager = new An(this, e.options), this.wireEvents()
                }
                return e.prototype.wireEvents = function() {
                    this.observer.on("keydown", this.editorKeyDown, this), this.observer.on("keyup", this.editorKeyUp, this), this.observer.on("keyup", this.editorKeyUp, this), this.observer.on("model_changed", this.onPropertyChanged, this), this.observer.on("ms_word_cleanup", this.onWordPaste, this)
                }, e.prototype.onWordPaste = function(e) {
                    this.observer.notify("ms_word_cleanup_plugin", e)
                }, e.prototype.onPropertyChanged = function(e) {
                    this.observer.notify("model_changed_plugin", e)
                }, e.prototype.editorKeyDown = function(e) {
                    this.observer.notify("keydown-handler", e)
                }, e.prototype.editorKeyUp = function(e) {
                    this.observer.notify("keyup-handler", e)
                }, e.prototype.execCommand = function(e, t, n, i, r, o, a) {
                    switch (e.toLocaleLowerCase()) {
                        case "lists":
                            this.observer.notify("list-type", {
                                subCommand: t,
                                event: n,
                                callBack: i,
                                selector: a
                            });
                            break;
                        case "formats":
                            this.observer.notify("format-type", {
                                subCommand: t,
                                event: n,
                                callBack: i,
                                selector: a,
                                exeValue: o
                            });
                            break;
                        case "alignments":
                            this.observer.notify("alignment-type", {
                                subCommand: t,
                                event: n,
                                callBack: i,
                                selector: a,
                                value: o
                            });
                            break;
                        case "indents":
                            this.observer.notify("indent-type", {
                                subCommand: t,
                                event: n,
                                callBack: i,
                                selector: a
                            });
                            break;
                        case "links":
                            this.observer.notify("INSERT-LINK", {
                                command: e,
                                value: t,
                                item: o,
                                event: n,
                                callBack: i
                            });
                            break;
                        case "images":
                            this.observer.notify("INSERT-IMAGE", {
                                command: e,
                                value: t,
                                item: o,
                                event: n,
                                callBack: i,
                                selector: a
                            });
                            break;
                        case "font":
                        case "style":
                        case "effects":
                        case "casing":
                            this.observer.notify("selection-type", {
                                subCommand: t,
                                event: n,
                                callBack: i,
                                value: r,
                                selector: a
                            });
                            break;
                        case "inserthtml":
                            this.observer.notify("inserthtml-type", {
                                subCommand: t,
                                callBack: i,
                                value: r
                            });
                            break;
                        case "inserttext":
                            this.observer.notify("insert-text-type", {
                                subCommand: t,
                                callBack: i,
                                value: r
                            });
                            break;
                        case "clear":
                            this.observer.notify("clear-type", {
                                subCommand: t,
                                event: n,
                                callBack: i,
                                selector: a
                            });
                            break;
                        case "actions":
                            this.observer.notify("action", {
                                subCommand: t,
                                event: n,
                                callBack: i,
                                selector: a
                            })
                    }
                }, e
            }(),
            Bn = function() {
                var e = function(t, n) {
                    return (e = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(e, t) {
                            e.__proto__ = t
                        } || function(e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(t, n)
                };
                return function(t, n) {
                    function i() {
                        this.constructor = t
                    }
                    e(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
                }
            }(),
            jn = function(e) {
                function t(t) {
                    var n = e.call(this) || this;
                    return n.initialize(), c(n, n, t, !0), n.currentDocument && n.element && n.updateFormatter(n.element, n.currentDocument, t.options), n
                }
                return Bn(t, e), t.prototype.initialize = function() {
                    this.keyConfig = pn
                }, t.prototype.updateFormatter = function(e, t, n) {
                    e && t && (this.editorManager = new Hn({
                        document: t,
                        editableElement: e,
                        options: n
                    }))
                }, t
            }(sn),
            Fn = function() {
                function e(e, t) {
                    this.parent = e, this.serviceLocator = t
                }
                return e.prototype.renderPanel = function() {
                    var e = this.parent,
                        t = this.parent.createElement("div", {
                            className: "e-rte-content",
                            id: this.parent.getID() + "rte-view"
                        }),
                        n = Qt(e.value, e);
                    this.editableElement = this.parent.createElement("div", {
                        className: "e-content",
                        id: this.parent.getID() + "_rte-edit-view",
                        attrs: {
                            contenteditable: "true"
                        },
                        innerHTML: n
                    }), t.appendChild(this.editableElement), this.setPanel(t), e.element.appendChild(t)
                }, e.prototype.getPanel = function() {
                    return this.contentPanel
                }, e.prototype.getEditPanel = function() {
                    return this.editableElement
                }, e.prototype.getText = function() {
                    return this.getEditPanel().textContent
                }, e.prototype.setPanel = function(e) {
                    this.contentPanel = e
                }, e.prototype.getDocument = function() {
                    return this.getEditPanel().ownerDocument
                }, e
            }(),
            zn = function() {
                function e(e) {
                    this.parent = e, this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.on("xhtmlValidation", this.enableXhtmlValidation, this)
                }, e.prototype.enableXhtmlValidation = function() {
                    this.parent.enableXhtml && (this.clean(this.parent.inputElement), this.AddRootElement(), this.ImageTags(), this.removeTags(), this.RemoveUnsupported(), this.parent.setProperties({
                        value: this.parent.inputElement.innerHTML
                    }, !0))
                }, e.prototype.AddRootElement = function() {
                    if (1 === this.parent.inputElement.childNodes.length && "DIV" !== this.parent.inputElement.firstChild.nodeName || this.parent.inputElement.childNodes.length > 1) {
                        for (var e = this.parent.createElement("div"); this.parent.inputElement.childNodes.length > 0;) e.appendChild(this.parent.inputElement.childNodes[0]);
                        this.parent.inputElement.appendChild(e)
                    }
                }, e.prototype.clean = function(e) {
                    for (var t = 0; t < e.childNodes.length; t++) {
                        var n = e.childNodes[t];
                        8 === n.nodeType || "V:IMAGE" === n.nodeName ? (e.removeChild(n), t--) : 1 === n.nodeType && this.clean(n)
                    }
                    return this.parent.inputElement.innerHTML
                }, e.prototype.ImageTags = function() {
                    for (var e = this.parent.inputElement.querySelectorAll("IMG"), t = e.length - 1; t >= 0; t--) {
                        if (!e[t].hasAttribute("alt")) e[t].setAttribute("alt", "")
                    }
                }, e.prototype.removeTags = function() {
                    for (var e = [
                            ["br", "ul"],
                            ["br", "ol"],
                            ["table", "span"],
                            ["div", "span"],
                            ["p", "span"]
                        ], t = 0; t < e.length; t++) this.RemoveElementNode(e[t][0], e[t][1])
                }, e.prototype.RemoveElementNode = function(e, t) {
                    for (var n = this.parent.inputElement.querySelectorAll(t), i = 0; i < n.length; i++)
                        for (var r = n[i].querySelectorAll(e), o = r.length; o > 0; o--) T(r[o - 1])
                }, e.prototype.RemoveUnsupported = function() {
                    for (var e = this.parent.inputElement.querySelectorAll("u"), t = e.length - 1; t >= 0; t--) {
                        var n = this.parent.createElement("span");
                        n.style.textDecoration = "underline", n.innerHTML = e[t].innerHTML, e[t].parentNode.insertBefore(n, e[t]), T(e[t])
                    }
                    var i = this.parent.inputElement.querySelectorAll("strong");
                    for (t = i.length - 1; t >= 0; t--) {
                        var r = this.parent.createElement("b");
                        r.innerHTML = i[t].innerHTML, i[t].parentNode.insertBefore(r, i[t]), T(i[t])
                    }
                    var o = ["language", "role", "target", "contenteditable", "cellspacing", "cellpadding", "border", "valign", "colspan"];
                    for (t = 0; t <= o.length; t++) this.RemoveAttributeByName(o[t])
                }, e.prototype.RemoveAttributeByName = function(e) {
                    if (null !== this.parent.inputElement.firstChild && 3 !== this.parent.inputElement.firstChild.nodeType)
                        for (var t = 0; t < this.parent.inputElement.childNodes.length; t++) {
                            var n = this.parent.inputElement.childNodes[t];
                            if (3 !== n.nodeType && "TABLE" !== n.nodeName && "TBODY" !== n.nodeName && "THEAD" !== n.nodeName && "TH" !== n.nodeName && "TR" !== n.nodeName && "TD" !== n.nodeName && (n.hasAttribute(e) && n.removeAttribute(e), n.hasChildNodes()))
                                for (var i = 0; i < n.childNodes.length; i++) {
                                    var r = n.childNodes[i];
                                    if (3 !== r.nodeType && "TABLE" !== r.nodeName && "TBODY" !== r.nodeName && "THEAD" !== r.nodeName && "TH" !== r.nodeName && "TR" !== r.nodeName && "TD" !== r.nodeName && r.hasAttribute(e) && r.removeAttribute(e), r.hasChildNodes())
                                        for (var o = 0; o < r.childNodes.length; o++) 3 !== r.childNodes[o].nodeType && "TABLE" !== r.childNodes[o].nodeName && "TBODY" !== r.childNodes[o].nodeName && "THEAD" !== r.childNodes[o].nodeName && "TH" !== r.childNodes[o].nodeName && "TR" !== r.childNodes[o].nodeName && "TD" !== r.childNodes[o].nodeName && r.childNodes[o].hasAttribute(e) && r.childNodes[o].removeAttribute(e)
                                }
                        }
                }, e
            }(),
            _n = function() {
                function e(e, t) {
                    this.rangeCollection = [], this.parent = e, this.locator = t, this.renderFactory = this.locator.getService("rendererFactory"), this.xhtmlValidation = new zn(e), this.addEventListener()
                }
                return e.prototype.destroy = function() {
                    this.removeEventListener()
                }, e.prototype.sanitizeHelper = function(e) {
                    return e = function(e, t) {
                        if (t.enableHtmlSanitizer) {
                            var n = Kt.beforeSanitize();
                            c(n, n, {
                                cancel: !1,
                                helper: null
                            }), t.trigger("beforeSanitizeHtml", n), n.cancel && !h(n.helper) ? e = n.helper(e) : n.cancel || (e = Kt.serializeValue(n, e))
                        }
                        return e
                    }(e, this.parent)
                }, e.prototype.addEventListener = function() {
                    this.parent.isDestroyed || (this.nodeSelectionObj = new hn, this.parent.on("initial-load", this.instantiateRenderer, this), this.parent.on("keyDown", this.onKeyDown, this), this.parent.on("initial-end", this.render, this), this.parent.on("model-changed", this.onPropertyChanged, this), this.parent.on("destroy", this.destroy, this), this.parent.on("selectAll", this.selectAll, this), this.parent.on("selectRange", this.selectRange, this), this.parent.on("getSelectedHtml", this.getSelectedHtml, this), this.parent.on("selection-save", this.onSelectionSave, this), this.parent.on("selection-restore", this.onSelectionRestore, this), this.parent.on("readOnlyMode", this.updateReadOnly, this), this.parent.on(at, this.onPaste, this))
                }, e.prototype.updateReadOnly = function() {
                    this.parent.readonly ? (x(this.parent.contentModule.getEditPanel(), {
                        contenteditable: "false"
                    }), C([this.parent.element], "e-rte-readonly")) : (x(this.parent.contentModule.getEditPanel(), {
                        contenteditable: "true"
                    }), N([this.parent.element], "e-rte-readonly"))
                }, e.prototype.onSelectionSave = function() {
                    var e = this.contentRenderer.getDocument(),
                        t = this.nodeSelectionObj.getRange(e);
                    this.saveSelection = this.nodeSelectionObj.save(t, e)
                }, e.prototype.onSelectionRestore = function(e) {
                    this.parent.isBlur = !1, this.contentRenderer.getEditPanel().focus(), (h(e.items) || e.items) && this.saveSelection.restore()
                }, e.prototype.onKeyDown = function(e) {
                    if (9 === e.args.keyCode && this.parent.enableTabKey) {
                        var t = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),
                            n = this.nodeSelectionObj.getParentNodeCollection(t);
                        if ("LI" !== n[0].nodeName && !D(n[0], "li") && !D(n[0], "table") || 0 !== t.startOffset)
                            if (e.args.preventDefault(), e.args.shiftKey) {
                                if (this.rangeCollection.length > 0 && 4 === this.rangeCollection[this.rangeCollection.length - 1].startContainer.textContent.length) {
                                    var i = this.rangeCollection[this.rangeCollection.length - 1].startContainer;
                                    this.nodeSelectionObj.setSelectionText(this.contentRenderer.getDocument(), i, i, 0, i.textContent.length), wn.Insert(this.contentRenderer.getDocument(), document.createTextNode("")), this.rangeCollection.pop()
                                }
                            } else wn.Insert(this.contentRenderer.getDocument(), "&nbsp;&nbsp;&nbsp;&nbsp;"), this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()))
                    }
                    "space" !== e.args.action && "enter" !== e.args.action || this.spaceLink(e.args)
                }, e.prototype.onPaste = function(e) {
                    var t = new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);
                    if (e.text.match(t)) {
                        e.args.preventDefault();
                        for (var n = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()), i = (this.parent.formatter.editorManager.nodeSelection.save(n, this.parent.contentModule.getDocument()), new RegExp(/([^\S]|^)(((https?\:\/\/)))/gi)), r = new RegExp(/([^\S]|^)(((www\.))(\S+))/gi), o = e.text.split("\n"), a = "", s = 0; s < o.length; s++)
                            if ("" === o[s].trim()) a += "<p><br></p>";
                            else {
                                for (var l = "", d = !0, c = o[s].split(" "), p = 0; p < c.length; p++) "" === c[p].trim() ? l += d ? "&nbsp;" : " " : (d = !1, l += c[p] + " ");
                                a += "<p>" + l.trim() + "</p>"
                            }
                        var u = this.parent.createElement("div");
                        u.innerHTML = a;
                        var m = u.querySelectorAll("p");
                        for (s = 0; s < m.length; s++) {
                            var f = m[s].innerHTML.split(" "),
                                g = "";
                            for (p = 0; p < f.length; p++) f[p].match(i) || f[p].match(r) ? g += '<a className="e-rte-anchor" href="' + f[p] + '" title="' + f[p] + '">' + f[p] + " </a>" : g += f[p] + " ";
                            m[s].innerHTML = g.trim()
                        }
                        h(this.parent.pasteCleanupModule) ? this.parent.executeCommand("insertHTML", u) : e.callBack(u.innerHTML)
                    }
                }, e.prototype.spaceLink = function(e) {
                    var t = this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),
                        n = this.nodeSelectionObj.getParentNodeCollection(t),
                        i = t.startContainer.textContent.substr(0, t.endOffset),
                        r = i.split(" "),
                        o = r[r.length - 1],
                        a = t.startOffset - (i.length - r[r.length - 1].length);
                    o = o.slice(0, a);
                    var s = new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);
                    if ("A" !== n[0].nodeName && o.match(s)) {
                        var l = this.nodeSelectionObj.save(t, this.parent.contentModule.getDocument()),
                            d = {
                                url: o.indexOf("http") > -1 ? o : "http://" + o,
                                selection: l,
                                selectParent: this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(t),
                                text: o,
                                title: "",
                                target: "_blank"
                            };
                        this.parent.formatter.process(this.parent, {
                            item: {
                                command: "Links",
                                subCommand: "CreateLink"
                            }
                        }, e, d)
                    }
                }, e.prototype.instantiateRenderer = function() {
                    this.renderFactory.addRenderer(rt.Content, new Fn(this.parent, this.locator))
                }, e.prototype.removeEventListener = function() {
                    this.parent.isDestroyed || (this.parent.off("initial-end", this.render), this.parent.off("model-changed", this.onPropertyChanged), this.parent.off("destroy", this.destroy), this.parent.off("keyDown", this.onKeyDown), this.parent.off("initial-load", this.instantiateRenderer), this.parent.off("selectAll", this.selectAll), this.parent.off("selectRange", this.selectRange), this.parent.off("getSelectedHtml", this.getSelectedHtml), this.parent.off("selection-save", this.onSelectionSave), this.parent.off("selection-restore", this.onSelectionRestore), this.parent.off("readOnlyMode", this.updateReadOnly), this.parent.off(at, this.onPaste))
                }, e.prototype.render = function() {
                    this.contentRenderer = this.renderFactory.getRenderer(rt.Content);
                    var e = this.contentRenderer.getEditPanel(),
                        t = {
                            undoRedoSteps: this.parent.undoRedoSteps,
                            undoRedoTimer: this.parent.undoRedoTimer
                        };
                    if (h(this.parent.formatter)) {
                        var n = new jn({
                            currentDocument: this.contentRenderer.getDocument(),
                            element: e,
                            options: t
                        });
                        this.parent.setProperties({
                            formatter: n
                        }, !0)
                    } else this.parent.formatter.updateFormatter(e, this.contentRenderer.getDocument(), t);
                    this.parent.enableXhtml && this.parent.notify("xhtmlValidation", {}), this.parent.notify("bind-on-end", {})
                }, e.prototype.onPropertyChanged = function(e) {
                    if (!h(e.newProp.formatter)) {
                        var t = this.contentRenderer.getEditPanel(),
                            n = {
                                undoRedoSteps: this.parent.undoRedoSteps,
                                undoRedoTimer: this.parent.undoRedoTimer
                            };
                        this.parent.formatter.updateFormatter(t, this.contentRenderer.getDocument(), n)
                    }
                }, e.prototype.getModuleName = function() {
                    return "htmlEditor"
                }, e.prototype.selectAll = function() {
                    var e = function e(t, n) {
                        var i = [];
                        for (n = n.firstChild; n; n = n.nextSibling) 3 === n.nodeType ? i.push(n) : i = i.concat(e(t, n));
                        return i
                    }(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel());
                    e.length > 0 && this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(), e[0], e[e.length - 1], 0, e[e.length - 1].textContent.length)
                }, e.prototype.selectRange = function(e) {
                    this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(), e.range)
                }, e.prototype.getSelectedHtml = function(e) {
                    e.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString())
                }, e
            }(),
            qn = function() {
                function e(e, t) {
                    this.pageX = null, this.pageY = null, this.parent = e, this.rteID = e.element.id, this.rendererFactory = t.getService("rendererFactory"), this.addEventListener()
                }
                return e.prototype.addEventListener = function() {
                    this.parent.isDestroyed || (this.parent.on("delete", this.deleteImg, this), this.parent.on("initial-end", this.afterRender, this), this.parent.on("destroy", this.removeEventListener, this))
                }, e.prototype.removeEventListener = function() {
                    if (!this.parent.isDestroyed) {
                        this.parent.off("delete", this.deleteImg), this.parent.off("initial-end", this.afterRender), this.parent.off("destroy", this.removeEventListener);
                        var e = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument : this.parent.inputElement;
                        e.removeEventListener("drop", this.dragDrop.bind(this), !0), e.removeEventListener("dragstart", this.dragStart.bind(this), !0), e.removeEventListener("dragenter", this.dragEnter.bind(this), !0), e.removeEventListener("dragover", this.dragOver.bind(this), !0), h(this.contentModule) || (y.remove(this.contentModule.getEditPanel(), q.touchEndEvent, this.imageClick), this.parent.formatter.editorManager.observer.off("checkUndoStack", this.undoStack), this.parent.insertImageSettings.resize && (y.remove(this.parent.contentModule.getEditPanel(), q.touchStartEvent, this.resizeStart), y.remove(this.parent.element.ownerDocument, "mousedown", this.onDocumentClick)))
                    }
                }, e.prototype.afterRender = function() {
                    this.contentModule = this.rendererFactory.getRenderer(rt.Content), y.add(this.contentModule.getEditPanel(), q.touchEndEvent, this.imageClick, this), this.parent.insertImageSettings.resize && (y.add(this.parent.contentModule.getEditPanel(), q.touchStartEvent, this.resizeStart, this), y.add(this.parent.element.ownerDocument, "mousedown", this.onDocumentClick, this));
                    var e = this.parent.iframeSettings.enable ? this.parent.inputElement.ownerDocument : this.parent.inputElement;
                    e.addEventListener("drop", this.dragDrop.bind(this), !0), e.addEventListener("dragstart", this.dragStart.bind(this), !0), e.addEventListener("dragenter", this.dragOver.bind(this), !0), e.addEventListener("dragover", this.dragOver.bind(this), !0)
                }, e.prototype.undoStack = function(e) {
                    if ("undo" === e.subCommand.toLowerCase() || "redo" === e.subCommand.toLowerCase())
                        for (var t = 0; t < this.parent.formatter.getUndoRedoStack().length; t++) {
                            var n = this.parent.createElement("div"),
                                i = (a = this.parent.formatter.getUndoRedoStack()[t].text, s = void 0, (s = b("template")).innerHTML = a, s.content instanceof DocumentFragment ? s.content : document.createRange().createContextualFragment(a));
                            n.appendChild(i);
                            var r = n.querySelectorAll("img");
                            if (n.querySelector(".e-img-resize") && r.length > 0) {
                                for (var o = 0; o < r.length; o++) r[o].style.outline = "";
                                T(n.querySelector(".e-img-resize")), this.parent.formatter.getUndoRedoStack()[t].text = n.innerHTML
                            }
                        }
                    var a, s
                }, e.prototype.resizeEnd = function(e) {
                    this.resizeBtnInit(), this.imgEle.parentElement.style.cursor = "auto", q.isDevice && N([e.target.parentElement], "e-mob-span");
                    var t = g() ? {
                        requestType: "images"
                    } : {
                        event: e,
                        requestType: "images"
                    };
                    this.parent.trigger("resizeStop", t);
                    this.getPointX(e), this.parent.iframeSettings.enable ? (window.pageYOffset, this.parent.element.getBoundingClientRect().top, e.clientY) : e.pageY;
                    this.parent.formatter.editorManager.observer.on("checkUndoStack", this.undoStack, this), this.parent.formatter.saveData()
                }, e.prototype.resizeStart = function(e, t) {
                    var n = this;
                    if (!this.parent.readonly) {
                        var i = t || e.target;
                        if ("IMG" === i.tagName) {
                            this.parent.preventDefaultResize(e);
                            var r = i;
                            this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv) && T(this.imgResizeDiv), this.imageResize(r)
                        }
                        if (i.classList.contains("e-rte-imageboxmark")) {
                            if (0 === this.parent.formatter.getUndoRedoStack().length && this.parent.formatter.saveData(), this.pageX = this.getPointX(e), this.pageY = this.getPointY(e), e.preventDefault(), e.stopImmediatePropagation(), this.resizeBtnInit(), this.quickToolObj && this.quickToolObj.imageQTBar.hidePopup(), i.classList.contains("e-rte-topLeft") && (this.resizeBtnStat.topLeft = !0), i.classList.contains("e-rte-topRight") && (this.resizeBtnStat.topRight = !0), i.classList.contains("e-rte-botLeft") && (this.resizeBtnStat.botLeft = !0), i.classList.contains("e-rte-botRight") && (this.resizeBtnStat.botRight = !0), q.isDevice && this.contentModule.getEditPanel().contains(this.imgResizeDiv) && !this.imgResizeDiv.classList.contains("e-mob-span")) C([this.imgResizeDiv], "e-mob-span");
                            else {
                                var o = g() ? {
                                    requestType: "images"
                                } : {
                                    event: e,
                                    requestType: "images"
                                };
                                this.parent.trigger("resizeStart", o, (function(e) {
                                    e.cancel && n.cancelResizeAction()
                                }))
                            }
                            y.add(this.contentModule.getDocument(), q.touchEndEvent, this.resizeEnd, this)
                        }
                    }
                }, e.prototype.imageClick = function(e) {
                    q.isDevice && ("IMG" === e.target.tagName && "A" === e.target.parentElement.tagName || "IMG" === e.target.tagName ? (this.contentModule.getEditPanel().setAttribute("contenteditable", "true"), e.target.focus()) : this.parent.readonly || this.contentModule.getEditPanel().setAttribute("contenteditable", "true")), "IMG" === e.target.tagName && "A" === e.target.parentElement.tagName && e.preventDefault()
                }, e.prototype.imageResize = function(e) {
                    this.resizeBtnInit(), this.imgEle = e, C([this.imgEle], "e-resize"), this.imgResizeDiv = this.parent.createElement("span", {
                        className: "e-img-resize",
                        id: this.rteID + "_imgResize"
                    }), this.imgResizeDiv.appendChild(this.parent.createElement("span", {
                        className: "e-rte-imageboxmark e-rte-topLeft",
                        styles: "cursor: nwse-resize"
                    })), this.imgResizeDiv.appendChild(this.parent.createElement("span", {
                        className: "e-rte-imageboxmark e-rte-topRight",
                        styles: "cursor: nesw-resize"
                    })), this.imgResizeDiv.appendChild(this.parent.createElement("span", {
                        className: "e-rte-imageboxmark e-rte-botLeft",
                        styles: "cursor: nesw-resize"
                    })), this.imgResizeDiv.appendChild(this.parent.createElement("span", {
                        className: "e-rte-imageboxmark e-rte-botRight",
                        styles: "cursor: nwse-resize"
                    })), q.isDevice && C([this.imgResizeDiv], "e-mob-rte"), e.style.outline = "2px solid #4a90e2", this.imgResizePos(e, this.imgResizeDiv), this.resizeImgDupPos(e), this.contentModule.getEditPanel().appendChild(this.imgResizeDiv), y.add(this.contentModule.getDocument(), q.touchMoveEvent, this.resizing, this)
                }, e.prototype.getPointX = function(e) {
                    return e.touches && e.touches.length ? e.touches[0].pageX : e.pageX
                }, e.prototype.getPointY = function(e) {
                    return e.touches && e.touches.length ? e.touches[0].pageY : e.pageY
                }, e.prototype.imgResizePos = function(e, t) {
                    var n = this.calcPos(e),
                        i = n.top,
                        r = n.left,
                        o = e.width,
                        a = e.height,
                        s = q.isDevice ? 4 * parseInt(e.style.outline.slice(-3), 10) + 2 : 2 * parseInt(e.style.outline.slice(-3), 10) + 2,
                        l = q.isDevice ? 0 : 2;
                    t.querySelector(".e-rte-botLeft").style.left = r - s + "px", t.querySelector(".e-rte-botLeft").style.top = a - s + i + "px", t.querySelector(".e-rte-botRight").style.left = o - (s - l) + r + "px", t.querySelector(".e-rte-botRight").style.top = a - s + i + "px", t.querySelector(".e-rte-topRight").style.left = o - (s - l) + r + "px", t.querySelector(".e-rte-topRight").style.top = i - s + "px", t.querySelector(".e-rte-topLeft").style.left = r - s + "px", t.querySelector(".e-rte-topLeft").style.top = i - s + "px"
                }, e.prototype.calcPos = function(e) {
                    for (var t = {
                            top: 0,
                            left: 0
                        }, n = e.getBoundingClientRect(), i = e.ownerDocument, r = (e.offsetParent && (e.offsetParent.classList.contains("e-img-caption") || ["TD", "TH", "TABLE", "A"].indexOf(e.offsetParent.tagName) > -1) ? D(e, "#" + this.parent.getID() + "_rte-edit-view") : e.offsetParent) || i.documentElement; r && (r === i.body || r === i.documentElement) && "static" === r.style.position;) r = r.parentNode;
                    return r && r !== e && 1 === r.nodeType && (t = r.getBoundingClientRect()), {
                        top: n.top - t.top,
                        left: n.left - t.left
                    }
                }, e.prototype.setAspectRatio = function(e, t, n) {
                    if (!h(e.width)) {
                        var i = "" !== e.style.width ? parseInt(e.style.width, 10) : e.width,
                            r = "" !== e.style.height ? parseInt(e.style.height, 10) : e.height;
                        i > r ? this.parent.insertImageSettings.resizeByPercent ? (e.style.width = this.pixToPerc(i / r * n, e.previousElementSibling || e.parentElement) + "%", e.style.height = null, e.removeAttribute("height")) : "" !== e.style.width ? (e.style.width = i / r * n + "px", e.style.height = n + "px") : (e.setAttribute("width", (i / r * n).toString()), e.setAttribute("height", n.toString())) : r > i ? this.parent.insertImageSettings.resizeByPercent ? (e.style.width = this.pixToPerc(t, e.previousElementSibling || e.parentElement) + "%", e.style.height = null, e.removeAttribute("height")) : "" !== e.style.width ? (e.style.width = t + "px", e.style.height = r / i * t + "px") : (e.setAttribute("width", t.toString()), e.setAttribute("height", (r / i * t).toString())) : this.parent.insertImageSettings.resizeByPercent ? (e.style.width = this.pixToPerc(t, e.previousElementSibling || e.parentElement) + "%", e.style.height = null, e.removeAttribute("height")) : "" !== e.style.width ? (e.style.width = t + "px", e.style.height = t + "px") : (e.setAttribute("width", t.toString()), e.setAttribute("height", t.toString()))
                    }
                }, e.prototype.pixToPerc = function(e, t) {
                    return e / parseFloat(getComputedStyle(t).width) * 100
                }, e.prototype.imgDupMouseMove = function(e, t, n) {
                    var i = this,
                        r = g() ? {
                            requestType: "images"
                        } : {
                            event: n,
                            requestType: "images"
                        };
                    this.parent.trigger("resizing", r, (function(n) {
                        if (n.cancel) i.cancelResizeAction();
                        else {
                            if (parseInt(i.parent.insertImageSettings.minWidth, 10) >= parseInt(e, 10) || parseInt(i.parent.insertImageSettings.maxWidth, 10) <= parseInt(e, 10)) return;
                            if (!i.parent.insertImageSettings.resizeByPercent && (parseInt(i.parent.insertImageSettings.minHeight, 10) >= parseInt(t, 10) || parseInt(i.parent.insertImageSettings.maxHeight, 10) <= parseInt(t, 10))) return;
                            i.imgEle.parentElement.style.cursor = "pointer", i.setAspectRatio(i.imgEle, parseInt(e, 10), parseInt(t, 10)), i.resizeImgDupPos(i.imgEle), i.imgResizePos(i.imgEle, i.imgResizeDiv), i.parent.setContentHeight("", !1)
                        }
                    }))
                }, e.prototype.resizing = function(e) {
                    var t = this.getPointX(e),
                        n = this.getPointY(e),
                        i = this.resizeBtnStat.botLeft || this.resizeBtnStat.topLeft ? -(t - this.pageX) : t - this.pageX,
                        r = this.resizeBtnStat.topLeft || this.resizeBtnStat.topRight ? -(n - this.pageY) : n - this.pageY,
                        o = parseInt(this.imgDupPos.width, 10) + i,
                        a = parseInt(this.imgDupPos.height, 10) + r;
                    this.pageX = t, this.pageY = n, this.resizeBtnStat.botRight ? this.imgDupMouseMove(o + "px", a + "px", e) : this.resizeBtnStat.botLeft ? this.imgDupMouseMove(o + "px", a + "px", e) : this.resizeBtnStat.topRight ? this.imgDupMouseMove(o + "px", a + "px", e) : this.resizeBtnStat.topLeft && this.imgDupMouseMove(o + "px", a + "px", e)
                }, e.prototype.cancelResizeAction = function() {
                    y.remove(this.contentModule.getDocument(), q.touchMoveEvent, this.resizing), y.remove(this.contentModule.getDocument(), q.touchEndEvent, this.resizeEnd), this.imgEle && this.imgResizeDiv && this.contentModule.getEditPanel().contains(this.imgResizeDiv) && (T(this.imgResizeDiv), this.imgEle.style.outline = "", this.imgResizeDiv = null, this.pageX = null, this.pageY = null)
                }, e.prototype.resizeImgDupPos = function(e) {
                    this.imgDupPos = {
                        width: "" !== e.style.height ? this.imgEle.style.width : e.width + "px",
                        height: "" !== e.style.height ? this.imgEle.style.height : e.height + "px"
                    }
                }, e.prototype.resizeBtnInit = function() {
                    return this.resizeBtnStat = {
                        botLeft: !1,
                        botRight: !1,
                        topRight: !1,
                        topLeft: !1
                    }
                }, e.prototype.deleteImg = function(e) {
                    "IMG" === e.selectNode[0].nodeName && (0 === this.parent.formatter.getUndoRedoStack().length && this.parent.formatter.saveData(), e.selection.restore(), this.contentModule.getEditPanel().querySelector(".e-img-resize") && this.remvoeResizEle(), this.parent.formatter.process(this.parent, e.args, e.args, {
                        selectNode: e.selectNode,
                        captionClass: "e-img-caption",
                        subCommand: e.args.item.subCommand
                    }), this.cancelResizeAction())
                }, e.prototype.onDocumentClick = function(e) {
                    var t = e.target;
                    "IMG" === t.nodeName && (this.imgEle = t), !h(this.dialogObj) && (!D(t, "#" + this.dialogObj.element.id) && this.parent.toolbarSettings.enable && this.parent.getToolbarElement() && !this.parent.getToolbarElement().contains(e.target) || this.parent.getToolbarElement() && this.parent.getToolbarElement().contains(e.target) && !D(t, "#" + this.parent.getID() + "_toolbar_Image") && !t.querySelector("#" + this.parent.getID() + "_toolbar_Image")) && (this.dialogObj.hide({
                        returnValue: !0
                    }), this.parent.isBlur = !0, $t(this.parent.element, "focusout")), "IMG" === e.target.tagName || !this.imgResizeDiv || this.quickToolObj && this.quickToolObj.imageQTBar && this.quickToolObj.imageQTBar.element.contains(e.target) || !this.contentModule.getEditPanel().contains(this.imgResizeDiv) || this.cancelResizeAction(), "IMG" !== t.tagName && this.contentModule.getEditPanel().querySelector(".e-img-resize") && (this.remvoeResizEle(), this.contentModule.getEditPanel().querySelector("img").style.outline = "")
                }, e.prototype.remvoeResizEle = function() {
                    y.remove(this.contentModule.getDocument(), q.touchMoveEvent, this.resizing), y.remove(this.contentModule.getDocument(), q.touchEndEvent, this.resizeEnd), T(this.contentModule.getEditPanel().querySelector(".e-img-resize"))
                }, e.prototype.dragStart = function(e) {
                    if ("IMG" !== e.target.nodeName) return !0;
                    this.parent.trigger("actionBegin", e, (function(t) {
                        t.cancel ? e.preventDefault() : (e.dataTransfer.effectAllowed = "copyMove", e.target.classList.add("e-rte-drag-image"))
                    }))
                }, e.prototype.dragEnter = function(e) {
                    e.dataTransfer.dropEffect = "copy", e.preventDefault()
                }, e.prototype.dragOver = function(e) {
                    if (!("edge" === q.info.name && e.dataTransfer.items[0].type.split("/")[0].indexOf("image") > -1 || q.isIE && "Files" === e.dataTransfer.types[0])) return !0;
                    e.preventDefault()
                }, e.prototype.dragDrop = function(e) {
                    var t = this,
                        n = this.parent.inputElement.ownerDocument.querySelector(".e-rte-drag-image");
                    if (!(n && "IMG" === n.tagName || e.dataTransfer.files.length > 0)) return !0;
                    this.parent.trigger("actionBegin", e, (function(n) {
                        if (n.cancel) e.preventDefault();
                        else {
                            if (D(e.target, "#" + t.parent.getID() + "_toolbar")) return void e.preventDefault();
                            t.parent.element.querySelector(".e-img-resize") && T(t.imgResizeDiv), e.preventDefault();
                            var i = void 0;
                            if (t.contentModule.getDocument().caretRangeFromPoint ? i = t.contentModule.getDocument().caretRangeFromPoint(e.clientX, e.clientY) : e.rangeParent ? (i = t.contentModule.getDocument().createRange()).setStart(e.rangeParent, e.rangeOffset) : i = t.getDropRange(e.clientX, e.clientY), t.parent.notify("selectRange", {
                                    range: i
                                }), t.parent.element.querySelector(".e-droparea")) return;
                            t.insertDragImage(e)
                        }
                    }))
                }, e.prototype.getDropRange = function(e, t) {
                    var n = this.contentModule.getDocument().createRange();
                    this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(), n);
                    var i = this.contentModule.getDocument().elementFromPoint(e, t),
                        r = i.childNodes.length > 0 ? i.childNodes[0] : i,
                        o = 0;
                    if ("<br>" === this.parent.inputElement.firstChild.innerHTML) n.setStart(r, o), n.setEnd(r, o);
                    else {
                        var a = void 0;
                        do {
                            o++, n.setStart(r, o), n.setEnd(r, o + 1), a = n.getBoundingClientRect()
                        } while (a.left < e && o < r.length - 1)
                    }
                    return n
                }, e.prototype.insertDragImage = function(e) {
                    e.preventDefault();
                    var t = this.parent.element.querySelector("e-popup-open");
                    if (this.parent.notify("drop", {
                            args: e
                        }), t && t.classList.add("e-hide"), e.dataTransfer.files.length > 0);
                    else {
                        var n = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),
                            i = this.parent.inputElement.ownerDocument.querySelector(".e-rte-drag-image");
                        if (i && "IMG" === i.tagName) {
                            i.nextElementSibling && i.nextElementSibling.classList.contains("e-img-inner") ? n.insertNode(i.parentElement.parentElement) : n.insertNode(i), i.classList.remove("e-rte-drag-image"), this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());
                            var r = e;
                            this.resizeStart(r, i)
                        }
                    }
                }, e.prototype.destroy = function() {
                    this.removeEventListener()
                }, e.prototype.getModuleName = function() {
                    return "image"
                }, e
            }(),
            Gn = {
                bold: !1,
                italic: !1,
                subscript: !1,
                superscript: !1,
                strikethrough: !1,
                orderedlist: !1,
                unorderedlist: !1,
                underline: !1,
                alignments: null,
                backgroundcolor: null,
                fontcolor: null,
                fontname: null,
                fontsize: null,
                formats: null,
                createlink: !1,
                insertcode: !1
            },
            Un = function() {
                function e() {}
                return e.get = function(e, t, n, i, r, o) {
                    for (var a = JSON.parse(JSON.stringify(Gn)), s = JSON.parse(JSON.stringify(Gn)), l = new hn, d = o ? [o] : l.getNodeCollection(l.getRange(e)), c = d.length, h = 0; h < d.length; h++)("BR" !== d[h].nodeName && 3 !== d[h].nodeType || c > 1 && 3 === d[h].nodeType && "" === d[h].textContent.trim()) && (d.splice(h, 1), h--);
                    for (h = 0; h < d.length; h++) a = this.getFormatParent(e, a, d[h], t, n, i, r), (0 === h && a.bold || !a.bold) && (s.bold = a.bold), (0 === h && a.insertcode || !a.insertcode) && (s.insertcode = a.insertcode), (0 === h && a.italic || !a.italic) && (s.italic = a.italic), (0 === h && a.underline || !a.underline) && (s.underline = a.underline), (0 === h && a.strikethrough || !a.strikethrough) && (s.strikethrough = a.strikethrough), (0 === h && a.superscript || !a.superscript) && (s.superscript = a.superscript), (0 === h && a.subscript || !a.subscript) && (s.subscript = a.subscript), (0 === h && a.fontcolor || !a.fontcolor) && (s.fontcolor = a.fontcolor), (0 === h && a.fontname || !a.fontname) && (s.fontname = a.fontname), (0 === h && a.fontsize || !a.fontsize) && (s.fontsize = a.fontsize), (0 === h && a.backgroundcolor || !a.backgroundcolor) && (s.backgroundcolor = a.backgroundcolor), (0 === h && a.orderedlist || !a.orderedlist) && (s.orderedlist = a.orderedlist), (0 === h && a.unorderedlist || !a.unorderedlist) && (s.unorderedlist = a.unorderedlist), (0 === h && a.alignments || !a.alignments) && (s.alignments = a.alignments), (0 === h && a.formats || !a.formats) && (s.formats = a.formats), (0 === h && a.createlink || !a.createlink) && (s.createlink = a.createlink), a = JSON.parse(JSON.stringify(Gn));
                    return s
                }, e.getFormatParent = function(e, t, n, i, r, o, a) {
                    if (i.contains(n) || 3 === n.nodeType && 3 !== i.nodeType && i.contains(n.parentNode))
                        do {
                            t = this.isFormattedNode(e, t, n, r, o, a), n = n.parentNode
                        } while (n && n !== i);
                    return t
                }, e.isFormattedNode = function(e, t, n, i, r, o) {
                    return t.bold || (t.bold = Ln.isBold(n)), t.italic || (t.italic = Ln.isItalic(n)), t.underline || (t.underline = Ln.isUnderline(n)), t.strikethrough || (t.strikethrough = Ln.isStrikethrough(n)), t.superscript || (t.superscript = Ln.isSuperscript(n)), t.subscript || (t.subscript = Ln.isSubscript(n)), t.fontcolor || (t.fontcolor = this.isFontColor(e, n)), t.fontname || (t.fontname = this.isFontName(e, n, o)), t.fontsize || (t.fontsize = this.isFontSize(n, r)), t.backgroundcolor || (t.backgroundcolor = this.isBackgroundColor(n)), t.orderedlist || (t.orderedlist = this.isOrderedList(n)), t.unorderedlist || (t.unorderedlist = this.isUnorderedList(n)), t.alignments || (t.alignments = this.isAlignment(n)), t.formats || (t.formats = this.isFormats(n, i), "pre" === t.formats && (t.insertcode = !0)), t.createlink || (t.createlink = this.isLink(n)), t
                }, e.isFontColor = function(e, t) {
                    var n = t.style && t.style.color;
                    return null != n && "" !== n || 3 === t.nodeType || (n = this.getComputedStyle(e, t, "color")), null !== n && "" !== n && void 0 !== n ? n : null
                }, e.isLink = function(e) {
                    return "a" === e.nodeName.toLocaleLowerCase()
                }, e.isBackgroundColor = function(e) {
                    var t = e.style && e.style.backgroundColor;
                    return null !== t && "" !== t && void 0 !== t ? t : null
                }, e.isFontSize = function(e, t) {
                    var n = e.style && e.style.fontSize;
                    return null !== n && "" !== n && void 0 !== n && (null == t || t.indexOf(n) > -1) ? n : null
                }, e.isFontName = function(e, t, n) {
                    var i = t.style && t.style.fontFamily;
                    null != i && "" !== i || 3 === t.nodeType || (i = this.getComputedStyle(e, t, "font-family"));
                    var r = null;
                    return null !== i && "" !== i && void 0 !== i && (null == n || n.filter((function(e, t) {
                        var n = new RegExp(i, "i");
                        (e.replace(/"/g, "").replace(/ /g, "") === i.replace(/"/g, "").replace(/ /g, "") || e.search(n) > -1) && (r = t)
                    })) && null !== r) ? null !== r ? n[r] : i.replace(/"/g, "") : null
                }, e.isOrderedList = function(e) {
                    return "ol" === e.nodeName.toLocaleLowerCase()
                }, e.isUnorderedList = function(e) {
                    return "ul" === e.nodeName.toLocaleLowerCase()
                }, e.isAlignment = function(e) {
                    var t = e.style && e.style.textAlign;
                    return "left" === t ? "justifyleft" : "center" === t ? "justifycenter" : "right" === t ? "justifyright" : "justify" === t ? "justifyfull" : null
                }, e.isFormats = function(e, t) {
                    return null == t && ln.indexOf(e.nodeName.toLocaleLowerCase()) > -1 || null != t && t.indexOf(e.nodeName.toLocaleLowerCase()) > -1 ? e.nodeName.toLocaleLowerCase() : null
                }, e.getComputedStyle = function(e, t, n) {
                    return e.defaultView.getComputedStyle(t, null).getPropertyValue(n)
                }, e
            }();
        an.Inject(_n, qn);
        var Vn = {};
        Vn.RichTextEditor = an, Vn.HtmlEditor = _n, Vn.Image = qn, Vn.ToolbarStatus = Un;
        var Wn = {
            richtexteditor: Vn
        };
        window.ejs = Wn, window.ej = Wn
    }
});